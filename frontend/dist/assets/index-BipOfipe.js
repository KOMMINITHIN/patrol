var Y2=Object.defineProperty;var K2=(t,e,n)=>e in t?Y2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Di=(t,e,n)=>K2(t,typeof e!="symbol"?e+"":e,n);function X2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var J2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ix={exports:{}},Ud={},sx={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),Q2=Symbol.for("react.portal"),eT=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),rT=Symbol.for("react.provider"),iT=Symbol.for("react.context"),sT=Symbol.for("react.forward_ref"),oT=Symbol.for("react.suspense"),aT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),r0=Symbol.iterator;function uT(t){return t===null||typeof t!="object"?null:(t=r0&&t[r0]||t["@@iterator"],typeof t=="function"?t:null)}var ox={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ax=Object.assign,lx={};function yl(t,e,n){this.props=t,this.context=e,this.refs=lx,this.updater=n||ox}yl.prototype.isReactComponent={};yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ux(){}ux.prototype=yl.prototype;function Mg(t,e,n){this.props=t,this.context=e,this.refs=lx,this.updater=n||ox}var Ig=Mg.prototype=new ux;Ig.constructor=Mg;ax(Ig,yl.prototype);Ig.isPureReactComponent=!0;var i0=Array.isArray,cx=Object.prototype.hasOwnProperty,zg={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function dx(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)cx.call(e,r)&&!hx.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fc,type:t,key:o,ref:a,props:i,_owner:zg.current}}function cT(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function hT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s0=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hT(""+t.key):e.toString(36)}function Lh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fc:case Q2:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Zf(a,0):r,i0(i)?(n="",t!=null&&(n=t.replace(s0,"$&/")+"/"),Lh(i,e,n,"",function(d){return d})):i!=null&&(Dg(i)&&(i=cT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(s0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",i0(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+Zf(o,u);a+=Lh(o,e,n,c,i)}else if(c=uT(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+Zf(o,u++),a+=Lh(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vc(t,e,n){if(t==null)return t;var r=[],i=0;return Lh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},Nh={transition:null},fT={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:zg};function fx(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!Dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=yl;Le.Fragment=eT;Le.Profiler=nT;Le.PureComponent=Mg;Le.StrictMode=tT;Le.Suspense=oT;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fT;Le.act=fx;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ax({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=zg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)cx.call(e,c)&&!hx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:fc,type:t.type,key:i,ref:o,props:r,_owner:a}};Le.createContext=function(t){return t={$$typeof:iT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rT,_context:t},t.Consumer=t};Le.createElement=dx;Le.createFactory=function(t){var e=dx.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:sT,render:t}};Le.isValidElement=Dg;Le.lazy=function(t){return{$$typeof:lT,_payload:{_status:-1,_result:t},_init:dT}};Le.memo=function(t,e){return{$$typeof:aT,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};Le.unstable_act=fx;Le.useCallback=function(t,e){return On.current.useCallback(t,e)};Le.useContext=function(t){return On.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Le.useEffect=function(t,e){return On.current.useEffect(t,e)};Le.useId=function(){return On.current.useId()};Le.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return On.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Le.useRef=function(t){return On.current.useRef(t)};Le.useState=function(t){return On.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return On.current.useTransition()};Le.version="18.3.1";sx.exports=Le;var R=sx.exports;const Ki=Ag(R),pT=X2({__proto__:null,default:Ki},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT=R,gT=Symbol.for("react.element"),vT=Symbol.for("react.fragment"),_T=Object.prototype.hasOwnProperty,yT=mT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wT={key:!0,ref:!0,__self:!0,__source:!0};function px(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_T.call(e,r)&&!wT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gT,type:t,key:o,ref:a,props:i,_owner:yT.current}}Ud.Fragment=vT;Ud.jsx=px;Ud.jsxs=px;ix.exports=Ud;var f=ix.exports,Kp={},mx={exports:{}},yr={},gx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,Z){var j=M.length;M.push(Z);e:for(;0<j;){var X=j-1>>>1,ae=M[X];if(0<i(ae,Z))M[X]=Z,M[j]=ae,j=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Z=M[0],j=M.pop();if(j!==Z){M[0]=j;e:for(var X=0,ae=M.length,V=ae>>>1;X<V;){var K=2*(X+1)-1,le=M[K],se=K+1,be=M[se];if(0>i(le,j))se<ae&&0>i(be,le)?(M[X]=be,M[se]=j,X=se):(M[X]=le,M[K]=j,X=K);else if(se<ae&&0>i(be,j))M[X]=be,M[se]=j,X=se;else break e}}return Z}function i(M,Z){var j=M.sortIndex-Z.sortIndex;return j!==0?j:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,m=null,_=3,v=!1,k=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=M)r(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(d)}}function E(M){if(w=!1,x(M),!k)if(n(c)!==null)k=!0,G(P);else{var Z=n(d);Z!==null&&ee(E,Z.startTime-M)}}function P(M,Z){k=!1,w&&(w=!1,S(I),I=-1),v=!0;var j=_;try{for(x(Z),m=n(c);m!==null&&(!(m.expirationTime>Z)||M&&!W());){var X=m.callback;if(typeof X=="function"){m.callback=null,_=m.priorityLevel;var ae=X(m.expirationTime<=Z);Z=t.unstable_now(),typeof ae=="function"?m.callback=ae:m===n(c)&&r(c),x(Z)}else r(c);m=n(c)}if(m!==null)var V=!0;else{var K=n(d);K!==null&&ee(E,K.startTime-Z),V=!1}return V}finally{m=null,_=j,v=!1}}var N=!1,O=null,I=-1,D=5,B=-1;function W(){return!(t.unstable_now()-B<D)}function $(){if(O!==null){var M=t.unstable_now();B=M;var Z=!0;try{Z=O(!0,M)}finally{Z?ne():(N=!1,O=null)}}else N=!1}var ne;if(typeof b=="function")ne=function(){b($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,de=Y.port2;Y.port1.onmessage=$,ne=function(){de.postMessage(null)}}else ne=function(){C($,0)};function G(M){O=M,N||(N=!0,ne())}function ee(M,Z){I=C(function(){M(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,G(P))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var j=_;_=Z;try{return M()}finally{_=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=_;_=M;try{return Z()}finally{_=j}},t.unstable_scheduleCallback=function(M,Z,j){var X=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?X+j:X):j=X,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=j+ae,M={id:p++,callback:Z,priorityLevel:M,startTime:j,expirationTime:ae,sortIndex:-1},j>X?(M.sortIndex=j,e(d,M),n(c)===null&&M===n(d)&&(w?(S(I),I=-1):w=!0,ee(E,j-X))):(M.sortIndex=ae,e(c,M),k||v||(k=!0,G(P))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var Z=_;return function(){var j=_;_=Z;try{return M.apply(this,arguments)}finally{_=j}}}})(vx);gx.exports=vx;var xT=gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=R,gr=xT;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _x=new Set,Ru={};function Xo(t,e){il(t,e),il(t+"Capture",e)}function il(t,e){for(Ru[t]=e,t=0;t<e.length;t++)_x.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o0={},a0={};function ST(t){return Xp.call(a0,t)?!0:Xp.call(o0,t)?!1:kT.test(t)?a0[t]=!0:(o0[t]=!0,!1)}function TT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ET(t,e,n,r){if(e===null||typeof e>"u"||TT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function An(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new An(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new An(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new An(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new An(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new An(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new An(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new An(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new An(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new An(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bg,Fg);ln[e]=new An(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bg,Fg);ln[e]=new An(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bg,Fg);ln[e]=new An(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new An(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new An(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ug(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ET(e,n,i,r)&&(n=null),r||i===null?ST(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=bT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),xx=Symbol.for("react.offscreen"),l0=Symbol.iterator;function zl(t){return t===null||typeof t!="object"?null:(t=l0&&t[l0]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Gf;function Kl(t){if(Gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gf=e&&e[1]||""}return`
`+Gf+t}var qf=!1;function Yf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function CT(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=Yf(t.type,!1),t;case 11:return t=Yf(t.type.render,!1),t;case 1:return t=Yf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ja:return"Fragment";case Pa:return"Portal";case Jp:return"Profiler";case $g:return"StrictMode";case Qp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wx:return(t.displayName||"Context")+".Consumer";case yx:return(t._context.displayName||"Context")+".Provider";case Wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vg:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function PT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===$g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jT(t){var e=bx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zc(t){t._valueTracker||(t._valueTracker=jT(t))}function kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sx(t,e){e=e.checked,e!=null&&Ug(t,"checked",e,!1)}function rm(t,e){Sx(t,e);var n=Hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,Hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||ed(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function Ha(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Xl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hs(n)}}function Tx(t,e){var n=Hs(e.value),r=Hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ex(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ex(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Cx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LT=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(t){LT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lu[e]=lu[t]})});function Px(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lu.hasOwnProperty(t)&&lu[t]?(""+e).trim():e+"px"}function jx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Px(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NT=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function am(t,e){if(e){if(NT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function Hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,Za=null,Ga=null;function f0(t){if(t=gc(t)){if(typeof cm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Zd(e),cm(t.stateNode,t.type,e))}}function Lx(t){Za?Ga?Ga.push(t):Ga=[t]:Za=t}function Nx(){if(Za){var t=Za,e=Ga;if(Ga=Za=null,f0(t),e)for(t=0;t<e.length;t++)f0(e[t])}}function Rx(t,e){return t(e)}function Ox(){}var Kf=!1;function Ax(t,e,n){if(Kf)return t(e,n);Kf=!0;try{return Rx(t,e,n)}finally{Kf=!1,(Za!==null||Ga!==null)&&(Ox(),Nx())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Zd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var hm=!1;if(Qi)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{hm=!1}function RT(t,e,n,r,i,o,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var uu=!1,td=null,nd=!1,dm=null,OT={onError:function(t){uu=!0,td=t}};function AT(t,e,n,r,i,o,a,u,c){uu=!1,td=null,RT.apply(OT,arguments)}function MT(t,e,n,r,i,o,a,u,c){if(AT.apply(this,arguments),uu){if(uu){var d=td;uu=!1,td=null}else throw Error(q(198));nd||(nd=!0,dm=d)}}function Jo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p0(t){if(Jo(t)!==t)throw Error(q(188))}function IT(t){var e=t.alternate;if(!e){if(e=Jo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return p0(i),t;if(o===r)return p0(i),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Ix(t){return t=IT(t),t!==null?zx(t):null}function zx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zx(t);if(e!==null)return e;t=t.sibling}return null}var Dx=gr.unstable_scheduleCallback,m0=gr.unstable_cancelCallback,zT=gr.unstable_shouldYield,DT=gr.unstable_requestPaint,kt=gr.unstable_now,BT=gr.unstable_getCurrentPriorityLevel,Zg=gr.unstable_ImmediatePriority,Bx=gr.unstable_UserBlockingPriority,rd=gr.unstable_NormalPriority,FT=gr.unstable_LowPriority,Fx=gr.unstable_IdlePriority,$d=null,bi=null;function UT(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot($d,t,void 0,(t.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:VT,$T=Math.log,WT=Math.LN2;function VT(t){return t>>>=0,t===0?32:31-($T(t)/WT|0)|0}var qc=64,Yc=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Jl(u):(o&=a,o!==0&&(r=Jl(o)))}else a=n&~i,a!==0?r=Jl(a):o!==0&&(r=Jl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ii(e),i=1<<n,r|=t[n],e&=~i;return r}function HT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ii(o),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=HT(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ux(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function Xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ii(e),t[e]=n}function GT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ii(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ii(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function $x(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wx,qg,Vx,Hx,Zx,pm=!1,Kc=[],As=null,Ms=null,Is=null,Mu=new Map,Iu=new Map,bs=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g0(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Bl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&qg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YT(t,e,n,r,i){switch(e){case"focusin":return As=Bl(As,t,e,n,r,i),!0;case"dragenter":return Ms=Bl(Ms,t,e,n,r,i),!0;case"mouseover":return Is=Bl(Is,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mu.set(o,Bl(Mu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Iu.set(o,Bl(Iu.get(o)||null,t,e,n,r,i)),!0}return!1}function Gx(t){var e=Co(t.target);if(e!==null){var n=Jo(e);if(n!==null){if(e=n.tag,e===13){if(e=Mx(n),e!==null){t.blockedOn=e,Zx(t.priority,function(){Vx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return e=gc(n),e!==null&&qg(e),t.blockedOn=n,!1;e.shift()}return!0}function v0(t,e,n){Rh(t)&&n.delete(e)}function KT(){pm=!1,As!==null&&Rh(As)&&(As=null),Ms!==null&&Rh(Ms)&&(Ms=null),Is!==null&&Rh(Is)&&(Is=null),Mu.forEach(v0),Iu.forEach(v0)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,KT)))}function zu(t){function e(i){return Fl(i,t)}if(0<Kc.length){Fl(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Fl(As,t),Ms!==null&&Fl(Ms,t),Is!==null&&Fl(Is,t),Mu.forEach(e),Iu.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)Gx(n),n.blockedOn===null&&bs.shift()}var qa=os.ReactCurrentBatchConfig,sd=!0;function XT(t,e,n,r){var i=Be,o=qa.transition;qa.transition=null;try{Be=1,Yg(t,e,n,r)}finally{Be=i,qa.transition=o}}function JT(t,e,n,r){var i=Be,o=qa.transition;qa.transition=null;try{Be=4,Yg(t,e,n,r)}finally{Be=i,qa.transition=o}}function Yg(t,e,n,r){if(sd){var i=mm(t,e,n,r);if(i===null)ap(t,e,r,od,n),g0(t,r);else if(YT(i,t,e,n,r))r.stopPropagation();else if(g0(t,r),e&4&&-1<qT.indexOf(t)){for(;i!==null;){var o=gc(i);if(o!==null&&Wx(o),o=mm(t,e,n,r),o===null&&ap(t,e,r,od,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ap(t,e,r,null,n)}}var od=null;function mm(t,e,n,r){if(od=null,t=Hg(r),t=Co(t),t!==null)if(e=Jo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return od=t,null}function qx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BT()){case Zg:return 1;case Bx:return 4;case rd:case FT:return 16;case Fx:return 536870912;default:return 16}default:return 16}}var Es=null,Kg=null,Oh=null;function Yx(){if(Oh)return Oh;var t,e=Kg,n=e.length,r,i="value"in Es?Es.value:Es.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Oh=i.slice(t,1<r?1-r:void 0)}function Ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function _0(){return!1}function wr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xc:_0,this.isPropagationStopped=_0,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=wr(wl),mc=ft({},wl,{view:0,detail:0}),QT=wr(mc),Jf,Qf,Ul,Wd=ft({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(Jf=t.screenX-Ul.screenX,Qf=t.screenY-Ul.screenY):Qf=Jf=0,Ul=t),Jf)},movementY:function(t){return"movementY"in t?t.movementY:Qf}}),y0=wr(Wd),eE=ft({},Wd,{dataTransfer:0}),tE=wr(eE),nE=ft({},mc,{relatedTarget:0}),ep=wr(nE),rE=ft({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=wr(rE),sE=ft({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oE=wr(sE),aE=ft({},wl,{data:0}),w0=wr(aE),lE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cE[t])?!!e[t]:!1}function Jg(){return hE}var dE=ft({},mc,{key:function(t){if(t.key){var e=lE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(t){return t.type==="keypress"?Ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fE=wr(dE),pE=ft({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x0=wr(pE),mE=ft({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),gE=wr(mE),vE=ft({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_E=wr(vE),yE=ft({},Wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wE=wr(yE),xE=[9,13,27,32],Qg=Qi&&"CompositionEvent"in window,cu=null;Qi&&"documentMode"in document&&(cu=document.documentMode);var bE=Qi&&"TextEvent"in window&&!cu,Kx=Qi&&(!Qg||cu&&8<cu&&11>=cu),b0=" ",k0=!1;function Xx(t,e){switch(t){case"keyup":return xE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function kE(t,e){switch(t){case"compositionend":return Jx(e);case"keypress":return e.which!==32?null:(k0=!0,b0);case"textInput":return t=e.data,t===b0&&k0?null:t;default:return null}}function SE(t,e){if(La)return t==="compositionend"||!Qg&&Xx(t,e)?(t=Yx(),Oh=Kg=Es=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kx&&e.locale!=="ko"?null:e.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TE[t.type]:e==="textarea"}function Qx(t,e,n,r){Lx(r),e=ad(e,"onChange"),0<e.length&&(n=new Xg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hu=null,Du=null;function EE(t){c1(t,0)}function Vd(t){var e=Oa(t);if(kx(e))return t}function CE(t,e){if(t==="change")return e}var e1=!1;if(Qi){var tp;if(Qi){var np="oninput"in document;if(!np){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),np=typeof T0.oninput=="function"}tp=np}else tp=!1;e1=tp&&(!document.documentMode||9<document.documentMode)}function E0(){hu&&(hu.detachEvent("onpropertychange",t1),Du=hu=null)}function t1(t){if(t.propertyName==="value"&&Vd(Du)){var e=[];Qx(e,Du,t,Hg(t)),Ax(EE,e)}}function PE(t,e,n){t==="focusin"?(E0(),hu=e,Du=n,hu.attachEvent("onpropertychange",t1)):t==="focusout"&&E0()}function jE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(Du)}function LE(t,e){if(t==="click")return Vd(e)}function NE(t,e){if(t==="input"||t==="change")return Vd(e)}function RE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oi=typeof Object.is=="function"?Object.is:RE;function Bu(t,e){if(oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xp.call(e,i)||!oi(t[i],e[i]))return!1}return!0}function C0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P0(t,e){var n=C0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C0(n)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r1(){for(var t=window,e=ed();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ed(t.document)}return e}function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OE(t){var e=r1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(r!==null&&ev(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=P0(n,o);var a=P0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AE=Qi&&"documentMode"in document&&11>=document.documentMode,Na=null,gm=null,du=null,vm=!1;function j0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Na==null||Na!==ed(r)||(r=Na,"selectionStart"in r&&ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),du&&Bu(du,r)||(du=r,r=ad(gm,"onSelect"),0<r.length&&(e=new Xg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ra={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},rp={},i1={};Qi&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Hd(t){if(rp[t])return rp[t];if(!Ra[t])return t;var e=Ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i1)return rp[t]=e[n];return t}var s1=Hd("animationend"),o1=Hd("animationiteration"),a1=Hd("animationstart"),l1=Hd("transitionend"),u1=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){u1.set(t,e),Xo(e,[t])}for(var ip=0;ip<L0.length;ip++){var sp=L0[ip],ME=sp.toLowerCase(),IE=sp[0].toUpperCase()+sp.slice(1);Xs(ME,"on"+IE)}Xs(s1,"onAnimationEnd");Xs(o1,"onAnimationIteration");Xs(a1,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(l1,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function N0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MT(r,e,void 0,t),t.currentTarget=null}function c1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;N0(i,u,d),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;N0(i,u,d),o=c}}}if(nd)throw t=dm,nd=!1,dm=null,t}function Je(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var r=t+"__bubble";n.has(r)||(h1(e,t,2,!1),n.add(r))}function op(t,e,n){var r=0;e&&(r|=4),h1(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Fu(t){if(!t[Qc]){t[Qc]=!0,_x.forEach(function(n){n!=="selectionchange"&&(zE.has(n)||op(n,!1,t),op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,op("selectionchange",!1,e))}}function h1(t,e,n,r){switch(qx(e)){case 1:var i=XT;break;case 4:i=JT;break;default:i=Yg}n=i.bind(null,e,n,t),i=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ap(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Co(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}u=u.parentNode}}r=r.return}Ax(function(){var d=o,p=Hg(n),m=[];e:{var _=u1.get(t);if(_!==void 0){var v=Xg,k=t;switch(t){case"keypress":if(Ah(n)===0)break e;case"keydown":case"keyup":v=fE;break;case"focusin":k="focus",v=ep;break;case"focusout":k="blur",v=ep;break;case"beforeblur":case"afterblur":v=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=gE;break;case s1:case o1:case a1:v=iE;break;case l1:v=_E;break;case"scroll":v=QT;break;case"wheel":v=wE;break;case"copy":case"cut":case"paste":v=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=x0}var w=(e&4)!==0,C=!w&&t==="scroll",S=w?_!==null?_+"Capture":null:_;w=[];for(var b=d,x;b!==null;){x=b;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,S!==null&&(E=Au(b,S),E!=null&&w.push(Uu(b,E,x)))),C)break;b=b.return}0<w.length&&(_=new v(_,k,null,n,p),m.push({event:_,listeners:w}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",_&&n!==um&&(k=n.relatedTarget||n.fromElement)&&(Co(k)||k[es]))break e;if((v||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=d,k=k?Co(k):null,k!==null&&(C=Jo(k),k!==C||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=d),v!==k)){if(w=y0,E="onMouseLeave",S="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=x0,E="onPointerLeave",S="onPointerEnter",b="pointer"),C=v==null?_:Oa(v),x=k==null?_:Oa(k),_=new w(E,b+"leave",v,n,p),_.target=C,_.relatedTarget=x,E=null,Co(p)===d&&(w=new w(S,b+"enter",k,n,p),w.target=x,w.relatedTarget=C,E=w),C=E,v&&k)t:{for(w=v,S=k,b=0,x=w;x;x=ua(x))b++;for(x=0,E=S;E;E=ua(E))x++;for(;0<b-x;)w=ua(w),b--;for(;0<x-b;)S=ua(S),x--;for(;b--;){if(w===S||S!==null&&w===S.alternate)break t;w=ua(w),S=ua(S)}w=null}else w=null;v!==null&&R0(m,_,v,w,!1),k!==null&&C!==null&&R0(m,C,k,w,!0)}}e:{if(_=d?Oa(d):window,v=_.nodeName&&_.nodeName.toLowerCase(),v==="select"||v==="input"&&_.type==="file")var P=CE;else if(S0(_))if(e1)P=NE;else{P=jE;var N=PE}else(v=_.nodeName)&&v.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(P=LE);if(P&&(P=P(t,d))){Qx(m,P,n,p);break e}N&&N(t,_,d),t==="focusout"&&(N=_._wrapperState)&&N.controlled&&_.type==="number"&&im(_,"number",_.value)}switch(N=d?Oa(d):window,t){case"focusin":(S0(N)||N.contentEditable==="true")&&(Na=N,gm=d,du=null);break;case"focusout":du=gm=Na=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,j0(m,n,p);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":j0(m,n,p)}var O;if(Qg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else La?Xx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Kx&&n.locale!=="ko"&&(La||I!=="onCompositionStart"?I==="onCompositionEnd"&&La&&(O=Yx()):(Es=p,Kg="value"in Es?Es.value:Es.textContent,La=!0)),N=ad(d,I),0<N.length&&(I=new w0(I,t,null,n,p),m.push({event:I,listeners:N}),O?I.data=O:(O=Jx(n),O!==null&&(I.data=O)))),(O=bE?kE(t,n):SE(t,n))&&(d=ad(d,"onBeforeInput"),0<d.length&&(p=new w0("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=O))}c1(m,e)})}function Uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Au(t,n),o!=null&&r.unshift(Uu(t,o,i)),o=Au(t,e),o!=null&&r.push(Uu(t,o,i))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R0(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=Au(n,o),c!=null&&a.unshift(Uu(n,c,u))):i||(c=Au(n,o),c!=null&&a.push(Uu(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function O0(t){return(typeof t=="string"?t:""+t).replace(DE,`
`).replace(BE,"")}function eh(t,e,n){if(e=O0(e),O0(t)!==e&&n)throw Error(q(425))}function ld(){}var _m=null,ym=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch($E)}:xm;function $E(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zu(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xl=Math.random().toString(36).slice(2),vi="__reactFiber$"+xl,$u="__reactProps$"+xl,es="__reactContainer$"+xl,bm="__reactEvents$"+xl,WE="__reactListeners$"+xl,VE="__reactHandles$"+xl;function Co(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[es]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M0(t);t!==null;){if(n=t[vi])return n;t=M0(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[vi]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Zd(t){return t[$u]||null}var km=[],Aa=-1;function Js(t){return{current:t}}function Qe(t){0>Aa||(t.current=km[Aa],km[Aa]=null,Aa--)}function Ke(t,e){Aa++,km[Aa]=t.current,t.current=e}var Zs={},yn=Js(Zs),Hn=Js(!1),Wo=Zs;function sl(t,e){var n=t.type.contextTypes;if(!n)return Zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function ud(){Qe(Hn),Qe(yn)}function I0(t,e,n){if(yn.current!==Zs)throw Error(q(168));Ke(yn,e),Ke(Hn,n)}function d1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,PT(t)||"Unknown",i));return ft({},n,r)}function cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Wo=yn.current,Ke(yn,t),Ke(Hn,Hn.current),!0}function z0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=d1(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,Qe(Hn),Qe(yn),Ke(yn,t)):Qe(Hn),Ke(Hn,n)}var Wi=null,Gd=!1,up=!1;function f1(t){Wi===null?Wi=[t]:Wi.push(t)}function HE(t){Gd=!0,f1(t)}function Qs(){if(!up&&Wi!==null){up=!0;var t=0,e=Be;try{var n=Wi;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wi=null,Gd=!1}catch(i){throw Wi!==null&&(Wi=Wi.slice(t+1)),Dx(Zg,Qs),i}finally{Be=e,up=!1}}return null}var Ma=[],Ia=0,hd=null,dd=0,Rr=[],Or=0,Vo=null,Gi=1,qi="";function yo(t,e){Ma[Ia++]=dd,Ma[Ia++]=hd,hd=t,dd=e}function p1(t,e,n){Rr[Or++]=Gi,Rr[Or++]=qi,Rr[Or++]=Vo,Vo=t;var r=Gi;t=qi;var i=32-ii(r)-1;r&=~(1<<i),n+=1;var o=32-ii(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Gi=1<<32-ii(e)+i|n<<i|r,qi=o+t}else Gi=1<<o|n<<i|r,qi=t}function tv(t){t.return!==null&&(yo(t,1),p1(t,1,0))}function nv(t){for(;t===hd;)hd=Ma[--Ia],Ma[Ia]=null,dd=Ma[--Ia],Ma[Ia]=null;for(;t===Vo;)Vo=Rr[--Or],Rr[Or]=null,qi=Rr[--Or],Rr[Or]=null,Gi=Rr[--Or],Rr[Or]=null}var pr=null,hr=null,it=!1,ri=null;function m1(t,e){var n=Ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,hr=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,hr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vo!==null?{id:Gi,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,hr=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tm(t){if(it){var e=hr;if(e){var n=e;if(!D0(t,e)){if(Sm(t))throw Error(q(418));e=zs(n.nextSibling);var r=pr;e&&D0(t,e)?m1(r,n):(t.flags=t.flags&-4097|2,it=!1,pr=t)}}else{if(Sm(t))throw Error(q(418));t.flags=t.flags&-4097|2,it=!1,pr=t}}}function B0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function th(t){if(t!==pr)return!1;if(!it)return B0(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=hr)){if(Sm(t))throw g1(),Error(q(418));for(;e;)m1(t,e),e=zs(e.nextSibling)}if(B0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hr=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hr=null}}else hr=pr?zs(t.stateNode.nextSibling):null;return!0}function g1(){for(var t=hr;t;)t=zs(t.nextSibling)}function ol(){hr=pr=null,it=!1}function rv(t){ri===null?ri=[t]:ri.push(t)}var ZE=os.ReactCurrentBatchConfig;function $l(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=i.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function nh(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F0(t){var e=t._init;return e(t._payload)}function v1(t){function e(S,b){if(t){var x=S.deletions;x===null?(S.deletions=[b],S.flags|=16):x.push(b)}}function n(S,b){if(!t)return null;for(;b!==null;)e(S,b),b=b.sibling;return null}function r(S,b){for(S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function i(S,b){return S=Us(S,b),S.index=0,S.sibling=null,S}function o(S,b,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<b?(S.flags|=2,b):x):(S.flags|=2,b)):(S.flags|=1048576,b)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,b,x,E){return b===null||b.tag!==6?(b=gp(x,S.mode,E),b.return=S,b):(b=i(b,x),b.return=S,b)}function c(S,b,x,E){var P=x.type;return P===ja?p(S,b,x.props.children,E,x.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ys&&F0(P)===b.type)?(E=i(b,x.props),E.ref=$l(S,b,x),E.return=S,E):(E=Uh(x.type,x.key,x.props,null,S.mode,E),E.ref=$l(S,b,x),E.return=S,E)}function d(S,b,x,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=vp(x,S.mode,E),b.return=S,b):(b=i(b,x.children||[]),b.return=S,b)}function p(S,b,x,E,P){return b===null||b.tag!==7?(b=Ao(x,S.mode,E,P),b.return=S,b):(b=i(b,x),b.return=S,b)}function m(S,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=gp(""+b,S.mode,x),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hc:return x=Uh(b.type,b.key,b.props,null,S.mode,x),x.ref=$l(S,null,b),x.return=S,x;case Pa:return b=vp(b,S.mode,x),b.return=S,b;case ys:var E=b._init;return m(S,E(b._payload),x)}if(Xl(b)||zl(b))return b=Ao(b,S.mode,x,null),b.return=S,b;nh(S,b)}return null}function _(S,b,x,E){var P=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:u(S,b,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:return x.key===P?c(S,b,x,E):null;case Pa:return x.key===P?d(S,b,x,E):null;case ys:return P=x._init,_(S,b,P(x._payload),E)}if(Xl(x)||zl(x))return P!==null?null:p(S,b,x,E,null);nh(S,x)}return null}function v(S,b,x,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(x)||null,u(b,S,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return S=S.get(E.key===null?x:E.key)||null,c(b,S,E,P);case Pa:return S=S.get(E.key===null?x:E.key)||null,d(b,S,E,P);case ys:var N=E._init;return v(S,b,x,N(E._payload),P)}if(Xl(E)||zl(E))return S=S.get(x)||null,p(b,S,E,P,null);nh(b,E)}return null}function k(S,b,x,E){for(var P=null,N=null,O=b,I=b=0,D=null;O!==null&&I<x.length;I++){O.index>I?(D=O,O=null):D=O.sibling;var B=_(S,O,x[I],E);if(B===null){O===null&&(O=D);break}t&&O&&B.alternate===null&&e(S,O),b=o(B,b,I),N===null?P=B:N.sibling=B,N=B,O=D}if(I===x.length)return n(S,O),it&&yo(S,I),P;if(O===null){for(;I<x.length;I++)O=m(S,x[I],E),O!==null&&(b=o(O,b,I),N===null?P=O:N.sibling=O,N=O);return it&&yo(S,I),P}for(O=r(S,O);I<x.length;I++)D=v(O,S,I,x[I],E),D!==null&&(t&&D.alternate!==null&&O.delete(D.key===null?I:D.key),b=o(D,b,I),N===null?P=D:N.sibling=D,N=D);return t&&O.forEach(function(W){return e(S,W)}),it&&yo(S,I),P}function w(S,b,x,E){var P=zl(x);if(typeof P!="function")throw Error(q(150));if(x=P.call(x),x==null)throw Error(q(151));for(var N=P=null,O=b,I=b=0,D=null,B=x.next();O!==null&&!B.done;I++,B=x.next()){O.index>I?(D=O,O=null):D=O.sibling;var W=_(S,O,B.value,E);if(W===null){O===null&&(O=D);break}t&&O&&W.alternate===null&&e(S,O),b=o(W,b,I),N===null?P=W:N.sibling=W,N=W,O=D}if(B.done)return n(S,O),it&&yo(S,I),P;if(O===null){for(;!B.done;I++,B=x.next())B=m(S,B.value,E),B!==null&&(b=o(B,b,I),N===null?P=B:N.sibling=B,N=B);return it&&yo(S,I),P}for(O=r(S,O);!B.done;I++,B=x.next())B=v(O,S,I,B.value,E),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?I:B.key),b=o(B,b,I),N===null?P=B:N.sibling=B,N=B);return t&&O.forEach(function($){return e(S,$)}),it&&yo(S,I),P}function C(S,b,x,E){if(typeof x=="object"&&x!==null&&x.type===ja&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hc:e:{for(var P=x.key,N=b;N!==null;){if(N.key===P){if(P=x.type,P===ja){if(N.tag===7){n(S,N.sibling),b=i(N,x.props.children),b.return=S,S=b;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ys&&F0(P)===N.type){n(S,N.sibling),b=i(N,x.props),b.ref=$l(S,N,x),b.return=S,S=b;break e}n(S,N);break}else e(S,N);N=N.sibling}x.type===ja?(b=Ao(x.props.children,S.mode,E,x.key),b.return=S,S=b):(E=Uh(x.type,x.key,x.props,null,S.mode,E),E.ref=$l(S,b,x),E.return=S,S=E)}return a(S);case Pa:e:{for(N=x.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(S,b.sibling),b=i(b,x.children||[]),b.return=S,S=b;break e}else{n(S,b);break}else e(S,b);b=b.sibling}b=vp(x,S.mode,E),b.return=S,S=b}return a(S);case ys:return N=x._init,C(S,b,N(x._payload),E)}if(Xl(x))return k(S,b,x,E);if(zl(x))return w(S,b,x,E);nh(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(S,b.sibling),b=i(b,x),b.return=S,S=b):(n(S,b),b=gp(x,S.mode,E),b.return=S,S=b),a(S)):n(S,b)}return C}var al=v1(!0),_1=v1(!1),fd=Js(null),pd=null,za=null,iv=null;function sv(){iv=za=pd=null}function ov(t){var e=fd.current;Qe(fd),t._currentValue=e}function Em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ya(t,e){pd=t,iv=za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(iv!==t)if(t={context:t,memoizedValue:e,next:null},za===null){if(pd===null)throw Error(q(308));za=t,pd.dependencies={lanes:0,firstContext:t}}else za=za.next=t;return e}var Po=null;function av(t){Po===null?Po=[t]:Po.push(t)}function y1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,av(e)):(n.next=i.next,i.next=n),e.interleaved=n,ts(t,r)}function ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function lv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ts(t,n)}return i=r.interleaved,i===null?(e.next=e,av(r)):(e.next=i.next,i.next=e),r.interleaved=e,ts(t,n)}function Mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}function U0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function md(t,e,n,r){var i=t.updateQueue;ws=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(o!==null){var m=i.baseState;a=0,p=d=c=null,u=o;do{var _=u.lane,v=u.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=t,w=u;switch(_=e,v=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){m=k.call(v,m,_);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,_=typeof k=="function"?k.call(v,m,_):k,_==null)break e;m=ft({},m,_);break e;case 2:ws=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else v={eventTime:v,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=v,c=m):p=p.next=v,a|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zo|=a,t.lanes=a,t.memoizedState=m}}function $0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var vc={},ki=Js(vc),Wu=Js(vc),Vu=Js(vc);function jo(t){if(t===vc)throw Error(q(174));return t}function uv(t,e){switch(Ke(Vu,e),Ke(Wu,t),Ke(ki,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Qe(ki),Ke(ki,e)}function ll(){Qe(ki),Qe(Wu),Qe(Vu)}function x1(t){jo(Vu.current);var e=jo(ki.current),n=om(e,t.type);e!==n&&(Ke(Wu,t),Ke(ki,n))}function cv(t){Wu.current===t&&(Qe(ki),Qe(Wu))}var ut=Js(0);function gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cp=[];function hv(){for(var t=0;t<cp.length;t++)cp[t]._workInProgressVersionPrimary=null;cp.length=0}var Ih=os.ReactCurrentDispatcher,hp=os.ReactCurrentBatchConfig,Ho=0,dt=null,Bt=null,Kt=null,vd=!1,fu=!1,Hu=0,GE=0;function hn(){throw Error(q(321))}function dv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oi(t[n],e[n]))return!1;return!0}function fv(t,e,n,r,i,o){if(Ho=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ih.current=t===null||t.memoizedState===null?XE:JE,t=n(r,i),fu){o=0;do{if(fu=!1,Hu=0,25<=o)throw Error(q(301));o+=1,Kt=Bt=null,e.updateQueue=null,Ih.current=QE,t=n(r,i)}while(fu)}if(Ih.current=_d,e=Bt!==null&&Bt.next!==null,Ho=0,Kt=Bt=dt=null,vd=!1,e)throw Error(q(300));return t}function pv(){var t=Hu!==0;return Hu=0,t}function pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?dt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function $r(){if(Bt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=Kt===null?dt.memoizedState:Kt.next;if(e!==null)Kt=e,Bt=t;else{if(t===null)throw Error(q(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Kt===null?dt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Zu(t,e){return typeof e=="function"?e(t):e}function dp(t){var e=$r(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,c=null,d=o;do{var p=d.lane;if((Ho&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=r):c=c.next=m,dt.lanes|=p,Zo|=p}d=d.next}while(d!==null&&d!==o);c===null?a=r:c.next=u,oi(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,Zo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=$r(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);oi(o,e.memoizedState)||(Vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function b1(){}function k1(t,e){var n=dt,r=$r(),i=e(),o=!oi(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,mv(E1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Gu(9,T1.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(q(349));Ho&30||S1(n,e,i)}return i}function S1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function T1(t,e,n,r){e.value=n,e.getSnapshot=r,C1(e)&&P1(t)}function E1(t,e,n){return n(function(){C1(e)&&P1(t)})}function C1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oi(t,n)}catch{return!0}}function P1(t){var e=ts(t,1);e!==null&&si(e,t,1,-1)}function W0(t){var e=pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:t},e.queue=t,t=t.dispatch=KE.bind(null,dt,t),[e.memoizedState,t]}function Gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j1(){return $r().memoizedState}function zh(t,e,n,r){var i=pi();dt.flags|=t,i.memoizedState=Gu(1|e,n,void 0,r===void 0?null:r)}function qd(t,e,n,r){var i=$r();r=r===void 0?null:r;var o=void 0;if(Bt!==null){var a=Bt.memoizedState;if(o=a.destroy,r!==null&&dv(r,a.deps)){i.memoizedState=Gu(e,n,o,r);return}}dt.flags|=t,i.memoizedState=Gu(1|e,n,o,r)}function V0(t,e){return zh(8390656,8,t,e)}function mv(t,e){return qd(2048,8,t,e)}function L1(t,e){return qd(4,2,t,e)}function N1(t,e){return qd(4,4,t,e)}function R1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O1(t,e,n){return n=n!=null?n.concat([t]):null,qd(4,4,R1.bind(null,e,t),n)}function gv(){}function A1(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M1(t,e){var n=$r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I1(t,e,n){return Ho&21?(oi(n,e)||(n=Ux(),dt.lanes|=n,Zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function qE(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=hp.transition;hp.transition={};try{t(!1),e()}finally{Be=n,hp.transition=r}}function z1(){return $r().memoizedState}function YE(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D1(t))B1(e,n);else if(n=y1(t,e,n,r),n!==null){var i=Nn();si(n,t,r,i),F1(n,e,r)}}function KE(t,e,n){var r=Fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D1(t))B1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,oi(u,a)){var c=e.interleaved;c===null?(i.next=i,av(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=y1(t,e,i,r),n!==null&&(i=Nn(),si(n,t,r,i),F1(n,e,r))}}function D1(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function B1(t,e){fu=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function F1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gg(t,n)}}var _d={readContext:Ur,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},XE={readContext:Ur,useCallback:function(t,e){return pi().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:V0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zh(4194308,4,R1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return zh(4,2,t,e)},useMemo:function(t,e){var n=pi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YE.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=pi();return t={current:t},e.memoizedState=t},useState:W0,useDebugValue:gv,useDeferredValue:function(t){return pi().memoizedState=t},useTransition:function(){var t=W0(!1),e=t[0];return t=qE.bind(null,t[1]),pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=pi();if(it){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Xt===null)throw Error(q(349));Ho&30||S1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,V0(E1.bind(null,r,o,t),[t]),r.flags|=2048,Gu(9,T1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=pi(),e=Xt.identifierPrefix;if(it){var n=qi,r=Gi;n=(r&~(1<<32-ii(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JE={readContext:Ur,useCallback:A1,useContext:Ur,useEffect:mv,useImperativeHandle:O1,useInsertionEffect:L1,useLayoutEffect:N1,useMemo:M1,useReducer:dp,useRef:j1,useState:function(){return dp(Zu)},useDebugValue:gv,useDeferredValue:function(t){var e=$r();return I1(e,Bt.memoizedState,t)},useTransition:function(){var t=dp(Zu)[0],e=$r().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1},QE={readContext:Ur,useCallback:A1,useContext:Ur,useEffect:mv,useImperativeHandle:O1,useInsertionEffect:L1,useLayoutEffect:N1,useMemo:M1,useReducer:fp,useRef:j1,useState:function(){return fp(Zu)},useDebugValue:gv,useDeferredValue:function(t){var e=$r();return Bt===null?e.memoizedState=t:I1(e,Bt.memoizedState,t)},useTransition:function(){var t=fp(Zu)[0],e=$r().memoizedState;return[t,e]},useMutableSource:b1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1};function Jr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yd={isMounted:function(t){return(t=t._reactInternals)?Jo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Fs(t),o=Xi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ds(t,o,i),e!==null&&(si(e,t,i,r),Mh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),i=Fs(t),o=Xi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ds(t,o,i),e!==null&&(si(e,t,i,r),Mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Fs(t),i=Xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ds(t,i,r),e!==null&&(si(e,t,r,n),Mh(e,t,r))}};function H0(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Bu(n,r)||!Bu(i,o):!0}function U1(t,e,n){var r=!1,i=Zs,o=e.contextType;return typeof o=="object"&&o!==null?o=Ur(o):(i=Zn(e)?Wo:yn.current,r=e.contextTypes,o=(r=r!=null)?sl(t,i):Zs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Z0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yd.enqueueReplaceState(e,e.state,null)}function Pm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ur(o):(o=Zn(e)?Wo:yn.current,i.context=sl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yd.enqueueReplaceState(i,i.state,null),md(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=CT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eC=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=Xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wd||(wd=!0,Bm=r),jm(t,e)},n}function W1(t,e,n){n=Xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jm(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function G0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pC.bind(null,t,e,n),e.then(t,t))}function q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xi(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var tC=os.ReactCurrentOwner,Vn=!1;function En(t,e,n,r){e.child=t===null?_1(e,null,n,r):al(e,t.child,n,r)}function K0(t,e,n,r,i){n=n.render;var o=e.ref;return Ya(e,i),r=fv(t,e,n,r,o,i),n=pv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(it&&n&&tv(e),e.flags|=1,En(t,e,r,i),e.child)}function X0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Sv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,V1(t,e,o,r,i)):(t=Uh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bu,n(a,r)&&t.ref===e.ref)return ns(t,e,i)}return e.flags|=1,t=Us(o,r),t.ref=e.ref,t.return=e,e.child=t}function V1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bu(o,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,ns(t,e,i)}return Lm(t,e,n,r,i)}function H1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ba,ir),ir|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Ba,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ke(Ba,ir),ir|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ke(Ba,ir),ir|=r;return En(t,e,i,n),e.child}function Z1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lm(t,e,n,r,i){var o=Zn(n)?Wo:yn.current;return o=sl(e,o),Ya(e,i),n=fv(t,e,n,r,o,i),r=pv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(it&&r&&tv(e),e.flags|=1,En(t,e,n,i),e.child)}function J0(t,e,n,r,i){if(Zn(n)){var o=!0;cd(e)}else o=!1;if(Ya(e,i),e.stateNode===null)Dh(t,e),U1(e,n,r),Pm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ur(d):(d=Zn(n)?Wo:yn.current,d=sl(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Z0(e,a,r,d),ws=!1;var _=e.memoizedState;a.state=_,md(e,r,a,i),c=e.memoizedState,u!==r||_!==c||Hn.current||ws?(typeof p=="function"&&(Cm(e,n,p,r),c=e.memoizedState),(u=ws||H0(e,n,u,r,_,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,w1(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Jr(e.type,u),a.props=d,m=e.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ur(c):(c=Zn(n)?Wo:yn.current,c=sl(e,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||_!==c)&&Z0(e,a,r,c),ws=!1,_=e.memoizedState,a.state=_,md(e,r,a,i);var k=e.memoizedState;u!==m||_!==k||Hn.current||ws?(typeof v=="function"&&(Cm(e,n,v,r),k=e.memoizedState),(d=ws||H0(e,n,d,r,_,k,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),a.props=r,a.state=k,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return Nm(t,e,n,r,o,i)}function Nm(t,e,n,r,i,o){Z1(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&z0(e,n,!1),ns(t,e,o);r=e.stateNode,tC.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=al(e,t.child,null,o),e.child=al(e,null,u,o)):En(t,e,u,o),e.memoizedState=r.state,i&&z0(e,n,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?I0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(t,e.context,!1),uv(t,e.containerInfo)}function Q0(t,e,n,r,i){return ol(),rv(i),e.flags|=256,En(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function q1(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(ut,i&1),t===null)return Tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Jd(a,r,0,null),t=Ao(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Om(n),e.memoizedState=Rm,t):vv(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return nC(t,e,a,r,u,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Us(u,o):(o=Ao(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Om(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return o=t.child,t=o.sibling,r=Us(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rh(t,e,n,r){return r!==null&&rv(r),al(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nC(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(q(422))),rh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Jd({mode:"visible",children:r.children},i,0,null),o=Ao(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&al(e,t.child,null,a),e.child.memoizedState=Om(a),e.memoizedState=Rm,o);if(!(e.mode&1))return rh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(q(419)),r=pp(o,r,void 0),rh(t,e,a,r)}if(u=(a&t.childLanes)!==0,Vn||u){if(r=Xt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ts(t,i),si(r,t,i,-1))}return kv(),r=pp(Error(q(421))),rh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mC.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hr=zs(i.nextSibling),pr=e,it=!0,ri=null,t!==null&&(Rr[Or++]=Gi,Rr[Or++]=qi,Rr[Or++]=Vo,Gi=t.id,qi=t.overflow,Vo=e),e=vv(e,r.children),e.flags|=4096,e)}function ey(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Em(t.return,e,n)}function mp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Y1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(En(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ey(t,n,e);else if(t.tag===19)ey(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mp(e,!0,n,null,o);break;case"together":mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rC(t,e,n){switch(e.tag){case 3:G1(e),ol();break;case 5:x1(e);break;case 1:Zn(e.type)&&cd(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(fd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?q1(t,e,n):(Ke(ut,ut.current&1),t=ns(t,e,n),t!==null?t.sibling:null);Ke(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,H1(t,e,n)}return ns(t,e,n)}var K1,Am,X1,J1;K1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};X1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jo(ki.current);var o=null;switch(n){case"input":i=nm(t,i),r=nm(t,r),o=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),o=[];break;case"textarea":i=sm(t,i),r=sm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ld)}am(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ru.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Je("scroll",t),o||u===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};J1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wl(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iC(t,e,n){var r=e.pendingProps;switch(nv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Zn(e.type)&&ud(),dn(e),null;case 3:return r=e.stateNode,ll(),Qe(Hn),Qe(yn),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&($m(ri),ri=null))),Am(t,e),dn(e),null;case 5:cv(e);var i=jo(Vu.current);if(n=e.type,t!==null&&e.stateNode!=null)X1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return dn(e),null}if(t=jo(ki.current),th(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vi]=e,r[$u]=o,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)Je(Ql[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":u0(r,o),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Je("invalid",r);break;case"textarea":h0(r,o),Je("invalid",r)}am(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&eh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&eh(r.textContent,u,t),i=["children",""+u]):Ru.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Je("scroll",r)}switch(n){case"input":Zc(r),c0(r,o,!0);break;case"textarea":Zc(r),d0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ld)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ex(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vi]=e,t[$u]=r,K1(t,e,!1,!1),e.stateNode=t;e:{switch(a=lm(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)Je(Ql[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":u0(t,r),i=nm(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),Je("invalid",t);break;case"textarea":h0(t,r),i=sm(t,r),Je("invalid",t);break;default:i=r}am(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?jx(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cx(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ou(t,c):typeof c=="number"&&Ou(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ru.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Je("scroll",t):c!=null&&Ug(t,o,c,a))}switch(n){case"input":Zc(t),c0(t,r,!1);break;case"textarea":Zc(t),d0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ha(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ha(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=jo(Vu.current),jo(ki.current),th(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(o=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return dn(e),null;case 13:if(Qe(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&hr!==null&&e.mode&1&&!(e.flags&128))g1(),ol(),e.flags|=98560,o=!1;else if(o=th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[vi]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),o=!1}else ri!==null&&($m(ri),ri=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?$t===0&&($t=3):kv())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return ll(),Am(t,e),t===null&&Fu(e.stateNode.containerInfo),dn(e),null;case 10:return ov(e.type._context),dn(e),null;case 17:return Zn(e.type)&&ud(),dn(e),null;case 19:if(Qe(ut),o=e.memoizedState,o===null)return dn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Wl(o,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gd(t),a!==null){for(e.flags|=128,Wl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&kt()>cl&&(e.flags|=128,r=!0,Wl(o,!1),e.lanes=4194304)}else{if(!r)if(t=gd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!it)return dn(e),null}else 2*kt()-o.renderingStartTime>cl&&n!==1073741824&&(e.flags|=128,r=!0,Wl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=kt(),e.sibling=null,n=ut.current,Ke(ut,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function sC(t,e){switch(nv(e),e.tag){case 1:return Zn(e.type)&&ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),Qe(Hn),Qe(yn),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cv(e),null;case 13:if(Qe(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(ut),null;case 4:return ll(),null;case 10:return ov(e.type._context),null;case 22:case 23:return bv(),null;case 24:return null;default:return null}}var ih=!1,mn=!1,oC=typeof WeakSet=="function"?WeakSet:Set,re=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Mm(t,e,n){try{n()}catch(r){gt(t,e,r)}}var ty=!1;function aC(t,e){if(_m=sd,t=r1(),ev(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,d=0,p=0,m=t,_=null;t:for(;;){for(var v;m!==n||i!==0&&m.nodeType!==3||(u=a+i),m!==o||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)_=m,m=v;for(;;){if(m===t)break t;if(_===n&&++d===i&&(u=a),_===o&&++p===r&&(c=a),(v=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ym={focusedElem:t,selectionRange:n},sd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,C=k.memoizedState,S=e.stateNode,b=S.getSnapshotBeforeUpdate(e.elementType===e.type?w:Jr(e.type,w),C);S.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(E){gt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return k=ty,ty=!1,k}function pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mm(e,n,o)}i=i.next}while(i!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Im(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q1(t){var e=t.alternate;e!==null&&(t.alternate=null,Q1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[$u],delete e[bm],delete e[WE],delete e[VE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eb(t){return t.tag===5||t.tag===3||t.tag===4}function ny(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ld));else if(r!==4&&(t=t.child,t!==null))for(zm(t,e,n),t=t.sibling;t!==null;)zm(t,e,n),t=t.sibling}function Dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dm(t,e,n),t=t.sibling;t!==null;)Dm(t,e,n),t=t.sibling}var rn=null,ti=!1;function ps(t,e,n){for(n=n.child;n!==null;)tb(t,e,n),n=n.sibling}function tb(t,e,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:mn||Da(n,e);case 6:var r=rn,i=ti;rn=null,ps(t,e,n),rn=r,ti=i,rn!==null&&(ti?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(ti?(t=rn,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),zu(t)):lp(rn,n.stateNode));break;case 4:r=rn,i=ti,rn=n.stateNode.containerInfo,ti=!0,ps(t,e,n),rn=r,ti=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Mm(n,e,a),i=i.next}while(i!==r)}ps(t,e,n);break;case 1:if(!mn&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){gt(n,e,u)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,ps(t,e,n),mn=r):ps(t,e,n);break;default:ps(t,e,n)}}function ry(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oC),e.forEach(function(r){var i=gC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:rn=u.stateNode,ti=!1;break e;case 3:rn=u.stateNode.containerInfo,ti=!0;break e;case 4:rn=u.stateNode.containerInfo,ti=!0;break e}u=u.return}if(rn===null)throw Error(q(160));tb(o,a,i),rn=null,ti=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){gt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nb(e,t),e=e.sibling}function nb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),fi(t),r&4){try{pu(3,t,t.return),Kd(3,t)}catch(w){gt(t,t.return,w)}try{pu(5,t,t.return)}catch(w){gt(t,t.return,w)}}break;case 1:Yr(e,t),fi(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(Yr(e,t),fi(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var i=t.stateNode;try{Ou(i,"")}catch(w){gt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Sx(i,o),lm(u,a);var d=lm(u,o);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?jx(i,m):p==="dangerouslySetInnerHTML"?Cx(i,m):p==="children"?Ou(i,m):Ug(i,p,m,d)}switch(u){case"input":rm(i,o);break;case"textarea":Tx(i,o);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Ha(i,!!o.multiple,v,!1):_!==!!o.multiple&&(o.defaultValue!=null?Ha(i,!!o.multiple,o.defaultValue,!0):Ha(i,!!o.multiple,o.multiple?[]:"",!1))}i[$u]=o}catch(w){gt(t,t.return,w)}}break;case 6:if(Yr(e,t),fi(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){gt(t,t.return,w)}}break;case 3:if(Yr(e,t),fi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(w){gt(t,t.return,w)}break;case 4:Yr(e,t),fi(t);break;case 13:Yr(e,t),fi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wv=kt())),r&4&&ry(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(d=mn)||p,Yr(e,t),mn=d):Yr(e,t),fi(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(re=t,p=t.child;p!==null;){for(m=re=p;re!==null;){switch(_=re,v=_.child,_.tag){case 0:case 11:case 14:case 15:pu(4,_,_.return);break;case 1:Da(_,_.return);var k=_.stateNode;if(typeof k.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(w){gt(r,n,w)}}break;case 5:Da(_,_.return);break;case 22:if(_.memoizedState!==null){sy(m);continue}}v!==null?(v.return=_,re=v):sy(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Px("display",a))}catch(w){gt(t,t.return,w)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){gt(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yr(e,t),fi(t),r&4&&ry(t);break;case 21:break;default:Yr(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eb(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ou(i,""),r.flags&=-33);var o=ny(t);Dm(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=ny(t);zm(t,u,a);break;default:throw Error(q(161))}}catch(c){gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lC(t,e,n){re=t,rb(t)}function rb(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ih;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||mn;u=ih;var d=mn;if(ih=a,(mn=c)&&!d)for(re=i;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?oy(i):c!==null?(c.return=a,re=c):oy(i);for(;o!==null;)re=o,rb(o),o=o.sibling;re=i,ih=u,mn=d}iy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):iy(t)}}function iy(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&$0(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$0(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&zu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}mn||e.flags&512&&Im(e)}catch(_){gt(e,e.return,_)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function sy(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function oy(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(c){gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){gt(e,i,c)}}var o=e.return;try{Im(e)}catch(c){gt(e,o,c)}break;case 5:var a=e.return;try{Im(e)}catch(c){gt(e,a,c)}}}catch(c){gt(e,e.return,c)}if(e===t){re=null;break}var u=e.sibling;if(u!==null){u.return=e.return,re=u;break}re=e.return}}var uC=Math.ceil,yd=os.ReactCurrentDispatcher,_v=os.ReactCurrentOwner,Br=os.ReactCurrentBatchConfig,Ae=0,Xt=null,Nt=null,on=0,ir=0,Ba=Js(0),$t=0,qu=null,Zo=0,Xd=0,yv=0,mu=null,Wn=null,wv=0,cl=1/0,Fi=null,wd=!1,Bm=null,Bs=null,sh=!1,Cs=null,xd=0,gu=0,Fm=null,Bh=-1,Fh=0;function Nn(){return Ae&6?kt():Bh!==-1?Bh:Bh=kt()}function Fs(t){return t.mode&1?Ae&2&&on!==0?on&-on:ZE.transition!==null?(Fh===0&&(Fh=Ux()),Fh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:qx(t.type)),t):1}function si(t,e,n,r){if(50<gu)throw gu=0,Fm=null,Error(q(185));pc(t,n,r),(!(Ae&2)||t!==Xt)&&(t===Xt&&(!(Ae&2)&&(Xd|=n),$t===4&&ks(t,on)),Gn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(cl=kt()+500,Gd&&Qs()))}function Gn(t,e){var n=t.callbackNode;ZT(t,e);var r=id(t,t===Xt?on:0);if(r===0)n!==null&&m0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m0(n),e===1)t.tag===0?HE(ay.bind(null,t)):f1(ay.bind(null,t)),UE(function(){!(Ae&6)&&Qs()}),n=null;else{switch($x(r)){case 1:n=Zg;break;case 4:n=Bx;break;case 16:n=rd;break;case 536870912:n=Fx;break;default:n=rd}n=hb(n,ib.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ib(t,e){if(Bh=-1,Fh=0,Ae&6)throw Error(q(327));var n=t.callbackNode;if(Ka()&&t.callbackNode!==n)return null;var r=id(t,t===Xt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var i=Ae;Ae|=2;var o=ob();(Xt!==t||on!==e)&&(Fi=null,cl=kt()+500,Oo(t,e));do try{dC();break}catch(u){sb(t,u)}while(!0);sv(),yd.current=o,Ae=i,Nt!==null?e=0:(Xt=null,on=0,e=$t)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(r=i,e=Um(t,i))),e===1)throw n=qu,Oo(t,0),ks(t,r),Gn(t,kt()),n;if(e===6)ks(t,r);else{if(i=t.current.alternate,!(r&30)&&!cC(i)&&(e=bd(t,r),e===2&&(o=fm(t),o!==0&&(r=o,e=Um(t,o))),e===1))throw n=qu,Oo(t,0),ks(t,r),Gn(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:wo(t,Wn,Fi);break;case 3:if(ks(t,r),(r&130023424)===r&&(e=wv+500-kt(),10<e)){if(id(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xm(wo.bind(null,t,Wn,Fi),e);break}wo(t,Wn,Fi);break;case 4:if(ks(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ii(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uC(r/1960))-r,10<r){t.timeoutHandle=xm(wo.bind(null,t,Wn,Fi),r);break}wo(t,Wn,Fi);break;case 5:wo(t,Wn,Fi);break;default:throw Error(q(329))}}}return Gn(t,kt()),t.callbackNode===n?ib.bind(null,t):null}function Um(t,e){var n=mu;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=bd(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&$m(e)),t}function $m(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function cC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!oi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ks(t,e){for(e&=~yv,e&=~Xd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ii(e),r=1<<n;t[n]=-1,e&=~r}}function ay(t){if(Ae&6)throw Error(q(327));Ka();var e=id(t,0);if(!(e&1))return Gn(t,kt()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=Um(t,r))}if(n===1)throw n=qu,Oo(t,0),ks(t,e),Gn(t,kt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wo(t,Wn,Fi),Gn(t,kt()),null}function xv(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(cl=kt()+500,Gd&&Qs())}}function Go(t){Cs!==null&&Cs.tag===0&&!(Ae&6)&&Ka();var e=Ae;Ae|=1;var n=Br.transition,r=Be;try{if(Br.transition=null,Be=1,t)return t()}finally{Be=r,Br.transition=n,Ae=e,!(Ae&6)&&Qs()}}function bv(){ir=Ba.current,Qe(Ba)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FE(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ud();break;case 3:ll(),Qe(Hn),Qe(yn),hv();break;case 5:cv(r);break;case 4:ll();break;case 13:Qe(ut);break;case 19:Qe(ut);break;case 10:ov(r.type._context);break;case 22:case 23:bv()}n=n.return}if(Xt=t,Nt=t=Us(t.current,null),on=ir=e,$t=0,qu=null,yv=Xd=Zo=0,Wn=mu=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return t}function sb(t,e){do{var n=Nt;try{if(sv(),Ih.current=_d,vd){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vd=!1}if(Ho=0,Kt=Bt=dt=null,fu=!1,Hu=0,_v.current=null,n===null||n.return===null){$t=1,qu=e,Nt=null;break}e:{var o=t,a=n.return,u=n,c=e;if(e=on,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=q0(a);if(v!==null){v.flags&=-257,Y0(v,a,u,o,e),v.mode&1&&G0(o,d,e),e=v,c=d;var k=e.updateQueue;if(k===null){var w=new Set;w.add(c),e.updateQueue=w}else k.add(c);break e}else{if(!(e&1)){G0(o,d,e),kv();break e}c=Error(q(426))}}else if(it&&u.mode&1){var C=q0(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Y0(C,a,u,o,e),rv(ul(c,u));break e}}o=c=ul(c,u),$t!==4&&($t=2),mu===null?mu=[o]:mu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=$1(o,c,e);U0(o,S);break e;case 1:u=c;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=W1(o,u,e);U0(o,E);break e}}o=o.return}while(o!==null)}lb(n)}catch(P){e=P,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function ob(){var t=yd.current;return yd.current=_d,t===null?_d:t}function kv(){($t===0||$t===3||$t===2)&&($t=4),Xt===null||!(Zo&268435455)&&!(Xd&268435455)||ks(Xt,on)}function bd(t,e){var n=Ae;Ae|=2;var r=ob();(Xt!==t||on!==e)&&(Fi=null,Oo(t,e));do try{hC();break}catch(i){sb(t,i)}while(!0);if(sv(),Ae=n,yd.current=r,Nt!==null)throw Error(q(261));return Xt=null,on=0,$t}function hC(){for(;Nt!==null;)ab(Nt)}function dC(){for(;Nt!==null&&!zT();)ab(Nt)}function ab(t){var e=cb(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?lb(t):Nt=e,_v.current=null}function lb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sC(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Nt=null;return}}else if(n=iC(n,e,ir),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);$t===0&&($t=5)}function wo(t,e,n){var r=Be,i=Br.transition;try{Br.transition=null,Be=1,fC(t,e,n,r)}finally{Br.transition=i,Be=r}return null}function fC(t,e,n,r){do Ka();while(Cs!==null);if(Ae&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(GT(t,o),t===Xt&&(Nt=Xt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sh||(sh=!0,hb(rd,function(){return Ka(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Br.transition,Br.transition=null;var a=Be;Be=1;var u=Ae;Ae|=4,_v.current=null,aC(t,n),nb(n,t),OE(ym),sd=!!_m,ym=_m=null,t.current=n,lC(n),DT(),Ae=u,Be=a,Br.transition=o}else t.current=n;if(sh&&(sh=!1,Cs=t,xd=i),o=t.pendingLanes,o===0&&(Bs=null),UT(n.stateNode),Gn(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wd)throw wd=!1,t=Bm,Bm=null,t;return xd&1&&t.tag!==0&&Ka(),o=t.pendingLanes,o&1?t===Fm?gu++:(gu=0,Fm=t):gu=0,Qs(),null}function Ka(){if(Cs!==null){var t=$x(xd),e=Br.transition,n=Be;try{if(Br.transition=null,Be=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,xd=0,Ae&6)throw Error(q(331));var i=Ae;for(Ae|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(re=d;re!==null;){var p=re;switch(p.tag){case 0:case 11:case 15:pu(8,p,o)}var m=p.child;if(m!==null)m.return=p,re=m;else for(;re!==null;){p=re;var _=p.sibling,v=p.return;if(Q1(p),p===d){re=null;break}if(_!==null){_.return=v,re=_;break}re=v}}}var k=o.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pu(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,re=S;break e}re=o.return}}var b=t.current;for(re=b;re!==null;){a=re;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,re=x;else e:for(a=b;re!==null;){if(u=re,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Kd(9,u)}}catch(P){gt(u,u.return,P)}if(u===a){re=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,re=E;break e}re=u.return}}if(Ae=i,Qs(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot($d,t)}catch{}r=!0}return r}finally{Be=n,Br.transition=e}}return!1}function ly(t,e,n){e=ul(n,e),e=$1(t,e,1),t=Ds(t,e,1),e=Nn(),t!==null&&(pc(t,1,e),Gn(t,e))}function gt(t,e,n){if(t.tag===3)ly(t,t,n);else for(;e!==null;){if(e.tag===3){ly(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=ul(n,t),t=W1(e,t,1),e=Ds(e,t,1),t=Nn(),e!==null&&(pc(e,1,t),Gn(e,t));break}}e=e.return}}function pC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(on&n)===n&&($t===4||$t===3&&(on&130023424)===on&&500>kt()-wv?Oo(t,0):yv|=n),Gn(t,e)}function ub(t,e){e===0&&(t.mode&1?(e=Yc,Yc<<=1,!(Yc&130023424)&&(Yc=4194304)):e=1);var n=Nn();t=ts(t,e),t!==null&&(pc(t,e,n),Gn(t,n))}function mC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ub(t,n)}function gC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ub(t,n)}var cb;cb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,rC(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,it&&e.flags&1048576&&p1(e,dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dh(t,e),t=e.pendingProps;var i=sl(e,yn.current);Ya(e,n),i=fv(null,e,r,t,i,n);var o=pv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(o=!0,cd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lv(e),i.updater=Yd,e.stateNode=i,i._reactInternals=e,Pm(e,r,t,n),e=Nm(null,e,r,!0,o,n)):(e.tag=0,it&&o&&tv(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_C(r),t=Jr(r,t),i){case 0:e=Lm(null,e,r,t,n);break e;case 1:e=J0(null,e,r,t,n);break e;case 11:e=K0(null,e,r,t,n);break e;case 14:e=X0(null,e,r,Jr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Lm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),J0(t,e,r,i,n);case 3:e:{if(G1(e),t===null)throw Error(q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,w1(t,e),md(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ul(Error(q(423)),e),e=Q0(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(q(424)),e),e=Q0(t,e,r,n,i);break e}else for(hr=zs(e.stateNode.containerInfo.firstChild),pr=e,it=!0,ri=null,n=_1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){e=ns(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return x1(e),t===null&&Tm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,wm(r,i)?a=null:o!==null&&wm(r,o)&&(e.flags|=32),Z1(t,e),En(t,e,a,n),e.child;case 6:return t===null&&Tm(e),null;case 13:return q1(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),K0(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ke(fd,r._currentValue),r._currentValue=a,o!==null)if(oi(o.value,a)){if(o.children===i.children&&!Hn.current){e=ns(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Xi(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Em(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(q(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Em(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ya(e,n),i=Ur(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=Jr(r,e.pendingProps),i=Jr(r.type,i),X0(t,e,r,i,n);case 15:return V1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Dh(t,e),e.tag=1,Zn(r)?(t=!0,cd(e)):t=!1,Ya(e,n),U1(e,r,i),Pm(e,r,i,n),Nm(null,e,r,!0,t,n);case 19:return Y1(t,e,n);case 22:return H1(t,e,n)}throw Error(q(156,e.tag))};function hb(t,e){return Dx(t,e)}function vC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,e,n,r){return new vC(t,e,n,r)}function Sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _C(t){if(typeof t=="function")return Sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wg)return 11;if(t===Vg)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=Ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Sv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ja:return Ao(n.children,i,o,e);case $g:a=8,i|=8;break;case Jp:return t=Ir(12,n,e,i|2),t.elementType=Jp,t.lanes=o,t;case Qp:return t=Ir(13,n,e,i),t.elementType=Qp,t.lanes=o,t;case em:return t=Ir(19,n,e,i),t.elementType=em,t.lanes=o,t;case xx:return Jd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yx:a=10;break e;case wx:a=9;break e;case Wg:a=11;break e;case Vg:a=14;break e;case ys:a=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ao(t,e,n,r){return t=Ir(7,t,r,e),t.lanes=n,t}function Jd(t,e,n,r){return t=Ir(22,t,r,e),t.elementType=xx,t.lanes=n,t.stateNode={isHidden:!1},t}function gp(t,e,n){return t=Ir(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=Ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tv(t,e,n,r,i,o,a,u,c){return t=new yC(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lv(o),t}function wC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function db(t){if(!t)return Zs;t=t._reactInternals;e:{if(Jo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Zn(n))return d1(t,n,e)}return e}function fb(t,e,n,r,i,o,a,u,c){return t=Tv(n,r,!0,t,i,o,a,u,c),t.context=db(null),n=t.current,r=Nn(),i=Fs(n),o=Xi(r,i),o.callback=e??null,Ds(n,o,i),t.current.lanes=i,pc(t,i,r),Gn(t,r),t}function Qd(t,e,n,r){var i=e.current,o=Nn(),a=Fs(i);return n=db(n),e.context===null?e.context=n:e.pendingContext=n,e=Xi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(i,e,a),t!==null&&(si(t,i,a,o),Mh(t,i,a)),a}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ev(t,e){uy(t,e),(t=t.alternate)&&uy(t,e)}function xC(){return null}var pb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}ef.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Qd(t,e,null,null)};ef.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){Qd(null,t,null,null)}),e[es]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&Gx(t)}};function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cy(){}function bC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=kd(a);o.call(d)}}var a=fb(e,r,t,0,null,!1,!1,"",cy);return t._reactRootContainer=a,t[es]=a.current,Fu(t.nodeType===8?t.parentNode:t),Go(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=kd(c);u.call(d)}}var c=Tv(t,0,!1,null,null,!1,!1,"",cy);return t._reactRootContainer=c,t[es]=c.current,Fu(t.nodeType===8?t.parentNode:t),Go(function(){Qd(e,c,n,r)}),c}function nf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var c=kd(a);u.call(c)}}Qd(e,a,t,i)}else a=bC(n,e,t,i,r);return kd(a)}Wx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(Gg(e,n|1),Gn(e,kt()),!(Ae&6)&&(cl=kt()+500,Qs()))}break;case 13:Go(function(){var r=ts(t,1);if(r!==null){var i=Nn();si(r,t,1,i)}}),Ev(t,1)}};qg=function(t){if(t.tag===13){var e=ts(t,134217728);if(e!==null){var n=Nn();si(e,t,134217728,n)}Ev(t,134217728)}};Vx=function(t){if(t.tag===13){var e=Fs(t),n=ts(t,e);if(n!==null){var r=Nn();si(n,t,e,r)}Ev(t,e)}};Hx=function(){return Be};Zx=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};cm=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zd(r);if(!i)throw Error(q(90));kx(r),rm(r,i)}}}break;case"textarea":Tx(t,n);break;case"select":e=n.value,e!=null&&Ha(t,!!n.multiple,e,!1)}};Rx=xv;Ox=Go;var kC={usingClientEntryPoint:!1,Events:[gc,Oa,Zd,Lx,Nx,xv]},Vl={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ix(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||xC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{$d=oh.inject(SC),bi=oh}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(e))throw Error(q(200));return wC(t,e,null,n)};yr.createRoot=function(t,e){if(!Pv(t))throw Error(q(299));var n=!1,r="",i=pb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tv(t,1,!1,null,null,n,!1,r,i),t[es]=e.current,Fu(t.nodeType===8?t.parentNode:t),new Cv(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Ix(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return Go(t)};yr.hydrate=function(t,e,n){if(!tf(e))throw Error(q(200));return nf(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!Pv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=pb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=fb(e,null,t,1,n??null,i,!1,o,a),t[es]=e.current,Fu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ef(e)};yr.render=function(t,e,n){if(!tf(e))throw Error(q(200));return nf(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!tf(t))throw Error(q(40));return t._reactRootContainer?(Go(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1};yr.unstable_batchedUpdates=xv;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return nf(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mb)}catch(t){console.error(t)}}mb(),mx.exports=yr;var gb=mx.exports,hy=gb;Kp.createRoot=hy.createRoot,Kp.hydrateRoot=hy.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const dy="popstate";function TC(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return Wm("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vb(i)}return CC(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substr(2,8)}function fy(t,e){return{usr:t.state,key:t.key,idx:e}}function Wm(t,e,n,r){return n===void 0&&(n=null),Yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:n,key:e&&e.key||r||EC()})}function vb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u=Ps.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(Yu({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=Ps.Pop;let C=p(),S=C==null?null:C-d;d=C,c&&c({action:u,location:w.location,delta:S})}function _(C,S){u=Ps.Push;let b=Wm(w.location,C,S);d=p()+1;let x=fy(b,d),E=w.createHref(b);try{a.pushState(x,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}o&&c&&c({action:u,location:w.location,delta:1})}function v(C,S){u=Ps.Replace;let b=Wm(w.location,C,S);d=p();let x=fy(b,d),E=w.createHref(b);a.replaceState(x,"",E),o&&c&&c({action:u,location:w.location,delta:0})}function k(C){let S=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof C=="string"?C:vb(C);return b=b.replace(/ $/,"%20"),Wt(S,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,S)}let w={get action(){return u},get location(){return t(i,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(dy,m),c=C,()=>{i.removeEventListener(dy,m),c=null}},createHref(C){return e(i,C)},createURL:k,encodeLocation(C){let S=k(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:_,replace:v,go(C){return a.go(C)}};return w}var py;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(py||(py={}));function PC(t,e,n){return n===void 0&&(n="/"),jC(t,e,n)}function jC(t,e,n,r){let i=typeof e=="string"?bl(e):e,o=wb(i.pathname||"/",n);if(o==null)return null;let a=_b(t);LC(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=$C(o);u=BC(a[c],d)}return u}function _b(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Wt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Mo([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(Wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_b(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:zC(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of yb(o.path))i(o,a,c)}),e}function yb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=yb(r.join("/")),u=[];return u.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function LC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NC=/^:[\w-]+$/,RC=3,OC=2,AC=1,MC=10,IC=-2,my=t=>t==="*";function zC(t,e){let n=t.split("/"),r=n.length;return n.some(my)&&(r+=IC),e&&(r+=OC),n.filter(i=>!my(i)).reduce((i,o)=>i+(NC.test(o)?RC:o===""?AC:MC),r)}function DC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function BC(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=FC({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),_=c.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Mo([o,m.pathname]),pathnameBase:YC(Mo([o,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(o=Mo([o,m.pathnameBase]))}return a}function FC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,p,m)=>{let{paramName:_,isOptional:v}=p;if(_==="*"){let w=u[m]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const k=u[m];return v&&!k?d[_]=void 0:d[_]=(k||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function UC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VC=t=>WC.test(t);function HC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bl(t):t,o;if(n)if(VC(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),jv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=gy(n.substring(1),"/"):o=gy(n,e)}else o=e;return{pathname:o,search:KC(r),hash:XC(i)}}function gy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ZC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GC(t,e){let n=ZC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bl(t):(i=Yu({},t),Wt(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;i.pathname=_.join("/")}u=m>=0?e[m]:"/"}let c=HC(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Mo=t=>t.join("/").replace(/\/\/+/g,"/"),YC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xb=["post","put","patch","delete"];new Set(xb);const QC=["get",...xb];new Set(QC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ku.apply(this,arguments)}const Lv=R.createContext(null),eP=R.createContext(null),rf=R.createContext(null),sf=R.createContext(null),Qo=R.createContext({outlet:null,matches:[],isDataRoute:!1}),bb=R.createContext(null);function of(){return R.useContext(sf)!=null}function af(){return of()||Wt(!1),R.useContext(sf).location}function kb(t){R.useContext(rf).static||R.useLayoutEffect(t)}function eo(){let{isDataRoute:t}=R.useContext(Qo);return t?fP():tP()}function tP(){of()||Wt(!1);let t=R.useContext(Lv),{basename:e,future:n,navigator:r}=R.useContext(rf),{matches:i}=R.useContext(Qo),{pathname:o}=af(),a=JSON.stringify(GC(i,n.v7_relativeSplatPath)),u=R.useRef(!1);return kb(()=>{u.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let m=qC(d,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mo([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,o,t])}function Sb(){let{matches:t}=R.useContext(Qo),e=t[t.length-1];return e?e.params:{}}function nP(t,e){return rP(t,e)}function rP(t,e,n,r){of()||Wt(!1);let{navigator:i}=R.useContext(rf),{matches:o}=R.useContext(Qo),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=af(),p;if(e){var m;let C=typeof e=="string"?bl(e):e;c==="/"||(m=C.pathname)!=null&&m.startsWith(c)||Wt(!1),p=C}else p=d;let _=p.pathname||"/",v=_;if(c!=="/"){let C=c.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=PC(t,{pathname:v}),w=lP(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Mo([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Mo([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&w?R.createElement(sf.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ps.Pop}},w):w}function iP(){let t=dP(),e=JC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const sP=R.createElement(iP,null);class oP extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Qo.Provider,{value:this.props.routeContext},R.createElement(bb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aP(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Lv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Qo.Provider,{value:e},r)}function lP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let p=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Wt(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:v}=n,k=m.route.loader&&_[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let v,k=!1,w=null,C=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||sP,c&&(d<0&&_===0?(pP("route-fallback"),k=!0,C=null):d===_&&(k=!0,C=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,_+1)),b=()=>{let x;return v?x=w:k?x=C:m.route.Component?x=R.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,R.createElement(aP,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?R.createElement(oP,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}var Tb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Tb||{}),Eb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Eb||{});function uP(t){let e=R.useContext(Lv);return e||Wt(!1),e}function cP(t){let e=R.useContext(eP);return e||Wt(!1),e}function hP(t){let e=R.useContext(Qo);return e||Wt(!1),e}function Cb(t){let e=hP(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function dP(){var t;let e=R.useContext(bb),n=cP(),r=Cb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fP(){let{router:t}=uP(Tb.UseNavigateStable),e=Cb(Eb.UseNavigateStable),n=R.useRef(!1);return kb(()=>{n.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ku({fromRouteId:e},o)))},[t,e])}const vy={};function pP(t,e,n){vy[t]||(vy[t]=!0)}function mP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vs(t){Wt(!1)}function gP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ps.Pop,navigator:o,static:a=!1,future:u}=t;of()&&Wt(!1);let c=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:o,static:a,future:Ku({v7_relativeSplatPath:!1},u)}),[c,u,o,a]);typeof r=="string"&&(r=bl(r));let{pathname:p="/",search:m="",hash:_="",state:v=null,key:k="default"}=r,w=R.useMemo(()=>{let C=wb(p,c);return C==null?null:{location:{pathname:C,search:m,hash:_,state:v,key:k},navigationType:i}},[c,p,m,_,v,k,i]);return w==null?null:R.createElement(rf.Provider,{value:d},R.createElement(sf.Provider,{children:n,value:w}))}function vP(t){let{children:e,location:n}=t;return nP(Vm(e),n)}new Promise(()=>{});function Vm(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let o=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Vm(r.props.children,o));return}r.type!==vs&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Vm(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _P="6";try{window.__reactRouterVersion=_P}catch{}const yP="startTransition",_y=pT[yP];function wP(t){let{basename:e,children:n,future:r,window:i}=t,o=R.useRef();o.current==null&&(o.current=TC({window:i,v5Compat:!0}));let a=o.current,[u,c]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=R.useCallback(m=>{d&&_y?_y(()=>c(m)):c(m)},[c,d]);return R.useLayoutEffect(()=>a.listen(p),[a,p]),R.useEffect(()=>mP(r),[r]),R.createElement(gP,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}var yy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yy||(yy={}));var wy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wy||(wy={}));let xP={data:""},bP=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||xP},kP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SP=/\/\*[^]*?\*\/|  +/g,xy=/\n+/g,Ss=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Ss(a,o):o+"{"+Ss(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=Ss(a,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ss.p?Ss.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Bi={},Pb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Pb(t[n]);return e}return t},TP=(t,e,n,r,i)=>{let o=Pb(t),a=Bi[o]||(Bi[o]=(c=>{let d=0,p=11;for(;d<c.length;)p=101*p+c.charCodeAt(d++)>>>0;return"go"+p})(o));if(!Bi[a]){let c=o!==t?t:(d=>{let p,m,_=[{}];for(;p=kP.exec(d.replace(SP,""));)p[4]?_.shift():p[3]?(m=p[3].replace(xy," ").trim(),_.unshift(_[0][m]=_[0][m]||{})):_[0][p[1]]=p[2].replace(xy," ").trim();return _[0]})(t);Bi[a]=Ss(i?{["@keyframes "+a]:c}:c,n?"":"."+a)}let u=n&&Bi.g?Bi.g:null;return n&&(Bi.g=Bi[a]),((c,d,p,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=p?c+d.data:d.data+c)})(Bi[a],e,r,u),a},EP=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let u=a(n),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;a=c?"."+c:u&&typeof u=="object"?u.props?"":Ss(u,""):u===!1?"":u}return r+i+(a??"")},"");function lf(t){let e=this||{},n=t.call?t(e.p):t;return TP(n.unshift?n.raw?EP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,bP(e.target),e.g,e.o,e.k)}let jb,Hm,Zm;lf.bind({g:1});let rs=lf.bind({k:1});function CP(t,e,n,r){Ss.p=e,jb=t,Hm=n,Zm=r}function to(t,e){let n=this||{};return function(){let r=arguments;function i(o,a){let u=Object.assign({},o),c=u.className||i.className;n.p=Object.assign({theme:Hm&&Hm()},u),n.o=/ *go\d+/.test(c),u.className=lf.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=u.as||t,delete u.as),Zm&&d[0]&&Zm(u),jb(d,u)}return i}}var PP=t=>typeof t=="function",Sd=(t,e)=>PP(t)?t(e):t,jP=(()=>{let t=0;return()=>(++t).toString()})(),Lb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),LP=20,Nv="default",Nb=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Nb(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},$h=[],Rb={toasts:[],pausedAt:void 0,settings:{toastLimit:LP}},yi={},Ob=(t,e=Nv)=>{yi[e]=Nb(yi[e]||Rb,t),$h.forEach(([n,r])=>{n===e&&r(yi[e])})},Ab=t=>Object.keys(yi).forEach(e=>Ob(t,e)),NP=t=>Object.keys(yi).find(e=>yi[e].toasts.some(n=>n.id===t)),uf=(t=Nv)=>e=>{Ob(e,t)},RP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OP=(t={},e=Nv)=>{let[n,r]=R.useState(yi[e]||Rb),i=R.useRef(yi[e]);R.useEffect(()=>(i.current!==yi[e]&&r(yi[e]),$h.push([e,r]),()=>{let a=$h.findIndex(([u])=>u===e);a>-1&&$h.splice(a,1)}),[e]);let o=n.toasts.map(a=>{var u,c,d;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((u=t[a.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||RP[a.type],style:{...t.style,...(d=t[a.type])==null?void 0:d.style,...a.style}}});return{...n,toasts:o}},AP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||jP()}),_c=t=>(e,n)=>{let r=AP(e,t,n);return uf(r.toasterId||NP(r.id))({type:2,toast:r}),r.id},Ut=(t,e)=>_c("blank")(t,e);Ut.error=_c("error");Ut.success=_c("success");Ut.loading=_c("loading");Ut.custom=_c("custom");Ut.dismiss=(t,e)=>{let n={type:3,toastId:t};e?uf(e)(n):Ab(n)};Ut.dismissAll=t=>Ut.dismiss(void 0,t);Ut.remove=(t,e)=>{let n={type:4,toastId:t};e?uf(e)(n):Ab(n)};Ut.removeAll=t=>Ut.remove(void 0,t);Ut.promise=(t,e,n)=>{let r=Ut.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Sd(e.success,i):void 0;return o?Ut.success(o,{id:r,...n,...n==null?void 0:n.success}):Ut.dismiss(r),i}).catch(i=>{let o=e.error?Sd(e.error,i):void 0;o?Ut.error(o,{id:r,...n,...n==null?void 0:n.error}):Ut.dismiss(r)}),t};var MP=1e3,IP=(t,e="default")=>{let{toasts:n,pausedAt:r}=OP(t,e),i=R.useRef(new Map).current,o=R.useCallback((m,_=MP)=>{if(i.has(m))return;let v=setTimeout(()=>{i.delete(m),a({type:4,toastId:m})},_);i.set(m,v)},[]);R.useEffect(()=>{if(r)return;let m=Date.now(),_=n.map(v=>{if(v.duration===1/0)return;let k=(v.duration||0)+v.pauseDuration-(m-v.createdAt);if(k<0){v.visible&&Ut.dismiss(v.id);return}return setTimeout(()=>Ut.dismiss(v.id,e),k)});return()=>{_.forEach(v=>v&&clearTimeout(v))}},[n,r,e]);let a=R.useCallback(uf(e),[e]),u=R.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=R.useCallback((m,_)=>{a({type:1,toast:{id:m,height:_}})},[a]),d=R.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),p=R.useCallback((m,_)=>{let{reverseOrder:v=!1,gutter:k=8,defaultPosition:w}=_||{},C=n.filter(x=>(x.position||w)===(m.position||w)&&x.height),S=C.findIndex(x=>x.id===m.id),b=C.filter((x,E)=>E<S&&x.visible).length;return C.filter(x=>x.visible).slice(...v?[b+1]:[0,b]).reduce((x,E)=>x+(E.height||0)+k,0)},[n]);return R.useEffect(()=>{n.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let _=i.get(m.id);_&&(clearTimeout(_),i.delete(m.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:c,startPause:u,endPause:d,calculateOffset:p}}},zP=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,DP=rs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BP=rs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FP=to("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${DP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UP=rs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$P=to("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UP} 1s linear infinite;
`,WP=rs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,VP=rs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HP=to("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${VP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ZP=to("div")`
  position: absolute;
`,GP=to("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qP=rs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YP=to("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?R.createElement(YP,null,e):e:n==="blank"?null:R.createElement(GP,null,R.createElement($P,{...r}),n!=="loading"&&R.createElement(ZP,null,n==="error"?R.createElement(FP,{...r}):R.createElement(HP,{...r})))},XP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,QP="0%{opacity:0;} 100%{opacity:1;}",ej="0%{opacity:1;} 100%{opacity:0;}",tj=to("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nj=to("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rj=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Lb()?[QP,ej]:[XP(n),JP(n)];return{animation:e?`${rs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${rs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ij=R.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?rj(t.position||e||"top-center",t.visible):{opacity:0},o=R.createElement(KP,{toast:t}),a=R.createElement(nj,{...t.ariaProps},Sd(t.message,t));return R.createElement(tj,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:a}):R.createElement(R.Fragment,null,o,a))});CP(R.createElement);var sj=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=R.useCallback(a=>{if(a){let u=()=>{let c=a.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return R.createElement("div",{ref:o,className:e,style:n},i)},oj=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},aj=lf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ah=16,lj=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:a,containerClassName:u})=>{let{toasts:c,handlers:d}=IP(n,o);return R.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:ah,left:ah,right:ah,bottom:ah,pointerEvents:"none",...a},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(p=>{let m=p.position||e,_=d.calculateOffset(p,{reverseOrder:t,gutter:r,defaultPosition:e}),v=oj(m,_);return R.createElement(sj,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?aj:"",style:v},p.type==="custom"?Sd(p.message,p):i?i(p):R.createElement(ij,{toast:p,position:m}))}))},rt=Ut;function Ui(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var mr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},hl={duration:.5,overwrite:!1,delay:0},Rv,an,st,zr=1e8,Ve=1/zr,Gm=Math.PI*2,uj=Gm/4,cj=0,Ib=Math.sqrt,hj=Math.cos,dj=Math.sin,Jt=function(e){return typeof e=="string"},vt=function(e){return typeof e=="function"},is=function(e){return typeof e=="number"},Ov=function(e){return typeof e>"u"},Ti=function(e){return typeof e=="object"},qn=function(e){return e!==!1},Av=function(){return typeof window<"u"},lh=function(e){return vt(e)||Jt(e)},zb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_n=Array.isArray,fj=/random\([^)]+\)/g,pj=/,\s*/g,by=/(?:-?\.?\d|\.)+/gi,Db=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Fa=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bb=/[+-]=-?[.\d]+/,mj=/[^,'"\[\]\s]+/gi,gj=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ct,mi,qm,Mv,vr={},Td={},Fb,Ub=function(e){return(Td=dl(e,vr))&&Jn},Iv=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Xu=function(e,n){return!n&&console.warn(e)},$b=function(e,n){return e&&(vr[e]=n)&&Td&&(Td[e]=n)||vr},Ju=function(){return 0},vj={suppressEvents:!0,isStart:!0,kill:!1},Wh={suppressEvents:!0,kill:!1},_j={suppressEvents:!0},zv={},$s=[],Ym={},Wb,or={},wp={},ky=30,Vh=[],Dv="",Bv=function(e){var n=e[0],r,i;if(Ti(n)||vt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=Vh.length;i--&&!Vh[i].targetTest(n););r=Vh[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new fk(e[i],r)))||e.splice(i,1);return e},Io=function(e){return e._gsap||Bv(Dr(e))[0]._gsap},Vb=function(e,n,r){return(r=e[n])&&vt(r)?e[n]():Ov(r)&&e.getAttribute&&e.getAttribute(n)||r},Yn=function(e,n){return(e=e.split(",")).forEach(n)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},lt=function(e){return Math.round(e*1e7)/1e7||0},Xa=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},yj=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Ed=function(){var e=$s.length,n=$s.slice(0),r,i;for(Ym={},$s.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Fv=function(e){return!!(e._initted||e._startAt||e.add)},Hb=function(e,n,r,i){$s.length&&!an&&Ed(),e.render(n,r,!!(an&&n<0&&Fv(e))),$s.length&&!an&&Ed()},Zb=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(mj).length<2?n:Jt(e)?e.trim():e},Gb=function(e){return e},_r=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},wj=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},dl=function(e,n){for(var r in n)e[r]=n[r];return e},Sy=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ti(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Cd=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},vu=function(e){var n=e.parent||ct,r=e.keyframes?wj(_n(e.keyframes)):_r;if(qn(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},xj=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},qb=function(e,n,r,i,o){var a=e[i],u;if(o)for(u=n[o];a&&a[o]>u;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=a,n.parent=n._dp=e,n},cf=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=n._prev,a=n._next;o?o._next=a:e[r]===n&&(e[r]=a),a?a._prev=o:e[i]===n&&(e[i]=o),n._next=n._prev=n.parent=null},Gs=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},zo=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},bj=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Km=function(e,n,r,i){return e._startAt&&(an?e._startAt.revert(Wh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},kj=function t(e){return!e||e._ts&&t(e.parent)},Ty=function(e){return e._repeat?fl(e._tTime,e=e.duration()+e._rDelay)*e:0},fl=function(e,n){var r=Math.floor(e=lt(e/n));return e&&r===e?r-1:r},Pd=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},hf=function(e){return e._end=lt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ve)||0))},df=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=lt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),hf(e),r._dirty||zo(r,e)),e},Yb=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Pd(e.rawTime(),n),(!n._dur||yc(0,n.totalDuration(),r)-n._tTime>Ve)&&n.render(r,!0)),zo(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ve}},_i=function(e,n,r,i){return n.parent&&Gs(n),n._start=lt((is(r)?r:r||e!==ct?Lr(e,r,n):e._time)+n._delay),n._end=lt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),qb(e,n,"_first","_last",e._sort?"_start":0),Xm(n)||(e._recent=n),i||Yb(e,n),e._ts<0&&df(e,e._tTime),e},Kb=function(e,n){return(vr.ScrollTrigger||Iv("scrollTrigger",n))&&vr.ScrollTrigger.create(n,e)},Xb=function(e,n,r,i,o){if($v(e,n,o),!e._initted)return 1;if(!r&&e._pt&&!an&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Wb!==lr.frame)return $s.push(e),e._lazy=[o,i],1},Sj=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Xm=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Tj=function(e,n,r,i){var o=e.ratio,a=n<0||!n&&(!e._start&&Sj(e)&&!(!e._initted&&Xm(e))||(e._ts<0||e._dp._ts<0)&&!Xm(e))?0:1,u=e._rDelay,c=0,d,p,m;if(u&&e._repeat&&(c=yc(0,e._tDur,n),p=fl(c,u),e._yoyo&&p&1&&(a=1-a),p!==fl(e._tTime,u)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||an||i||e._zTime===Ve||!n&&e._zTime){if(!e._initted&&Xb(e,n,i,r,c))return;for(m=e._zTime,e._zTime=n||(r?Ve:0),r||(r=n&&!m),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,d=e._pt;d;)d.r(a,d.d),d=d._next;n<0&&Km(e,n,r,!0),e._onUpdate&&!r&&dr(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&dr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===a&&(a&&Gs(e,1),!r&&!an&&(dr(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Ej=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},pl=function(e,n,r,i){var o=e._repeat,a=lt(n)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:lt(a*(o+1)+e._rDelay*o):a,u>0&&!i&&df(e,e._tTime=e._tDur*u),e.parent&&hf(e),r||zo(e.parent,e),e},Ey=function(e){return e instanceof jn?zo(e):pl(e,e._dur)},Cj={_start:0,endTime:Ju,totalDuration:Ju},Lr=function t(e,n,r){var i=e.labels,o=e._recent||Cj,a=e.duration()>=zr?o.endTime(!1):e._dur,u,c,d;return Jt(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),d=n.substr(-1)==="%",u=n.indexOf("="),c==="<"||c===">"?(u>=0&&(n=n.replace(/=/,"")),(c==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(u<0?o:r).totalDuration()/100:1)):u<0?(n in i||(i[n]=a),i[n]):(c=parseFloat(n.charAt(u-1)+n.substr(u+1)),d&&r&&(c=c/100*(_n(r)?r[0]:r).totalDuration()),u>1?t(e,n.substr(0,u-1),r)+c:a+c)):n==null?a:+n},_u=function(e,n,r){var i=is(n[1]),o=(i?2:1)+(e<2?0:1),a=n[o],u,c;if(i&&(a.duration=n[1]),a.parent=r,e){for(u=a,c=r;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=qn(c.vars.inherit)&&c.parent;a.immediateRender=qn(u.immediateRender),e<2?a.runBackwards=1:a.startAt=n[o-1]}return new Lt(n[0],a,n[o+1])},no=function(e,n){return e||e===0?n(e):n},yc=function(e,n,r){return r<e?e:r>n?n:r},gn=function(e,n){return!Jt(e)||!(n=gj.exec(e))?"":n[1]},Pj=function(e,n,r){return no(r,function(i){return yc(e,n,i)})},Jm=[].slice,Jb=function(e,n){return e&&Ti(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Ti(e[0]))&&!e.nodeType&&e!==mi},jj=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var o;return Jt(i)&&!n||Jb(i,1)?(o=r).push.apply(o,Dr(i)):r.push(i)})||r},Dr=function(e,n,r){return st&&!n&&st.selector?st.selector(e):Jt(e)&&!r&&(qm||!ml())?Jm.call((n||Mv).querySelectorAll(e),0):_n(e)?jj(e,r):Jb(e)?Jm.call(e,0):e?[e]:[]},Qm=function(e){return e=Dr(e)[0]||Xu("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Dr(n,r.querySelectorAll?r:r===e?Xu("Invalid scope")||Mv.createElement("div"):e)}},Qb=function(e){return e.sort(function(){return .5-Math.random()})},ek=function(e){if(vt(e))return e;var n=Ti(e)?e:{each:e},r=Do(n.ease),i=n.from||0,o=parseFloat(n.base)||0,a={},u=i>0&&i<1,c=isNaN(i)||u,d=n.axis,p=i,m=i;return Jt(i)?p=m={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(p=i[0],m=i[1]),function(_,v,k){var w=(k||n).length,C=a[w],S,b,x,E,P,N,O,I,D;if(!C){if(D=n.grid==="auto"?0:(n.grid||[1,zr])[1],!D){for(O=-zr;O<(O=k[D++].getBoundingClientRect().left)&&D<w;);D<w&&D--}for(C=a[w]=[],S=c?Math.min(D,w)*p-.5:i%D,b=D===zr?0:c?w*m/D-.5:i/D|0,O=0,I=zr,N=0;N<w;N++)x=N%D-S,E=b-(N/D|0),C[N]=P=d?Math.abs(d==="y"?E:x):Ib(x*x+E*E),P>O&&(O=P),P<I&&(I=P);i==="random"&&Qb(C),C.max=O-I,C.min=I,C.v=w=(parseFloat(n.amount)||parseFloat(n.each)*(D>w?w-1:d?d==="y"?w/D:D:Math.max(D,w/D))||0)*(i==="edges"?-1:1),C.b=w<0?o-w:o,C.u=gn(n.amount||n.each)||0,r=r&&w<0?ck(r):r}return w=(C[_]-C.min)/C.max||0,lt(C.b+(r?r(w):w)*C.v)+C.u}},eg=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=lt(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(is(r)?0:gn(r))}},tk=function(e,n){var r=_n(e),i,o;return!r&&Ti(e)&&(i=r=e.radius||zr,e.values?(e=Dr(e.values),(o=!is(e[0]))&&(i*=i)):e=eg(e.increment)),no(n,r?vt(e)?function(a){return o=e(a),Math.abs(o-a)<=i?o:a}:function(a){for(var u=parseFloat(o?a.x:a),c=parseFloat(o?a.y:0),d=zr,p=0,m=e.length,_,v;m--;)o?(_=e[m].x-u,v=e[m].y-c,_=_*_+v*v):_=Math.abs(e[m]-u),_<d&&(d=_,p=m);return p=!i||d<=i?e[p]:a,o||p===a||is(a)?p:p+gn(a)}:eg(e))},nk=function(e,n,r,i){return no(_n(e)?!n:r===!0?!!(r=0):!i,function(){return _n(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},Lj=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,a){return a(o)},i)}},Nj=function(e,n){return function(r){return e(parseFloat(r))+(n||gn(r))}},Rj=function(e,n,r){return ik(e,n,0,1,r)},rk=function(e,n,r){return no(r,function(i){return e[~~n(i)]})},Oj=function t(e,n,r){var i=n-e;return _n(e)?rk(e,t(0,e.length),n):no(r,function(o){return(i+(o-e)%i)%i+e})},Aj=function t(e,n,r){var i=n-e,o=i*2;return _n(e)?rk(e,t(0,e.length-1),n):no(r,function(a){return a=(o+(a-e)%o)%o||0,e+(a>i?o-a:a)})},Qu=function(e){return e.replace(fj,function(n){var r=n.indexOf("[")+1,i=n.substring(r||7,r?n.indexOf("]"):n.length-1).split(pj);return nk(r?i:+i[0],r?0:+i[1],+i[2]||1e-5)})},ik=function(e,n,r,i,o){var a=n-e,u=i-r;return no(o,function(c){return r+((c-e)/a*u||0)})},Mj=function t(e,n,r,i){var o=isNaN(e+n)?0:function(v){return(1-v)*e+v*n};if(!o){var a=Jt(e),u={},c,d,p,m,_;if(r===!0&&(i=1)&&(r=null),a)e={p:e},n={p:n};else if(_n(e)&&!_n(n)){for(p=[],m=e.length,_=m-2,d=1;d<m;d++)p.push(t(e[d-1],e[d]));m--,o=function(k){k*=m;var w=Math.min(_,~~k);return p[w](k-w)},r=n}else i||(e=dl(_n(e)?[]:{},e));if(!p){for(c in n)Uv.call(u,e,c,"get",n[c]);o=function(k){return Hv(k,u)||(a?e.p:e)}}}return no(r,o)},Cy=function(e,n,r){var i=e.labels,o=zr,a,u,c;for(a in i)u=i[a]-n,u<0==!!r&&u&&o>(u=Math.abs(u))&&(c=a,o=u);return c},dr=function(e,n,r){var i=e.vars,o=i[n],a=st,u=e._ctx,c,d,p;if(o)return c=i[n+"Params"],d=i.callbackScope||e,r&&$s.length&&Ed(),u&&(st=u),p=c?o.apply(d,c):o.call(d),st=a,p},eu=function(e){return Gs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!an),e.progress()<1&&dr(e,"onInterrupt"),e},Ua,sk=[],ok=function(e){if(e)if(e=!e.name&&e.default||e,Av()||e.headless){var n=e.name,r=vt(e),i=n&&!r&&e.init?function(){this._props=[]}:e,o={init:Ju,render:Hv,add:Uv,kill:Xj,modifier:Kj,rawVars:0},a={targetTest:0,get:0,getSetter:Vv,aliases:{},register:0};if(ml(),e!==i){if(or[n])return;_r(i,_r(Cd(e,o),a)),dl(i.prototype,dl(o,Cd(e,a))),or[i.prop=n]=i,e.targetTest&&(Vh.push(i),zv[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}$b(n,i),e.register&&e.register(Jn,i,Kn)}else sk.push(e)},We=255,tu={aqua:[0,We,We],lime:[0,We,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,We],navy:[0,0,128],white:[We,We,We],olive:[128,128,0],yellow:[We,We,0],orange:[We,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[We,0,0],pink:[We,192,203],cyan:[0,We,We],transparent:[We,We,We,0]},xp=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*We+.5|0},ak=function(e,n,r){var i=e?is(e)?[e>>16,e>>8&We,e&We]:0:tu.black,o,a,u,c,d,p,m,_,v,k;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),tu[e])i=tu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),u=e.charAt(3),e="#"+o+o+a+a+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&We,i&We,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&We,e&We]}else if(e.substr(0,3)==="hsl"){if(i=k=e.match(by),!n)c=+i[0]%360/360,d=+i[1]/100,p=+i[2]/100,a=p<=.5?p*(d+1):p+d-p*d,o=p*2-a,i.length>3&&(i[3]*=1),i[0]=xp(c+1/3,o,a),i[1]=xp(c,o,a),i[2]=xp(c-1/3,o,a);else if(~e.indexOf("="))return i=e.match(Db),r&&i.length<4&&(i[3]=1),i}else i=e.match(by)||tu.transparent;i=i.map(Number)}return n&&!k&&(o=i[0]/We,a=i[1]/We,u=i[2]/We,m=Math.max(o,a,u),_=Math.min(o,a,u),p=(m+_)/2,m===_?c=d=0:(v=m-_,d=p>.5?v/(2-m-_):v/(m+_),c=m===o?(a-u)/v+(a<u?6:0):m===a?(u-o)/v+2:(o-a)/v+4,c*=60),i[0]=~~(c+.5),i[1]=~~(d*100+.5),i[2]=~~(p*100+.5)),r&&i.length<4&&(i[3]=1),i},lk=function(e){var n=[],r=[],i=-1;return e.split(Ws).forEach(function(o){var a=o.match(Fa)||[];n.push.apply(n,a),r.push(i+=a.length+1)}),n.c=r,n},Py=function(e,n,r){var i="",o=(e+i).match(Ws),a=n?"hsla(":"rgba(",u=0,c,d,p,m;if(!o)return e;if(o=o.map(function(_){return(_=ak(_,n,1))&&a+(n?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),r&&(p=lk(e),c=r.c,c.join(i)!==p.c.join(i)))for(d=e.replace(Ws,"1").split(Fa),m=d.length-1;u<m;u++)i+=d[u]+(~c.indexOf(u)?o.shift()||a+"0,0,0,0)":(p.length?p:o.length?o:r).shift());if(!d)for(d=e.split(Ws),m=d.length-1;u<m;u++)i+=d[u]+o[u];return i+d[m]},Ws=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in tu)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Ij=/hsl[a]?\(/,uk=function(e){var n=e.join(" "),r;if(Ws.lastIndex=0,Ws.test(n))return r=Ij.test(n),e[1]=Py(e[1],r),e[0]=Py(e[0],r,lk(e[1])),!0},ec,lr=function(){var t=Date.now,e=500,n=33,r=t(),i=r,o=1e3/240,a=o,u=[],c,d,p,m,_,v,k=function w(C){var S=t()-i,b=C===!0,x,E,P,N;if((S>e||S<0)&&(r+=S-n),i+=S,P=i-r,x=P-a,(x>0||b)&&(N=++m.frame,_=P-m.time*1e3,m.time=P=P/1e3,a+=x+(x>=o?4:o-x),E=1),b||(c=d(w)),E)for(v=0;v<u.length;v++)u[v](P,_,N,C)};return m={time:0,frame:0,tick:function(){k(!0)},deltaRatio:function(C){return _/(1e3/(C||60))},wake:function(){Fb&&(!qm&&Av()&&(mi=qm=window,Mv=mi.document||{},vr.gsap=Jn,(mi.gsapVersions||(mi.gsapVersions=[])).push(Jn.version),Ub(Td||mi.GreenSockGlobals||!mi.gsap&&mi||{}),sk.forEach(ok)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&m.sleep(),d=p||function(C){return setTimeout(C,a-m.time*1e3+1|0)},ec=1,k(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),ec=0,d=Ju},lagSmoothing:function(C,S){e=C||1/0,n=Math.min(S||33,e)},fps:function(C){o=1e3/(C||240),a=m.time*1e3+o},add:function(C,S,b){var x=S?function(E,P,N,O){C(E,P,N,O),m.remove(x)}:C;return m.remove(C),u[b?"unshift":"push"](x),ml(),x},remove:function(C,S){~(S=u.indexOf(C))&&u.splice(S,1)&&v>=S&&v--},_listeners:u},m}(),ml=function(){return!ec&&lr.wake()},Ne={},zj=/^[\d.\-M][\d.\-,\s]/,Dj=/["']/g,Bj=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],o=1,a=r.length,u,c,d;o<a;o++)c=r[o],u=o!==a-1?c.lastIndexOf(","):c.length,d=c.substr(0,u),n[i]=isNaN(d)?d.replace(Dj,"").trim():+d,i=c.substr(u+1).trim();return n},Fj=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},Uj=function(e){var n=(e+"").split("("),r=Ne[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Bj(n[1])]:Fj(e).split(",").map(Zb)):Ne._CE&&zj.test(e)?Ne._CE("",e):r},ck=function(e){return function(n){return 1-e(1-n)}},hk=function t(e,n){for(var r=e._first,i;r;)r instanceof jn?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Do=function(e,n){return e&&(vt(e)?e:Ne[e]||Uj(e))||n},ea=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var o={easeIn:n,easeOut:r,easeInOut:i},a;return Yn(e,function(u){Ne[u]=vr[u]=o,Ne[a=u.toLowerCase()]=r;for(var c in o)Ne[a+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Ne[u+"."+c]=o[c]}),o},dk=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},bp=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),a=o/Gm*(Math.asin(1/i)||0),u=function(p){return p===1?1:i*Math.pow(2,-10*p)*dj((p-a)*o)+1},c=e==="out"?u:e==="in"?function(d){return 1-u(1-d)}:dk(u);return o=Gm/o,c.config=function(d,p){return t(e,d,p)},c},kp=function t(e,n){n===void 0&&(n=1.70158);var r=function(a){return a?--a*a*((n+1)*a+n)+1:0},i=e==="out"?r:e==="in"?function(o){return 1-r(1-o)}:dk(r);return i.config=function(o){return t(e,o)},i};Yn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;ea(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ne.Linear.easeNone=Ne.none=Ne.Linear.easeIn;ea("Elastic",bp("in"),bp("out"),bp());(function(t,e){var n=1/e,r=2*n,i=2.5*n,o=function(u){return u<n?t*u*u:u<r?t*Math.pow(u-1.5/e,2)+.75:u<i?t*(u-=2.25/e)*u+.9375:t*Math.pow(u-2.625/e,2)+.984375};ea("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);ea("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});ea("Circ",function(t){return-(Ib(1-t*t)-1)});ea("Sine",function(t){return t===1?1:-hj(t*uj)+1});ea("Back",kp("in"),kp("out"),kp());Ne.SteppedEase=Ne.steps=vr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),o=n?1:0,a=1-Ve;return function(u){return((i*yc(0,a,u)|0)+o)*r}}};hl.ease=Ne["quad.out"];Yn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Dv+=t+","+t+"Params,"});var fk=function(e,n){this.id=cj++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Vb,this.set=n?n.getSetter:Vv},tc=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,pl(this,+n.duration,1,1),this.data=n.data,st&&(this._ctx=st,st.data.push(this)),ec||lr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,pl(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(ml(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(df(this,r),!o._dp||o.parent||Yb(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&_i(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ve||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Hb(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Ty(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Ty(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?fl(this._tTime,o)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Ve?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?Pd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ve?0:this._rts,this.totalTime(yc(-Math.abs(this._delay),this.totalDuration(),o),i!==!1),hf(this),bj(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ml(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ve&&(this._tTime-=Ve)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=lt(r);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&_i(i,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(qn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Pd(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=_j);var i=an;return an=r,Fv(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),an=i,this},e.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Ey(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Ey(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Lr(this,r),qn(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,qn(i)),this._dur||(this._zTime=-Ve),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ve:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ve,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,o;return!!(!r||this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-Ve)},e.eventCallback=function(r,i,o){var a=this.vars;return arguments.length>1?(i?(a[r]=i,o&&(a[r+"Params"]=o),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this,o=i._prom;return new Promise(function(a){var u=vt(r)?r:Gb,c=function(){var p=i.then;i.then=null,o&&o(),vt(u)&&(u=u(i))&&(u.then||u===i)&&(i.then=p),a(u),i.then=p};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?c():i._prom=c})},e.kill=function(){eu(this)},t}();_r(tc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ve,_prom:0,_ps:!1,_rts:1});var jn=function(t){Mb(e,t);function e(r,i){var o;return r===void 0&&(r={}),o=t.call(this,r)||this,o.labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=qn(r.sortChildren),ct&&_i(r.parent||ct,Ui(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&Kb(Ui(o),r.scrollTrigger),o}var n=e.prototype;return n.to=function(i,o,a){return _u(0,arguments,this),this},n.from=function(i,o,a){return _u(1,arguments,this),this},n.fromTo=function(i,o,a,u){return _u(2,arguments,this),this},n.set=function(i,o,a){return o.duration=0,o.parent=this,vu(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Lt(i,o,Lr(this,a),1),this},n.call=function(i,o,a){return _i(this,Lt.delayedCall(0,i,o),a)},n.staggerTo=function(i,o,a,u,c,d,p){return a.duration=o,a.stagger=a.stagger||u,a.onComplete=d,a.onCompleteParams=p,a.parent=this,new Lt(i,a,Lr(this,c)),this},n.staggerFrom=function(i,o,a,u,c,d,p){return a.runBackwards=1,vu(a).immediateRender=qn(a.immediateRender),this.staggerTo(i,o,a,u,c,d,p)},n.staggerFromTo=function(i,o,a,u,c,d,p,m){return u.startAt=a,vu(u).immediateRender=qn(u.immediateRender),this.staggerTo(i,o,u,c,d,p,m)},n.render=function(i,o,a){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,d=this._dur,p=i<=0?0:lt(i),m=this._zTime<0!=i<0&&(this._initted||!d),_,v,k,w,C,S,b,x,E,P,N,O;if(this!==ct&&p>c&&i>=0&&(p=c),p!==this._tTime||a||m){if(u!==this._time&&d&&(p+=this._time-u,i+=this._time-u),_=p,E=this._start,x=this._ts,S=!x,m&&(d||(u=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(N=this._yoyo,C=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(C*100+i,o,a);if(_=lt(p%C),p===c?(w=this._repeat,_=d):(P=lt(p/C),w=~~P,w&&w===P&&(_=d,w--),_>d&&(_=d)),P=fl(this._tTime,C),!u&&this._tTime&&P!==w&&this._tTime-P*C-this._dur<=0&&(P=w),N&&w&1&&(_=d-_,O=1),w!==P&&!this._lock){var I=N&&P&1,D=I===(N&&w&1);if(w<P&&(I=!I),u=I?0:p%d?d:p,this._lock=1,this.render(u||(O?0:lt(w*C)),o,!d)._lock=0,this._tTime=p,!o&&this.parent&&dr(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1,P=w),u&&u!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,c=this._tDur,D&&(this._lock=2,u=I?d:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;hk(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=Ej(this,lt(u),lt(_)),b&&(p-=_-(_=b._start))),this._tTime=p,this._time=_,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&p&&d&&!o&&!P&&(dr(this,"onStart"),this._tTime!==p))return this;if(_>=u&&i>=0)for(v=this._first;v;){if(k=v._next,(v._act||_>=v._start)&&v._ts&&b!==v){if(v.parent!==this)return this.render(i,o,a);if(v.render(v._ts>0?(_-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(_-v._start)*v._ts,o,a),_!==this._time||!this._ts&&!S){b=0,k&&(p+=this._zTime=-Ve);break}}v=k}else{v=this._last;for(var B=i<0?i:_;v;){if(k=v._prev,(v._act||B<=v._end)&&v._ts&&b!==v){if(v.parent!==this)return this.render(i,o,a);if(v.render(v._ts>0?(B-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(B-v._start)*v._ts,o,a||an&&Fv(v)),_!==this._time||!this._ts&&!S){b=0,k&&(p+=this._zTime=B?-Ve:Ve);break}}v=k}}if(b&&!o&&(this.pause(),b.render(_>=u?0:-Ve)._zTime=_>=u?1:-1,this._ts))return this._start=E,hf(this),this.render(i,o,a);this._onUpdate&&!o&&dr(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&u)&&(E===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(p===c&&this._ts>0||!p&&this._ts<0)&&Gs(this,1),!o&&!(i<0&&!u)&&(p||u||!c)&&(dr(this,p===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var a=this;if(is(o)||(o=Lr(this,o,i)),!(i instanceof tc)){if(_n(i))return i.forEach(function(u){return a.add(u,o)}),this;if(Jt(i))return this.addLabel(i,o);if(vt(i))i=Lt.delayedCall(0,i);else return this}return this!==i?_i(this,i,o):this},n.getChildren=function(i,o,a,u){i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),u===void 0&&(u=-zr);for(var c=[],d=this._first;d;)d._start>=u&&(d instanceof Lt?o&&c.push(d):(a&&c.push(d),i&&c.push.apply(c,d.getChildren(!0,o,a)))),d=d._next;return c},n.getById=function(i){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===i)return o[a]},n.remove=function(i){return Jt(i)?this.removeLabel(i):vt(i)?this.killTweensOf(i):(i.parent===this&&cf(this,i),i===this._recent&&(this._recent=this._last),zo(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=lt(lr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=Lr(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,a){var u=Lt.delayedCall(0,o||Ju,a);return u.data="isPause",this._hasPause=1,_i(this,u,Lr(this,i))},n.removePause=function(i){var o=this._first;for(i=Lr(this,i);o;)o._start===i&&o.data==="isPause"&&Gs(o),o=o._next},n.killTweensOf=function(i,o,a){for(var u=this.getTweensOf(i,a),c=u.length;c--;)js!==u[c]&&u[c].kill(i,o);return this},n.getTweensOf=function(i,o){for(var a=[],u=Dr(i),c=this._first,d=is(o),p;c;)c instanceof Lt?yj(c._targets,u)&&(d?(!js||c._initted&&c._ts)&&c.globalTime(0)<=o&&c.globalTime(c.totalDuration())>o:!o||c.isActive())&&a.push(c):(p=c.getTweensOf(u,o)).length&&a.push.apply(a,p),c=c._next;return a},n.tweenTo=function(i,o){o=o||{};var a=this,u=Lr(a,i),c=o,d=c.startAt,p=c.onStart,m=c.onStartParams,_=c.immediateRender,v,k=Lt.to(a,_r({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:o.duration||Math.abs((u-(d&&"time"in d?d.time:a._time))/a.timeScale())||Ve,onStart:function(){if(a.pause(),!v){var C=o.duration||Math.abs((u-(d&&"time"in d?d.time:a._time))/a.timeScale());k._dur!==C&&pl(k,C,0,1).render(k._time,!0,!0),v=1}p&&p.apply(k,m||[])}},o));return _?k.render(0):k},n.tweenFromTo=function(i,o,a){return this.tweenTo(o,_r({startAt:{time:Lr(this,i)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Cy(this,Lr(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Cy(this,Lr(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ve)},n.shiftChildren=function(i,o,a){a===void 0&&(a=0);var u=this._first,c=this.labels,d;for(i=lt(i);u;)u._start>=a&&(u._start+=i,u._end+=i),u=u._next;if(o)for(d in c)c[d]>=a&&(c[d]+=i);return zo(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),zo(this)},n.totalDuration=function(i){var o=0,a=this,u=a._last,c=zr,d,p,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(m=a.parent;u;)d=u._prev,u._dirty&&u.totalDuration(),p=u._start,p>c&&a._sort&&u._ts&&!a._lock?(a._lock=1,_i(a,u,p-u._delay,1)._lock=0):c=p,p<0&&u._ts&&(o-=p,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=lt(p/a._ts),a._time-=p,a._tTime-=p),a.shiftChildren(-p,!1,-1/0),c=0),u._end>o&&u._ts&&(o=u._end),u=d;pl(a,a===ct&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(ct._ts&&(Hb(ct,Pd(i,ct)),Wb=lr.frame),lr.frame>=ky){ky+=mr.autoSleep||120;var o=ct._first;if((!o||!o._ts)&&mr.autoSleep&&lr._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||lr.sleep()}}},e}(tc);_r(jn.prototype,{_lock:0,_hasPause:0,_forcing:0});var $j=function(e,n,r,i,o,a,u){var c=new Kn(this._pt,e,n,0,1,yk,null,o),d=0,p=0,m,_,v,k,w,C,S,b;for(c.b=r,c.e=i,r+="",i+="",(S=~i.indexOf("random("))&&(i=Qu(i)),a&&(b=[r,i],a(b,e,n),r=b[0],i=b[1]),_=r.match(yp)||[];m=yp.exec(i);)k=m[0],w=i.substring(d,m.index),v?v=(v+1)%5:w.substr(-5)==="rgba("&&(v=1),k!==_[p++]&&(C=parseFloat(_[p-1])||0,c._pt={_next:c._pt,p:w||p===1?w:",",s:C,c:k.charAt(1)==="="?Xa(C,k)-C:parseFloat(k)-C,m:v&&v<4?Math.round:0},d=yp.lastIndex);return c.c=d<i.length?i.substring(d,i.length):"",c.fp=u,(Bb.test(i)||S)&&(c.e=0),this._pt=c,c},Uv=function(e,n,r,i,o,a,u,c,d,p){vt(i)&&(i=i(o||0,e,a));var m=e[n],_=r!=="get"?r:vt(m)?d?e[n.indexOf("set")||!vt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():m,v=vt(m)?d?Gj:vk:Wv,k;if(Jt(i)&&(~i.indexOf("random(")&&(i=Qu(i)),i.charAt(1)==="="&&(k=Xa(_,i)+(gn(_)||0),(k||k===0)&&(i=k))),!p||_!==i||tg)return!isNaN(_*i)&&i!==""?(k=new Kn(this._pt,e,n,+_||0,i-(_||0),typeof m=="boolean"?Yj:_k,0,v),d&&(k.fp=d),u&&k.modifier(u,this,e),this._pt=k):(!m&&!(n in e)&&Iv(n,i),$j.call(this,e,n,_,i,v,c||mr.stringFilter,d))},Wj=function(e,n,r,i,o){if(vt(e)&&(e=yu(e,o,n,r,i)),!Ti(e)||e.style&&e.nodeType||_n(e)||zb(e))return Jt(e)?yu(e,o,n,r,i):e;var a={},u;for(u in e)a[u]=yu(e[u],o,n,r,i);return a},pk=function(e,n,r,i,o,a){var u,c,d,p;if(or[e]&&(u=new or[e]).init(o,u.rawVars?n[e]:Wj(n[e],i,o,a,r),r,i,a)!==!1&&(r._pt=c=new Kn(r._pt,o,e,0,1,u.render,u,0,u.priority),r!==Ua))for(d=r._ptLookup[r._targets.indexOf(o)],p=u._props.length;p--;)d[u._props[p]]=c;return u},js,tg,$v=function t(e,n,r){var i=e.vars,o=i.ease,a=i.startAt,u=i.immediateRender,c=i.lazy,d=i.onUpdate,p=i.runBackwards,m=i.yoyoEase,_=i.keyframes,v=i.autoRevert,k=e._dur,w=e._startAt,C=e._targets,S=e.parent,b=S&&S.data==="nested"?S.vars.targets:C,x=e._overwrite==="auto"&&!Rv,E=e.timeline,P,N,O,I,D,B,W,$,ne,Y,de,G,ee;if(E&&(!_||!o)&&(o="none"),e._ease=Do(o,hl.ease),e._yEase=m?ck(Do(m===!0?o:m,hl.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!E&&!!i.runBackwards,!E||_&&!i.stagger){if($=C[0]?Io(C[0]).harness:0,G=$&&i[$.prop],P=Cd(i,zv),w&&(w._zTime<0&&w.progress(1),n<0&&p&&u&&!v?w.render(-1,!0):w.revert(p&&k?Wh:vj),w._lazy=0),a){if(Gs(e._startAt=Lt.set(C,_r({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!w&&qn(c),startAt:null,delay:0,onUpdate:d&&function(){return dr(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(an||!u&&!v)&&e._startAt.revert(Wh),u&&k&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(p&&k&&!w){if(n&&(u=!1),O=_r({overwrite:!1,data:"isFromStart",lazy:u&&!w&&qn(c),immediateRender:u,stagger:0,parent:S},P),G&&(O[$.prop]=G),Gs(e._startAt=Lt.set(C,O)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(an?e._startAt.revert(Wh):e._startAt.render(-1,!0)),e._zTime=n,!u)t(e._startAt,Ve,Ve);else if(!n)return}for(e._pt=e._ptCache=0,c=k&&qn(c)||c&&!k,N=0;N<C.length;N++){if(D=C[N],W=D._gsap||Bv(C)[N]._gsap,e._ptLookup[N]=Y={},Ym[W.id]&&$s.length&&Ed(),de=b===C?N:b.indexOf(D),$&&(ne=new $).init(D,G||P,e,de,b)!==!1&&(e._pt=I=new Kn(e._pt,D,ne.name,0,1,ne.render,ne,0,ne.priority),ne._props.forEach(function(M){Y[M]=I}),ne.priority&&(B=1)),!$||G)for(O in P)or[O]&&(ne=pk(O,P,e,de,D,b))?ne.priority&&(B=1):Y[O]=I=Uv.call(e,D,O,"get",P[O],de,b,0,i.stringFilter);e._op&&e._op[N]&&e.kill(D,e._op[N]),x&&e._pt&&(js=e,ct.killTweensOf(D,Y,e.globalTime(n)),ee=!e.parent,js=0),e._pt&&c&&(Ym[W.id]=1)}B&&wk(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!ee,_&&n<=0&&E.render(zr,!0,!0)},Vj=function(e,n,r,i,o,a,u,c){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,m,_,v;if(!d)for(d=e._ptCache[n]=[],_=e._ptLookup,v=e._targets.length;v--;){if(p=_[v][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n&&p.fp!==n;)p=p._next;if(!p)return tg=1,e.vars[n]="+=0",$v(e,u),tg=0,c?Xu(n+" not eligible for reset"):1;d.push(p)}for(v=d.length;v--;)m=d[v],p=m._pt||m,p.s=(i||i===0)&&!o?i:p.s+(i||0)+a*p.c,p.c=r-p.s,m.e&&(m.e=bt(r)+gn(m.e)),m.b&&(m.b=p.s+gn(m.b))},Hj=function(e,n){var r=e[0]?Io(e[0]).harness:0,i=r&&r.aliases,o,a,u,c;if(!i)return n;o=dl({},n);for(a in i)if(a in o)for(c=i[a].split(","),u=c.length;u--;)o[c[u]]=o[a];return o},Zj=function(e,n,r,i){var o=n.ease||i||"power1.inOut",a,u;if(_n(n))u=r[e]||(r[e]=[]),n.forEach(function(c,d){return u.push({t:d/(n.length-1)*100,v:c,e:o})});else for(a in n)u=r[a]||(r[a]=[]),a==="ease"||u.push({t:parseFloat(e),v:n[a],e:o})},yu=function(e,n,r,i,o){return vt(e)?e.call(n,r,i,o):Jt(e)&&~e.indexOf("random(")?Qu(e):e},mk=Dv+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gk={};Yn(mk+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return gk[t]=1});var Lt=function(t){Mb(e,t);function e(r,i,o,a){var u;typeof i=="number"&&(o.duration=i,i=o,o=null),u=t.call(this,a?i:vu(i))||this;var c=u.vars,d=c.duration,p=c.delay,m=c.immediateRender,_=c.stagger,v=c.overwrite,k=c.keyframes,w=c.defaults,C=c.scrollTrigger,S=c.yoyoEase,b=i.parent||ct,x=(_n(r)||zb(r)?is(r[0]):"length"in i)?[r]:Dr(r),E,P,N,O,I,D,B,W;if(u._targets=x.length?Bv(x):Xu("GSAP target "+r+" not found. https://gsap.com",!mr.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=v,k||_||lh(d)||lh(p)){if(i=u.vars,E=u.timeline=new jn({data:"nested",defaults:w||{},targets:b&&b.data==="nested"?b.vars.targets:x}),E.kill(),E.parent=E._dp=Ui(u),E._start=0,_||lh(d)||lh(p)){if(O=x.length,B=_&&ek(_),Ti(_))for(I in _)~mk.indexOf(I)&&(W||(W={}),W[I]=_[I]);for(P=0;P<O;P++)N=Cd(i,gk),N.stagger=0,S&&(N.yoyoEase=S),W&&dl(N,W),D=x[P],N.duration=+yu(d,Ui(u),P,D,x),N.delay=(+yu(p,Ui(u),P,D,x)||0)-u._delay,!_&&O===1&&N.delay&&(u._delay=p=N.delay,u._start+=p,N.delay=0),E.to(D,N,B?B(P,D,x):0),E._ease=Ne.none;E.duration()?d=p=0:u.timeline=0}else if(k){vu(_r(E.vars.defaults,{ease:"none"})),E._ease=Do(k.ease||i.ease||"none");var $=0,ne,Y,de;if(_n(k))k.forEach(function(G){return E.to(x,G,">")}),E.duration();else{N={};for(I in k)I==="ease"||I==="easeEach"||Zj(I,k[I],N,k.easeEach);for(I in N)for(ne=N[I].sort(function(G,ee){return G.t-ee.t}),$=0,P=0;P<ne.length;P++)Y=ne[P],de={ease:Y.e,duration:(Y.t-(P?ne[P-1].t:0))/100*d},de[I]=Y.v,E.to(x,de,$),$+=de.duration;E.duration()<d&&E.to({},{duration:d-E.duration()})}}d||u.duration(d=E.duration())}else u.timeline=0;return v===!0&&!Rv&&(js=Ui(u),ct.killTweensOf(x),js=0),_i(b,Ui(u),o),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(m||!d&&!k&&u._start===lt(b._time)&&qn(m)&&kj(Ui(u))&&b.data!=="nested")&&(u._tTime=-Ve,u.render(Math.max(0,-p)||0)),C&&Kb(Ui(u),C),u}var n=e.prototype;return n.render=function(i,o,a){var u=this._time,c=this._tDur,d=this._dur,p=i<0,m=i>c-Ve&&!p?c:i<Ve?0:i,_,v,k,w,C,S,b,x,E;if(!d)Tj(this,i,o,a);else if(m!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(_=m,x=this.timeline,this._repeat){if(w=d+this._rDelay,this._repeat<-1&&p)return this.totalTime(w*100+i,o,a);if(_=lt(m%w),m===c?(k=this._repeat,_=d):(C=lt(m/w),k=~~C,k&&k===C?(_=d,k--):_>d&&(_=d)),S=this._yoyo&&k&1,S&&(E=this._yEase,_=d-_),C=fl(this._tTime,w),_===u&&!a&&this._initted&&k===C)return this._tTime=m,this;k!==C&&(x&&this._yEase&&hk(x,S),this.vars.repeatRefresh&&!S&&!this._lock&&_!==w&&this._initted&&(this._lock=a=1,this.render(lt(w*k),!0).invalidate()._lock=0))}if(!this._initted){if(Xb(this,p?i:_,a,o,m))return this._tTime=0,this;if(u!==this._time&&!(a&&this.vars.repeatRefresh&&k!==C))return this;if(d!==this._dur)return this.render(i,o,a)}if(this._tTime=m,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(E||this._ease)(_/d),this._from&&(this.ratio=b=1-b),!u&&m&&!o&&!C&&(dr(this,"onStart"),this._tTime!==m))return this;for(v=this._pt;v;)v.r(b,v.d),v=v._next;x&&x.render(i<0?i:x._dur*x._ease(_/this._dur),o,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(p&&Km(this,i,o,a),dr(this,"onUpdate")),this._repeat&&k!==C&&this.vars.onRepeat&&!o&&this.parent&&dr(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(p&&!this._onUpdate&&Km(this,i,!0,!0),(i||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Gs(this,1),!o&&!(p&&!u)&&(m||u||S)&&(dr(this,m===c?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,a,u,c){ec||lr.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||$v(this,d),p=this._ease(d/this._dur),Vj(this,i,o,a,u,p,d,c)?this.resetTo(i,o,a,u,1):(df(this,0),this.parent||qb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(o===void 0&&(o="all"),!i&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?eu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!an),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,js&&js.vars.overwrite!==!0)._first||eu(this),this.parent&&a!==this.timeline.totalDuration()&&pl(this,this._dur*this.timeline._tDur/a,0,1),this}var u=this._targets,c=i?Dr(i):u,d=this._ptLookup,p=this._pt,m,_,v,k,w,C,S;if((!o||o==="all")&&xj(u,c))return o==="all"&&(this._pt=0),eu(this);for(m=this._op=this._op||[],o!=="all"&&(Jt(o)&&(w={},Yn(o,function(b){return w[b]=1}),o=w),o=Hj(u,o)),S=u.length;S--;)if(~c.indexOf(u[S])){_=d[S],o==="all"?(m[S]=o,k=_,v={}):(v=m[S]=m[S]||{},k=o);for(w in k)C=_&&_[w],C&&((!("kill"in C.d)||C.d.kill(w)===!0)&&cf(this,C,"_pt"),delete _[w]),v!=="all"&&(v[w]=1)}return this._initted&&!this._pt&&p&&eu(this),this},e.to=function(i,o){return new e(i,o,arguments[2])},e.from=function(i,o){return _u(1,arguments)},e.delayedCall=function(i,o,a,u){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:u})},e.fromTo=function(i,o,a){return _u(2,arguments)},e.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(i,o)},e.killTweensOf=function(i,o,a){return ct.killTweensOf(i,o,a)},e}(tc);_r(Lt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Yn("staggerTo,staggerFrom,staggerFromTo",function(t){Lt[t]=function(){var e=new jn,n=Jm.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Wv=function(e,n,r){return e[n]=r},vk=function(e,n,r){return e[n](r)},Gj=function(e,n,r,i){return e[n](i.fp,r)},qj=function(e,n,r){return e.setAttribute(n,r)},Vv=function(e,n){return vt(e[n])?vk:Ov(e[n])&&e.setAttribute?qj:Wv},_k=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Yj=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},yk=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Hv=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Kj=function(e,n,r,i){for(var o=this._pt,a;o;)a=o._next,o.p===i&&o.modifier(e,n,r),o=a},Xj=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?cf(this,n,"_pt"):n.dep||(r=1),n=i;return!r},Jj=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},wk=function(e){for(var n=e._pt,r,i,o,a;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:a)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:a=n,n=r}e._pt=o},Kn=function(){function t(n,r,i,o,a,u,c,d,p){this.t=r,this.s=o,this.c=a,this.p=i,this.r=u||_k,this.d=c||this,this.set=d||Wv,this.pr=p||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=Jj,this.m=r,this.mt=o,this.tween=i},t}();Yn(Dv+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return zv[t]=1});vr.TweenMax=vr.TweenLite=Lt;vr.TimelineLite=vr.TimelineMax=jn;ct=new jn({sortChildren:!1,defaults:hl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});mr.stringFilter=uk;var Bo=[],Hh={},Qj=[],jy=0,eL=0,Sp=function(e){return(Hh[e]||Qj).map(function(n){return n()})},ng=function(){var e=Date.now(),n=[];e-jy>2&&(Sp("matchMediaInit"),Bo.forEach(function(r){var i=r.queries,o=r.conditions,a,u,c,d;for(u in i)a=mi.matchMedia(i[u]).matches,a&&(c=1),a!==o[u]&&(o[u]=a,d=1);d&&(r.revert(),c&&n.push(r))}),Sp("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),jy=e,Sp("matchMedia"))},xk=function(){function t(n,r){this.selector=r&&Qm(r),this.data=[],this._r=[],this.isReverted=!1,this.id=eL++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,o){vt(r)&&(o=i,i=r,r=vt);var a=this,u=function(){var d=st,p=a.selector,m;return d&&d!==a&&d.data.push(a),o&&(a.selector=Qm(o)),st=a,m=i.apply(a,arguments),vt(m)&&a._r.push(m),st=d,a.selector=p,a.isReverted=!1,m};return a.last=u,r===vt?u(a,function(c){return a.add(null,c)}):r?a[r]=u:u},e.ignore=function(r){var i=st;st=null,r(this),st=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Lt&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var o=this;if(r?function(){for(var u=o.getTweens(),c=o.data.length,d;c--;)d=o.data[c],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(p){return u.splice(u.indexOf(p),1)}));for(u.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,m){return m.g-p.g||-1/0}).forEach(function(p){return p.t.revert(r)}),c=o.data.length;c--;)d=o.data[c],d instanceof jn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Lt)&&d.revert&&d.revert(r);o._r.forEach(function(p){return p(r,o)}),o.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var a=Bo.length;a--;)Bo[a].id===this.id&&Bo.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),tL=function(){function t(n){this.contexts=[],this.scope=n,st&&st.data.push(this)}var e=t.prototype;return e.add=function(r,i,o){Ti(r)||(r={matches:r});var a=new xk(0,o||this.scope),u=a.conditions={},c,d,p;st&&!a.selector&&(a.selector=st.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(d in r)d==="all"?p=1:(c=mi.matchMedia(r[d]),c&&(Bo.indexOf(a)<0&&Bo.push(a),(u[d]=c.matches)&&(p=1),c.addListener?c.addListener(ng):c.addEventListener("change",ng)));return p&&i(a,function(m){return a.add(null,m)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),jd={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return ok(i)})},timeline:function(e){return new jn(e)},getTweensOf:function(e,n){return ct.getTweensOf(e,n)},getProperty:function(e,n,r,i){Jt(e)&&(e=Dr(e)[0]);var o=Io(e||{}).get,a=r?Gb:Zb;return r==="native"&&(r=""),e&&(n?a((or[n]&&or[n].get||o)(e,n,r,i)):function(u,c,d){return a((or[u]&&or[u].get||o)(e,u,c,d))})},quickSetter:function(e,n,r){if(e=Dr(e),e.length>1){var i=e.map(function(p){return Jn.quickSetter(p,n,r)}),o=i.length;return function(p){for(var m=o;m--;)i[m](p)}}e=e[0]||{};var a=or[n],u=Io(e),c=u.harness&&(u.harness.aliases||{})[n]||n,d=a?function(p){var m=new a;Ua._pt=0,m.init(e,r?p+r:p,Ua,0,[e]),m.render(1,m),Ua._pt&&Hv(1,Ua)}:u.set(e,c);return a?d:function(p){return d(e,c,r?p+r:p,u,1)}},quickTo:function(e,n,r){var i,o=Jn.to(e,_r((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),a=function(c,d,p){return o.resetTo(n,c,d,p)};return a.tween=o,a},isTweening:function(e){return ct.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Do(e.ease,hl.ease)),Sy(hl,e||{})},config:function(e){return Sy(mr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,o=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!or[u]&&!vr[u]&&Xu(n+" effect requires "+u+" plugin.")}),wp[n]=function(u,c,d){return r(Dr(u),_r(c||{},o),d)},a&&(jn.prototype[n]=function(u,c,d){return this.add(wp[n](u,Ti(c)?c:(d=c)&&{},this),d)})},registerEase:function(e,n){Ne[e]=Do(n)},parseEase:function(e,n){return arguments.length?Do(e,n):Ne},getById:function(e){return ct.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new jn(e),i,o;for(r.smoothChildTiming=qn(e.smoothChildTiming),ct.remove(r),r._dp=0,r._time=r._tTime=ct._time,i=ct._first;i;)o=i._next,(n||!(!i._dur&&i instanceof Lt&&i.vars.onComplete===i._targets[0]))&&_i(r,i,i._start-i._delay),i=o;return _i(ct,r,0),r},context:function(e,n){return e?new xk(e,n):st},matchMedia:function(e){return new tL(e)},matchMediaRefresh:function(){return Bo.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||ng()},addEventListener:function(e,n){var r=Hh[e]||(Hh[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=Hh[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:Oj,wrapYoyo:Aj,distribute:ek,random:nk,snap:tk,normalize:Rj,getUnit:gn,clamp:Pj,splitColor:ak,toArray:Dr,selector:Qm,mapRange:ik,pipe:Lj,unitize:Nj,interpolate:Mj,shuffle:Qb},install:Ub,effects:wp,ticker:lr,updateRoot:jn.updateRoot,plugins:or,globalTimeline:ct,core:{PropTween:Kn,globals:$b,Tween:Lt,Timeline:jn,Animation:tc,getCache:Io,_removeLinkedListItem:cf,reverting:function(){return an},context:function(e){return e&&st&&(st.data.push(e),e._ctx=st),st},suppressOverwrites:function(e){return Rv=e}}};Yn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return jd[t]=Lt[t]});lr.add(jn.updateRoot);Ua=jd.to({},{duration:0});var nL=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},rL=function(e,n){var r=e._targets,i,o,a;for(i in n)for(o=r.length;o--;)a=e._ptLookup[o][i],a&&(a=a.d)&&(a._pt&&(a=nL(a,i)),a&&a.modifier&&a.modifier(n[i],e,r[o],i))},Tp=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,o,a){a._onInit=function(u){var c,d;if(Jt(o)&&(c={},Yn(o,function(p){return c[p]=1}),o=c),n){c={};for(d in o)c[d]=n(o[d]);o=c}rL(u,o)}}}},Jn=jd.registerPlugin({name:"attr",init:function(e,n,r,i,o){var a,u,c;this.tween=r;for(a in n)c=e.getAttribute(a)||"",u=this.add(e,"setAttribute",(c||0)+"",n[a],i,o,0,0,a),u.op=a,u.b=c,this._props.push(a)},render:function(e,n){for(var r=n._pt;r;)an?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Tp("roundProps",eg),Tp("modifiers"),Tp("snap",tk))||jd;Lt.version=jn.version=Jn.version="3.14.2";Fb=1;Av()&&ml();Ne.Power0;Ne.Power1;Ne.Power2;Ne.Power3;Ne.Power4;Ne.Linear;Ne.Quad;Ne.Cubic;Ne.Quart;Ne.Quint;Ne.Strong;Ne.Elastic;Ne.Back;Ne.SteppedEase;Ne.Bounce;Ne.Sine;Ne.Expo;Ne.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ly,Ls,Ja,Zv,Lo,Ny,Gv,iL=function(){return typeof window<"u"},ss={},xo=180/Math.PI,Qa=Math.PI/180,ca=Math.atan2,Ry=1e8,qv=/([A-Z])/g,sL=/(left|right|width|margin|padding|x)/i,oL=/[\s,\(]\S/,wi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rg=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},aL=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},lL=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},uL=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},cL=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},bk=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},kk=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},hL=function(e,n,r){return e.style[n]=r},dL=function(e,n,r){return e.style.setProperty(n,r)},fL=function(e,n,r){return e._gsap[n]=r},pL=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},mL=function(e,n,r,i,o){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(o,a)},gL=function(e,n,r,i,o){var a=e._gsap;a[n]=r,a.renderTransform(o,a)},ht="transform",Xn=ht+"Origin",vL=function t(e,n){var r=this,i=this.target,o=i.style,a=i._gsap;if(e in ss&&o){if(this.tfm=this.tfm||{},e!=="transform")e=wi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return r.tfm[u]=Vi(i,u)}):this.tfm[e]=a.x?a[e]:Vi(i,e),e===Xn&&(this.tfm.zOrigin=a.zOrigin);else return wi.transform.split(",").forEach(function(u){return t.call(r,u,n)});if(this.props.indexOf(ht)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Xn,n,"")),e=ht}(o||n)&&this.props.push(e,n,o[e])},Sk=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_L=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?n[e[o]](e[o+2]):n[e[o]]=e[o+2]:e[o+2]?r[e[o]]=e[o+2]:r.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(qv,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),o=Gv(),(!o||!o.isStart)&&!r[ht]&&(Sk(r),i.zOrigin&&r[Xn]&&(r[Xn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Tk=function(e,n){var r={target:e,props:[],revert:_L,save:vL};return e._gsap||Jn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},Ek,ig=function(e,n){var r=Ls.createElementNS?Ls.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ls.createElement(e);return r&&r.style?r:Ls.createElement(e)},fr=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(qv,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,gl(n)||n,1)||""},Oy="O,Moz,ms,Ms,Webkit".split(","),gl=function(e,n,r){var i=n||Lo,o=i.style,a=5;if(e in o&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(Oy[a]+e in o););return a<0?null:(a===3?"ms":a>=0?Oy[a]:"")+e},sg=function(){iL()&&window.document&&(Ly=window,Ls=Ly.document,Ja=Ls.documentElement,Lo=ig("div")||{style:{}},ig("div"),ht=gl(ht),Xn=ht+"Origin",Lo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ek=!!gl("perspective"),Gv=Jn.core.reverting,Zv=1)},Ay=function(e){var n=e.ownerSVGElement,r=ig("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),o;i.style.display="block",r.appendChild(i),Ja.appendChild(r);try{o=i.getBBox()}catch{}return r.removeChild(i),Ja.removeChild(r),o},My=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Ck=function(e){var n,r;try{n=e.getBBox()}catch{n=Ay(e),r=1}return n&&(n.width||n.height)||r||(n=Ay(e)),n&&!n.width&&!n.x&&!n.y?{x:+My(e,["x","cx","x1"])||0,y:+My(e,["y","cy","y1"])||0,width:0,height:0}:n},Pk=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ck(e))},qs=function(e,n){if(n){var r=e.style,i;n in ss&&n!==Xn&&(n=ht),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(qv,"-$1").toLowerCase())):r.removeAttribute(n)}},Ns=function(e,n,r,i,o,a){var u=new Kn(e._pt,n,r,0,1,a?kk:bk);return e._pt=u,u.b=i,u.e=o,e._props.push(r),u},Iy={deg:1,rad:1,turn:1},yL={grid:1,flex:1},Ys=function t(e,n,r,i){var o=parseFloat(r)||0,a=(r+"").trim().substr((o+"").length)||"px",u=Lo.style,c=sL.test(n),d=e.tagName.toLowerCase()==="svg",p=(d?"client":"offset")+(c?"Width":"Height"),m=100,_=i==="px",v=i==="%",k,w,C,S;if(i===a||!o||Iy[i]||Iy[a])return o;if(a!=="px"&&!_&&(o=t(e,n,r,"px")),S=e.getCTM&&Pk(e),(v||a==="%")&&(ss[n]||~n.indexOf("adius")))return k=S?e.getBBox()[c?"width":"height"]:e[p],bt(v?o/k*m:o/100*k);if(u[c?"width":"height"]=m+(_?a:i),w=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,S&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===Ls||!w.appendChild)&&(w=Ls.body),C=w._gsap,C&&v&&C.width&&c&&C.time===lr.time&&!C.uncache)return bt(o/C.width*m);if(v&&(n==="height"||n==="width")){var b=e.style[n];e.style[n]=m+i,k=e[p],b?e.style[n]=b:qs(e,n)}else(v||a==="%")&&!yL[fr(w,"display")]&&(u.position=fr(e,"position")),w===e&&(u.position="static"),w.appendChild(Lo),k=Lo[p],w.removeChild(Lo),u.position="absolute";return c&&v&&(C=Io(w),C.time=lr.time,C.width=w[p]),bt(_?k*o/m:k&&o?m/k*o:0)},Vi=function(e,n,r,i){var o;return Zv||sg(),n in wi&&n!=="transform"&&(n=wi[n],~n.indexOf(",")&&(n=n.split(",")[0])),ss[n]&&n!=="transform"?(o=rc(e,i),o=n!=="transformOrigin"?o[n]:o.svg?o.origin:Nd(fr(e,Xn))+" "+o.zOrigin+"px"):(o=e.style[n],(!o||o==="auto"||i||~(o+"").indexOf("calc("))&&(o=Ld[n]&&Ld[n](e,n,r)||fr(e,n)||Vb(e,n)||(n==="opacity"?1:0))),r&&!~(o+"").trim().indexOf(" ")?Ys(e,n,o,r)+r:o},wL=function(e,n,r,i){if(!r||r==="none"){var o=gl(n,e,1),a=o&&fr(e,o,1);a&&a!==r?(n=o,r=a):n==="borderColor"&&(r=fr(e,"borderTopColor"))}var u=new Kn(this._pt,e.style,n,0,1,yk),c=0,d=0,p,m,_,v,k,w,C,S,b,x,E,P;if(u.b=r,u.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=fr(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(w=e.style[n],e.style[n]=i,i=fr(e,n)||i,w?e.style[n]=w:qs(e,n)),p=[r,i],uk(p),r=p[0],i=p[1],_=r.match(Fa)||[],P=i.match(Fa)||[],P.length){for(;m=Fa.exec(i);)C=m[0],b=i.substring(c,m.index),k?k=(k+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(k=1),C!==(w=_[d++]||"")&&(v=parseFloat(w)||0,E=w.substr((v+"").length),C.charAt(1)==="="&&(C=Xa(v,C)+E),S=parseFloat(C),x=C.substr((S+"").length),c=Fa.lastIndex-x.length,x||(x=x||mr.units[n]||E,c===i.length&&(i+=x,u.e+=x)),E!==x&&(v=Ys(e,n,w,x)||0),u._pt={_next:u._pt,p:b||d===1?b:",",s:v,c:S-v,m:k&&k<4||n==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=n==="display"&&i==="none"?kk:bk;return Bb.test(i)&&(u.e=0),this._pt=u,u},zy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xL=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=zy[r]||r,n[1]=zy[i]||i,n.join(" ")},bL=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,o=n.u,a=r._gsap,u,c,d;if(o==="all"||o===!0)i.cssText="",c=1;else for(o=o.split(","),d=o.length;--d>-1;)u=o[d],ss[u]&&(c=1,u=u==="transformOrigin"?Xn:ht),qs(r,u);c&&(qs(r,ht),a&&(a.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",rc(r,1),a.uncache=1,Sk(i)))}},Ld={clearProps:function(e,n,r,i,o){if(o.data!=="isFromStart"){var a=e._pt=new Kn(e._pt,n,r,0,0,bL);return a.u=i,a.pr=-10,a.tween=o,e._props.push(r),1}}},nc=[1,0,0,1,0,0],jk={},Lk=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Dy=function(e){var n=fr(e,ht);return Lk(n)?nc:n.substr(7).match(Db).map(bt)},Yv=function(e,n){var r=e._gsap||Io(e),i=e.style,o=Dy(e),a,u,c,d;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,o=[c.a,c.b,c.c,c.d,c.e,c.f],o.join(",")==="1,0,0,1,0,0"?nc:o):(o===nc&&!e.offsetParent&&e!==Ja&&!r.svg&&(c=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,u=e.nextElementSibling,Ja.appendChild(e)),o=Dy(e),c?i.display=c:qs(e,"display"),d&&(u?a.insertBefore(e,u):a?a.appendChild(e):Ja.removeChild(e))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},og=function(e,n,r,i,o,a){var u=e._gsap,c=o||Yv(e,!0),d=u.xOrigin||0,p=u.yOrigin||0,m=u.xOffset||0,_=u.yOffset||0,v=c[0],k=c[1],w=c[2],C=c[3],S=c[4],b=c[5],x=n.split(" "),E=parseFloat(x[0])||0,P=parseFloat(x[1])||0,N,O,I,D;r?c!==nc&&(O=v*C-k*w)&&(I=E*(C/O)+P*(-w/O)+(w*b-C*S)/O,D=E*(-k/O)+P*(v/O)-(v*b-k*S)/O,E=I,P=D):(N=Ck(e),E=N.x+(~x[0].indexOf("%")?E/100*N.width:E),P=N.y+(~(x[1]||x[0]).indexOf("%")?P/100*N.height:P)),i||i!==!1&&u.smooth?(S=E-d,b=P-p,u.xOffset=m+(S*v+b*w)-S,u.yOffset=_+(S*k+b*C)-b):u.xOffset=u.yOffset=0,u.xOrigin=E,u.yOrigin=P,u.smooth=!!i,u.origin=n,u.originIsAbsolute=!!r,e.style[Xn]="0px 0px",a&&(Ns(a,u,"xOrigin",d,E),Ns(a,u,"yOrigin",p,P),Ns(a,u,"xOffset",m,u.xOffset),Ns(a,u,"yOffset",_,u.yOffset)),e.setAttribute("data-svg-origin",E+" "+P)},rc=function(e,n){var r=e._gsap||new fk(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,o=r.scaleX<0,a="px",u="deg",c=getComputedStyle(e),d=fr(e,Xn)||"0",p,m,_,v,k,w,C,S,b,x,E,P,N,O,I,D,B,W,$,ne,Y,de,G,ee,M,Z,j,X,ae,V,K,le;return p=m=_=w=C=S=b=x=E=0,v=k=1,r.svg=!!(e.getCTM&&Pk(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ht]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ht]!=="none"?c[ht]:"")),i.scale=i.rotate=i.translate="none"),O=Yv(e,r.svg),r.svg&&(r.uncache?(M=e.getBBox(),d=r.xOrigin-M.x+"px "+(r.yOrigin-M.y)+"px",ee=""):ee=!n&&e.getAttribute("data-svg-origin"),og(e,ee||d,!!ee||r.originIsAbsolute,r.smooth!==!1,O)),P=r.xOrigin||0,N=r.yOrigin||0,O!==nc&&(W=O[0],$=O[1],ne=O[2],Y=O[3],p=de=O[4],m=G=O[5],O.length===6?(v=Math.sqrt(W*W+$*$),k=Math.sqrt(Y*Y+ne*ne),w=W||$?ca($,W)*xo:0,b=ne||Y?ca(ne,Y)*xo+w:0,b&&(k*=Math.abs(Math.cos(b*Qa))),r.svg&&(p-=P-(P*W+N*ne),m-=N-(P*$+N*Y))):(le=O[6],V=O[7],j=O[8],X=O[9],ae=O[10],K=O[11],p=O[12],m=O[13],_=O[14],I=ca(le,ae),C=I*xo,I&&(D=Math.cos(-I),B=Math.sin(-I),ee=de*D+j*B,M=G*D+X*B,Z=le*D+ae*B,j=de*-B+j*D,X=G*-B+X*D,ae=le*-B+ae*D,K=V*-B+K*D,de=ee,G=M,le=Z),I=ca(-ne,ae),S=I*xo,I&&(D=Math.cos(-I),B=Math.sin(-I),ee=W*D-j*B,M=$*D-X*B,Z=ne*D-ae*B,K=Y*B+K*D,W=ee,$=M,ne=Z),I=ca($,W),w=I*xo,I&&(D=Math.cos(I),B=Math.sin(I),ee=W*D+$*B,M=de*D+G*B,$=$*D-W*B,G=G*D-de*B,W=ee,de=M),C&&Math.abs(C)+Math.abs(w)>359.9&&(C=w=0,S=180-S),v=bt(Math.sqrt(W*W+$*$+ne*ne)),k=bt(Math.sqrt(G*G+le*le)),I=ca(de,G),b=Math.abs(I)>2e-4?I*xo:0,E=K?1/(K<0?-K:K):0),r.svg&&(ee=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Lk(fr(e,ht)),ee&&e.setAttribute("transform",ee))),Math.abs(b)>90&&Math.abs(b)<270&&(o?(v*=-1,b+=w<=0?180:-180,w+=w<=0?180:-180):(k*=-1,b+=b<=0?180:-180)),n=n||r.uncache,r.x=p-((r.xPercent=p&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=m-((r.yPercent=m&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=_+a,r.scaleX=bt(v),r.scaleY=bt(k),r.rotation=bt(w)+u,r.rotationX=bt(C)+u,r.rotationY=bt(S)+u,r.skewX=b+u,r.skewY=x+u,r.transformPerspective=E+a,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Xn]=Nd(d)),r.xOffset=r.yOffset=0,r.force3D=mr.force3D,r.renderTransform=r.svg?SL:Ek?Nk:kL,r.uncache=0,r},Nd=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ep=function(e,n,r){var i=gn(n);return bt(parseFloat(n)+parseFloat(Ys(e,"x",r+"px",i)))+i},kL=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Nk(e,n)},ho="0deg",Hl="0px",fo=") ",Nk=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,a=r.x,u=r.y,c=r.z,d=r.rotation,p=r.rotationY,m=r.rotationX,_=r.skewX,v=r.skewY,k=r.scaleX,w=r.scaleY,C=r.transformPerspective,S=r.force3D,b=r.target,x=r.zOrigin,E="",P=S==="auto"&&e&&e!==1||S===!0;if(x&&(m!==ho||p!==ho)){var N=parseFloat(p)*Qa,O=Math.sin(N),I=Math.cos(N),D;N=parseFloat(m)*Qa,D=Math.cos(N),a=Ep(b,a,O*D*-x),u=Ep(b,u,-Math.sin(N)*-x),c=Ep(b,c,I*D*-x+x)}C!==Hl&&(E+="perspective("+C+fo),(i||o)&&(E+="translate("+i+"%, "+o+"%) "),(P||a!==Hl||u!==Hl||c!==Hl)&&(E+=c!==Hl||P?"translate3d("+a+", "+u+", "+c+") ":"translate("+a+", "+u+fo),d!==ho&&(E+="rotate("+d+fo),p!==ho&&(E+="rotateY("+p+fo),m!==ho&&(E+="rotateX("+m+fo),(_!==ho||v!==ho)&&(E+="skew("+_+", "+v+fo),(k!==1||w!==1)&&(E+="scale("+k+", "+w+fo),b.style[ht]=E||"translate(0, 0)"},SL=function(e,n){var r=n||this,i=r.xPercent,o=r.yPercent,a=r.x,u=r.y,c=r.rotation,d=r.skewX,p=r.skewY,m=r.scaleX,_=r.scaleY,v=r.target,k=r.xOrigin,w=r.yOrigin,C=r.xOffset,S=r.yOffset,b=r.forceCSS,x=parseFloat(a),E=parseFloat(u),P,N,O,I,D;c=parseFloat(c),d=parseFloat(d),p=parseFloat(p),p&&(p=parseFloat(p),d+=p,c+=p),c||d?(c*=Qa,d*=Qa,P=Math.cos(c)*m,N=Math.sin(c)*m,O=Math.sin(c-d)*-_,I=Math.cos(c-d)*_,d&&(p*=Qa,D=Math.tan(d-p),D=Math.sqrt(1+D*D),O*=D,I*=D,p&&(D=Math.tan(p),D=Math.sqrt(1+D*D),P*=D,N*=D)),P=bt(P),N=bt(N),O=bt(O),I=bt(I)):(P=m,I=_,N=O=0),(x&&!~(a+"").indexOf("px")||E&&!~(u+"").indexOf("px"))&&(x=Ys(v,"x",a,"px"),E=Ys(v,"y",u,"px")),(k||w||C||S)&&(x=bt(x+k-(k*P+w*O)+C),E=bt(E+w-(k*N+w*I)+S)),(i||o)&&(D=v.getBBox(),x=bt(x+i/100*D.width),E=bt(E+o/100*D.height)),D="matrix("+P+","+N+","+O+","+I+","+x+","+E+")",v.setAttribute("transform",D),b&&(v.style[ht]=D)},TL=function(e,n,r,i,o){var a=360,u=Jt(o),c=parseFloat(o)*(u&&~o.indexOf("rad")?xo:1),d=c-i,p=i+d+"deg",m,_;return u&&(m=o.split("_")[1],m==="short"&&(d%=a,d!==d%(a/2)&&(d+=d<0?a:-a)),m==="cw"&&d<0?d=(d+a*Ry)%a-~~(d/a)*a:m==="ccw"&&d>0&&(d=(d-a*Ry)%a-~~(d/a)*a)),e._pt=_=new Kn(e._pt,n,r,i,d,aL),_.e=p,_.u="deg",e._props.push(r),_},By=function(e,n){for(var r in n)e[r]=n[r];return e},EL=function(e,n,r){var i=By({},r._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=r.style,u,c,d,p,m,_,v,k;i.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),a[ht]=n,u=rc(r,1),qs(r,ht),r.setAttribute("transform",d)):(d=getComputedStyle(r)[ht],a[ht]=n,u=rc(r,1),a[ht]=d);for(c in ss)d=i[c],p=u[c],d!==p&&o.indexOf(c)<0&&(v=gn(d),k=gn(p),m=v!==k?Ys(r,c,d,k):parseFloat(d),_=parseFloat(p),e._pt=new Kn(e._pt,u,c,m,_-m,rg),e._pt.u=k||0,e._props.push(c));By(u,i)};Yn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",o="Left",a=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(u){return e<2?t+u:"border"+u+t});Ld[e>1?"border"+t:t]=function(u,c,d,p,m){var _,v;if(arguments.length<4)return _=a.map(function(k){return Vi(u,k,d)}),v=_.join(" "),v.split(_[0]).length===5?_[0]:v;_=(p+"").split(" "),v={},a.forEach(function(k,w){return v[k]=_[w]=_[w]||_[(w-1)/2|0]}),u.init(c,v,m)}});var Rk={name:"css",register:sg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,o){var a=this._props,u=e.style,c=r.vars.startAt,d,p,m,_,v,k,w,C,S,b,x,E,P,N,O,I,D;Zv||sg(),this.styles=this.styles||Tk(e),I=this.styles.props,this.tween=r;for(w in n)if(w!=="autoRound"&&(p=n[w],!(or[w]&&pk(w,n,r,i,e,o)))){if(v=typeof p,k=Ld[w],v==="function"&&(p=p.call(r,i,e,o),v=typeof p),v==="string"&&~p.indexOf("random(")&&(p=Qu(p)),k)k(this,e,w,p,r)&&(O=1);else if(w.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(w)+"").trim(),p+="",Ws.lastIndex=0,Ws.test(d)||(C=gn(d),S=gn(p),S?C!==S&&(d=Ys(e,w,d,S)+S):C&&(p+=C)),this.add(u,"setProperty",d,p,i,o,0,0,w),a.push(w),I.push(w,0,u[w]);else if(v!=="undefined"){if(c&&w in c?(d=typeof c[w]=="function"?c[w].call(r,i,e,o):c[w],Jt(d)&&~d.indexOf("random(")&&(d=Qu(d)),gn(d+"")||d==="auto"||(d+=mr.units[w]||gn(Vi(e,w))||""),(d+"").charAt(1)==="="&&(d=Vi(e,w))):d=Vi(e,w),_=parseFloat(d),b=v==="string"&&p.charAt(1)==="="&&p.substr(0,2),b&&(p=p.substr(2)),m=parseFloat(p),w in wi&&(w==="autoAlpha"&&(_===1&&Vi(e,"visibility")==="hidden"&&m&&(_=0),I.push("visibility",0,u.visibility),Ns(this,u,"visibility",_?"inherit":"hidden",m?"inherit":"hidden",!m)),w!=="scale"&&w!=="transform"&&(w=wi[w],~w.indexOf(",")&&(w=w.split(",")[0]))),x=w in ss,x){if(this.styles.save(w),D=p,v==="string"&&p.substring(0,6)==="var(--"){if(p=fr(e,p.substring(4,p.indexOf(")"))),p.substring(0,5)==="calc("){var B=e.style.perspective;e.style.perspective=p,p=fr(e,"perspective"),B?e.style.perspective=B:qs(e,"perspective")}m=parseFloat(p)}if(E||(P=e._gsap,P.renderTransform&&!n.parseTransform||rc(e,n.parseTransform),N=n.smoothOrigin!==!1&&P.smooth,E=this._pt=new Kn(this._pt,u,ht,0,1,P.renderTransform,P,0,-1),E.dep=1),w==="scale")this._pt=new Kn(this._pt,P,"scaleY",P.scaleY,(b?Xa(P.scaleY,b+m):m)-P.scaleY||0,rg),this._pt.u=0,a.push("scaleY",w),w+="X";else if(w==="transformOrigin"){I.push(Xn,0,u[Xn]),p=xL(p),P.svg?og(e,p,0,N,0,this):(S=parseFloat(p.split(" ")[2])||0,S!==P.zOrigin&&Ns(this,P,"zOrigin",P.zOrigin,S),Ns(this,u,w,Nd(d),Nd(p)));continue}else if(w==="svgOrigin"){og(e,p,1,N,0,this);continue}else if(w in jk){TL(this,P,w,_,b?Xa(_,b+p):p);continue}else if(w==="smoothOrigin"){Ns(this,P,"smooth",P.smooth,p);continue}else if(w==="force3D"){P[w]=p;continue}else if(w==="transform"){EL(this,p,e);continue}}else w in u||(w=gl(w)||w);if(x||(m||m===0)&&(_||_===0)&&!oL.test(p)&&w in u)C=(d+"").substr((_+"").length),m||(m=0),S=gn(p)||(w in mr.units?mr.units[w]:C),C!==S&&(_=Ys(e,w,d,S)),this._pt=new Kn(this._pt,x?P:u,w,_,(b?Xa(_,b+m):m)-_,!x&&(S==="px"||w==="zIndex")&&n.autoRound!==!1?cL:rg),this._pt.u=S||0,x&&D!==p?(this._pt.b=d,this._pt.e=D,this._pt.r=uL):C!==S&&S!=="%"&&(this._pt.b=d,this._pt.r=lL);else if(w in u)wL.call(this,e,w,d,b?b+p:p);else if(w in e)this.add(e,w,d||e[w],b?b+p:p,i,o);else if(w!=="parseTransform"){Iv(w,p);continue}x||(w in u?I.push(w,0,u[w]):typeof e[w]=="function"?I.push(w,2,e[w]()):I.push(w,1,d||e[w])),a.push(w)}}O&&wk(this)},render:function(e,n){if(n.tween._time||!Gv())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Vi,aliases:wi,getSetter:function(e,n,r){var i=wi[n];return i&&i.indexOf(",")<0&&(n=i),n in ss&&n!==Xn&&(e._gsap.x||Vi(e,"x"))?r&&Ny===r?n==="scale"?pL:fL:(Ny=r||{})&&(n==="scale"?mL:gL):e.style&&!Ov(e.style[n])?hL:~n.indexOf("-")?dL:Vv(e,n)},core:{_removeProperty:qs,_getMatrix:Yv}};Jn.utils.checkPrefix=gl;Jn.core.getStyleSaver=Tk;(function(t,e,n,r){var i=Yn(t+","+e+","+n,function(o){ss[o]=1});Yn(e,function(o){mr.units[o]="deg",jk[o]=1}),wi[i[13]]=t+","+e,Yn(r,function(o){var a=o.split(":");wi[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Yn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){mr.units[t]="px"});Jn.registerPlugin(Rk);var ge=Jn.registerPlugin(Rk)||Jn;ge.core.Tween;var ag=function(){return ag=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ag.apply(this,arguments)};function ff(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ai(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function u(p){try{d(r.next(p))}catch(m){a(m)}}function c(p){try{d(r.throw(p))}catch(m){a(m)}}function d(p){p.done?o(p.value):i(p.value).then(u,c)}d((r=r.apply(t,e||[])).next())})}function Ei(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ok(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}const CL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Kv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class PL extends Kv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Fy extends Kv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uy extends Kv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var lg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(lg||(lg={}));class jL{constructor(e,{headers:n={},customFetch:r,region:i=lg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=CL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ai(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:u,method:c,body:d,signal:p,timeout:m}=r;let _={},{region:v}=r;v||(v=this.region);const k=new URL(`${this.url}/${n}`);v&&v!=="any"&&(_["x-region"]=v,k.searchParams.set("forceFunctionRegion",v));let w;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(_["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(_["Content-Type"]="application/json",w=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?w=JSON.stringify(d):w=d;let C=p;m&&(a=new AbortController,o=setTimeout(()=>a.abort(),m),p?(C=a.signal,p.addEventListener("abort",()=>a.abort())):C=a.signal);const S=yield this.fetch(k.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),u),body:w,signal:C}).catch(P=>{throw new PL(P)}),b=S.headers.get("x-relay-error");if(b&&b==="true")throw new Fy(S);if(!S.ok)throw new Uy(S);let x=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield S.json():x==="application/octet-stream"||x==="application/pdf"?E=yield S.blob():x==="text/event-stream"?E=S:x==="multipart/form-data"?E=yield S.formData():E=yield S.text(),{data:E,error:null,response:S}}catch(u){return{data:null,error:u,response:u instanceof Uy||u instanceof Fy?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var LL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NL=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,u=null,c=null,d=o.status,p=o.statusText;if(o.ok){var m,_;if(n.method!=="HEAD"){var v;const S=await o.text();S===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=S:u=JSON.parse(S))}const w=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),C=(_=o.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");w&&C&&C.length>1&&(c=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(a={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var k;const w=await o.text();try{a=JSON.parse(w),Array.isArray(a)&&o.status===404&&(u=[],a=null,d=200,p="OK")}catch{o.status===404&&w===""?(d=204,p="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(k=a.details)===null||k===void 0)&&k.includes("0 rows"))&&(a=null,d=200,p="OK"),a&&n.shouldThrowOnError)throw new LL(a)}return{error:a,data:u,count:c,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let u="";const c=o==null?void 0:o.cause;if(c){var d,p,m,_;const k=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",w=(p=c==null?void 0:c.code)!==null&&p!==void 0?p:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(_=c==null?void 0:c.name)!==null&&_!==void 0?_:"Error"}: ${k}`,w&&(u+=` (${w})`),c!=null&&c.stack&&(u+=`
${c.stack}`)}else{var v;u=(v=o==null?void 0:o.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},RL=class extends NL{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const $y=new RegExp("[,()]");var ka=class extends RL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&$y.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&$y.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},OL=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:u,headers:c}=this.cloneRequestState();return u.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new ka({method:i,url:u,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new ka({method:i,url:o,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:u,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new ka({method:a,url:u,headers:c,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ka({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ka({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},AL=class Ak{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new OL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ak(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let u;const c=new URL(`${this.url}/rpc/${e}`);let d;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),m=r&&Object.values(n).some(p);m?(u="POST",d=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([v,k])=>k!==void 0).map(([v,k])=>[v,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([v,k])=>{c.searchParams.append(v,k)})):(u="POST",d=n);const _=new Headers(this.headers);return m?_.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&_.set("Prefer",`count=${o}`),new ka({method:u,url:c,headers:_,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class ML{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const IL="2.93.3",zL=`realtime-js/${IL}`,DL="1.0.0",Mk="2.0.0",Wy=Mk,ug=1e4,BL=1e3,FL=100;var xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xs||(xs={}));var zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zt||(zt={}));var ni;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ni||(ni={}));var cg;(function(t){t.websocket="websocket"})(cg||(cg={}));var To;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(To||(To={}));class UL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",c=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+a.length+d.length+m.length,v=new ArrayBuffer(this.HEADER_LENGTH+_);let k=new DataView(v),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,c.length),k.setUint8(w++,u.length),k.setUint8(w++,a.length),k.setUint8(w++,d.length),k.setUint8(w++,m.length),k.setUint8(w++,n),Array.from(c,S=>k.setUint8(w++,S.charCodeAt(0))),Array.from(u,S=>k.setUint8(w++,S.charCodeAt(0))),Array.from(a,S=>k.setUint8(w++,S.charCodeAt(0))),Array.from(d,S=>k.setUint8(w++,S.charCodeAt(0))),Array.from(m,S=>k.setUint8(w++,S.charCodeAt(0)));var C=new Uint8Array(v.byteLength+r.byteLength);return C.set(new Uint8Array(v),0),C.set(new Uint8Array(r),v.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,u,c]=r;return n({join_ref:i,ref:o,topic:a,event:u,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(e.slice(c,c+i));c=c+i;const p=r.decode(e.slice(c,c+o));c=c+o;const m=r.decode(e.slice(c,c+a));c=c+a;const _=e.slice(c,e.byteLength),v=u===this.JSON_ENCODING?JSON.parse(r.decode(_)):_,k={type:this.BROADCAST_EVENT,event:p,payload:v};return a>0&&(k.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Ik{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qe||(qe={}));const Vy=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=$L(a,t,e,i),o),{}):{}},$L=(t,e,n,r)=>{const i=e.find(u=>u.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?zk(o,a):hg(a)},zk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZL(e,n)}switch(t){case qe.bool:return WL(e);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return VL(e);case qe.json:case qe.jsonb:return HL(e);case qe.timestamp:return GL(e);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return hg(e);default:return hg(e)}},hg=t=>t,WL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},HL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},ZL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(u=>zk(e,u))}return t},GL=t=>typeof t=="string"?t.replace(" ","T"):t,Dk=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Cp{constructor(e,n,r={},i=ug){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Hy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Hy||(Hy={}));class wu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wu.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=wu.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wu.syncDiff(this.state,i,o,a),u())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),u={},c={};return this.map(o,(d,p)=>{a[d]||(c[d]=p)}),this.map(a,(d,p)=>{const m=o[d];if(m){const _=p.map(C=>C.presence_ref),v=m.map(C=>C.presence_ref),k=p.filter(C=>v.indexOf(C.presence_ref)<0),w=m.filter(C=>_.indexOf(C.presence_ref)<0);k.length>0&&(u[d]=k),w.length>0&&(c[d]=w)}else u[d]=p}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var d;const p=(d=e[u])!==null&&d!==void 0?d:[];if(e[u]=this.cloneDeep(c),p.length>0){const m=e[u].map(v=>v.presence_ref),_=p.filter(v=>m.indexOf(v.presence_ref)<0);e[u].unshift(..._)}r(u,p,c)}),this.map(a,(u,c)=>{let d=e[u];if(!d)return;const p=c.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[u]=d,i(u,d,c),d.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zy||(Zy={}));var xu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xu||(xu={}));var $i;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($i||($i={}));class $a{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cp(this,ni.join,this.params,this.timeout),this.rejoinTimer=new Ik(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ni.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new wu(this),this.broadcastEndpointURL=Dk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:a,presence:u,private:c}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[xu.PRESENCE]&&this.bindings[xu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},_={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e($i.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e($i.CLOSED)),this.updateJoinPayload(Object.assign({config:_},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e($i.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,C=(k=w==null?void 0:w.length)!==null&&k!==void 0?k:0,S=[];for(let b=0;b<C;b++){const x=w[b],{filter:{event:E,schema:P,table:N,filter:O}}=x,I=v&&v[b];if(I&&I.event===E&&$a.isFilterValueEqual(I.schema,P)&&$a.isFilterValueEqual(I.table,N)&&$a.isFilterValueEqual(I.filter,O))S.push(Object.assign(Object.assign({},x),{id:I.id}));else{this.unsubscribe(),this.state=zt.errored,e==null||e($i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e($i.SUBSCRIBED);return}}).receive("error",v=>{this.state=zt.errored,e==null||e($i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===zt.joined&&e===xu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const d=await u.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,u,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ni.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Cp(this,ni.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>FL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:u,error:c,leave:d,join:p}=ni;if(r&&[u,c,d,p].indexOf(a)>=0&&r!==this._joinRef())return;let _=this._onMessage(a,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var k,w,C;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(w=v.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(v=>v.callback(_,r)):(o=this.bindings[a])===null||o===void 0||o.filter(v=>{var k,w,C,S,b,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const E=v.id,P=(k=v.filter)===null||k===void 0?void 0:k.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const E=(b=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return E==="*"||E===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof _=="object"&&"ids"in _){const k=_.data,{schema:w,table:C,commit_timestamp:S,type:b,errors:x}=k;_=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:S,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(k))}v.callback(_,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$a.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ni.close,{},e)}_onError(e){this._on(ni.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vy(e.columns,e.old_record)),n}}const Pp=()=>{},uh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qL=[1e3,2e3,5e3,1e4],YL=1e4,KL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XL{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ug,this.transport=null,this.heartbeatIntervalMs=uh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pp,this.ref=0,this.reconnectTimer=null,this.vsn=Wy,this.logger=Pp,this.conn=null,this.sendBuffer=[],this.serializer=new UL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${cg.websocket}`,this.httpEndpoint=Dk(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ML.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return To.Connecting;case xs.open:return To.Open;case xs.closing:return To.Closing;default:return To.Closed}}isConnected(){return this.connectionState()===To.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new $a(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},uh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,u=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xs.open||this.conn.readyState===xs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ni.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([KL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:zL};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(ni.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ik(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,u,c,d,p,m,_,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ug,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:uh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Pp,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Wy,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:k=>qL[k-1]||YL,this.vsn){case DL:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(k,w)=>w(JSON.stringify(k)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(k,w)=>w(JSON.parse(k));break;case Mk:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ic=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JL(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function QL(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function eN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const u=JL(t.baseUrl,r,i),c=await QL(t.auth),d=await e(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...a},body:o?JSON.stringify(o):void 0}),p=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),_=m&&p?JSON.parse(p):p;if(!d.ok){const v=m?_:void 0,k=v==null?void 0:v.error;throw new ic((k==null?void 0:k.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:v})}return{status:d.status,headers:d.headers,data:_}}}}function ch(t){return t.join("")}var tN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ch(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ch(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ch(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ch(t.namespace)}`}),!0}catch(e){if(e instanceof ic&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ic&&n.status===409)return;throw n}}};function ha(t){return t.join("")}var nN=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ha(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ic&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ic&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},rN=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=eN({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new tN(this.client,e),this.tableOps=new nN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},pf=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function mf(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var hh=class extends pf{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bk=class extends pf{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const iN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dg=t=>{if(Array.isArray(t))return t.map(n=>dg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=dg(r)}),e},oN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function aN(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lN(t){var e=aN(t,"string");return sc(e)=="symbol"?e:e+""}function uN(t,e,n){return(e=lN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(n),!0).forEach(function(r){uN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const qy=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},cN=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const u=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";e(new hh(qy(a),o,u,r))}).catch(()=>{if(r==="vectors"){const a=o+"";e(new hh(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";e(new hh(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";e(new hh(i.statusText||`HTTP ${o} error`,o,a,r))}}else e(new Bk(qy(t),t,r))},hN=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?me(me({},i),n):(sN(r)?(i.headers=me({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),me(me({},i),n))};async function Zl(t,e,n,r,i,o,a){return new Promise((u,c)=>{t(n,hN(e,r,i,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;if(a==="vectors"){const p=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!p||!p.includes("application/json"))return{}}return d.json()}).then(d=>u(d)).catch(d=>cN(d,c,r,a))})}function Fk(t="storage"){return{get:async(e,n,r,i)=>Zl(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,o)=>Zl(e,"POST",n,i,o,r,t),put:async(e,n,r,i,o)=>Zl(e,"PUT",n,i,o,r,t),head:async(e,n,r,i)=>Zl(e,"HEAD",n,me(me({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,o)=>Zl(e,"DELETE",n,i,o,r,t)}}const dN=Fk("storage"),{get:oc,post:Qr,put:fg,head:fN,remove:Xv}=dN,ur=Fk("vectors");var kl=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=iN(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mf(n))return{data:null,error:n};throw n}}},pN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mf(e))return{data:null,error:e};throw e}}};let Uk;Uk=Symbol.toStringTag;var mN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Uk]="BlobDownloadBuilder",this.promise=null}asStream(){return new pN(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mf(e))return{data:null,error:e};throw e}}};const gN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vN=class extends kl{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=me(me({},Yy),r);let u=me(me({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,u["cache-control"]=`max-age=${a.cacheControl}`,u["content-type"]=a.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(u=me(me({},u),r.headers));const d=i._removeEmptyFolders(e),p=i._getFinalPath(d),m=await(t=="PUT"?fg:Qr)(i.fetch,`${i.url}/object/${p}`,o,me({headers:u},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${a}`);return u.searchParams.set("token",e),i.handleOperation(async()=>{let c;const d=me({upsert:Yy.upsert},r),p=me(me({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{path:o,fullPath:(await fg(i.fetch,u.toString(),c,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=me({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Qr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),u=a.searchParams.get("token");if(!u)throw new pf("No token returned by API");return{signedUrl:a.toString(),path:t,token:u}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Qr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Qr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),o=await Qr(r.fetch,`${r.url}/object/sign/${i}`,me({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Qr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>me(me({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>oc(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new mN(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>dg(await oc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await fN(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mf(r)&&r instanceof Bk){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Xv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=me(me(me({},gN),e),{},{prefix:t||""});return await Qr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=me({},t);return await Qr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const _N="2.93.3",wc={"X-Client-Info":`storage-js/${_N}`};var yN=class extends kl{constructor(t,e={},n,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=me(me({},wc),e);super(o,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await oc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await oc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Qr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await fg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Qr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Xv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},wN=class extends kl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=me(me({},wc),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Qr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await oc(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Xv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!oN(t))throw new pf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new rN({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...u)=>{try{return{data:await a.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},xN=class extends kl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=me(me({},wc),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await ur.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await ur.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},bN=class extends kl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=me(me({},wc),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},kN=class extends kl{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=me(me({},wc),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ur.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},SN=class extends kN{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new TN(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},TN=class extends xN{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new EN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},EN=class extends bN{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,me(me({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},CN=class extends yN{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new vN(this.url,this.headers,t,this.fetch)}get vectors(){return new SN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wN(this.url+"/iceberg",this.headers,this.fetch)}};const $k="2.93.3",Sa=30*1e3,pg=3,jp=pg*Sa,PN="http://localhost:9999",jN="supabase.auth.token",LN={"X-Client-Info":`gotrue-js/${$k}`},mg="X-Supabase-Api-Version",Wk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RN=10*60*1e3;class ac extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ON extends ac{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AN(t){return oe(t)&&t.name==="AuthApiError"}class Eo extends ac{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class as extends ac{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nr extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lp(t){return oe(t)&&t.name==="AuthSessionMissingError"}class da extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dh extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fh extends as{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MN(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ky extends as{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class IN extends as{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gg extends as{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Np(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Xy extends as{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vg extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jy=` 	
\r=`.split(""),zN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jy.length;e+=1)t[Jy[e].charCodeAt(0)]=-2;for(let e=0;e<Rd.length;e+=1)t[Rd[e].charCodeAt(0)]=e;return t})();function Qy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rd[r]),e.queuedBits-=6}}function Vk(t,e,n){const r=zN[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ew(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{FN(a,r,n)};for(let a=0;a<t.length;a+=1)Vk(t.charCodeAt(a),i,o);return e.join("")}function DN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BN(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}DN(r,e)}}function FN(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function el(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Vk(t.charCodeAt(i),n,r);return new Uint8Array(e)}function UN(t){const e=[];return BN(t,n=>e.push(n)),new Uint8Array(e)}function No(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Qy(i,n,r)),Qy(null,n,r),e.join("")}function $N(t){return Math.round(Date.now()/1e3)+t}function WN(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},Hk=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function VN(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Zk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ta=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},mo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tn=async(t,e)=>{await t.removeItem(e)};class gf{constructor(){this.promise=new gf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gf.promiseConstructor=Promise;function ph(t){const e=t.split(".");if(e.length!==3)throw new vg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!NN.test(e[r]))throw new vg("JWT not in base64url format");return{header:JSON.parse(ew(e[0])),payload:JSON.parse(ew(e[1])),signature:el(e[2]),raw:{header:e[0],payload:e[1]}}}async function ZN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GN(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function qN(t){return("0"+t.toString(16)).substr(-2)}function YN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,qN).join("")}async function KN(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function XN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fa(t,e,n=!1){const r=YN();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ta(t,`${e}-code-verifier`,i);const o=await XN(r);return[o,r===o?"plain":"s256"]}const JN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QN(t){const e=t.headers.get(mg);if(!e||!e.match(JN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pa(t){if(!nR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rR(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function tw(t){return JSON.parse(JSON.stringify(t))}const bo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iR=[502,503,504];async function nw(t){var e;if(!HN(t))throw new gg(bo(t),0);if(iR.includes(t.status))throw new gg(bo(t),t.status);let n;try{n=await t.json()}catch(o){throw new Eo(bo(o),o)}let r;const i=QN(t);if(i&&i.getTime()>=Wk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xy(bo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Xy(bo(n),t.status,n.weak_password.reasons);throw new ON(bo(n),t.status||500,r)}const sR=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function fe(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[mg]||(o[mg]=Wk["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const u=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await oR(t,e,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function oR(t,e,n,r,i,o){const a=sR(e,r,i,o);let u;try{u=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new gg(bo(c),0)}if(u.ok||await nw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await nw(c)}}function Kr(t){var e;let n=null;uR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$N(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function rw(t){const e=Kr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ts(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function aR(t){return{data:t,error:null}}function lR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=ff(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:u,user:c},error:null}}function iw(t){return t}function uR(t){return t.access_token&&t.refresh_token&&t.expires_in}const Op=["global","local","others"];class cR{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Zk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Op[0]){if(Op.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Op.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ff(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ts})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,u,c;try{const d={nextPage:null,lastPage:0,total:0},p=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:iw});if(p.error)throw p.error;const m=await p.json(),_=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);d[`${C}Page`]=w}),d.total=parseInt(_)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(oe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){pa(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ts})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){pa(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ts})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){pa(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){pa(e.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){pa(e.userId),pa(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,u,c;try{const d={nextPage:null,lastPage:0,total:0},p=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:iw});if(p.error)throw p.error;const m=await p.json(),_=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);d[`${C}Page`]=w}),d.total=parseInt(_)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(oe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function sw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ma={debug:!!(globalThis&&Hk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hR extends Gk{}async function dR(t,e,n){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ma.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pR(t){return parseInt(t,16)}function mR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function gR(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:u,requestId:c,resources:d,scheme:p,uri:m,version:_}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=qk(t.address),k=p?`${p}://${r}`:r,w=t.statement?`${t.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${v}

${w}`;let S=`URI: ${m}
Version: ${_}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),u&&(S+=`
Not Before: ${u.toISOString()}`),c&&(S+=`
Request ID: ${c}`),d){let b=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}S+=b}return`${C}
${S}`}class Pt extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Od extends Pt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function vR({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Yk(a)){if(o.rp.id!==a)return new Pt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function _R({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Yk(r)){if(n.rpId!==r)return new Pt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class yR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const wR=new yR;function xR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=ff(t,["challenge","user","excludeCredentials"]),o=el(e).buffer,a=Object.assign(Object.assign({},n),{id:el(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:el(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function bR(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=ff(t,["challenge","allowCredentials"]),i=el(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const u=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},u),{id:el(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function kR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:No(new Uint8Array(t.response.attestationObject)),clientDataJSON:No(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function SR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:No(new Uint8Array(i.authenticatorData)),clientDataJSON:No(new Uint8Array(i.clientDataJSON)),signature:No(new Uint8Array(i.signature)),userHandle:i.userHandle?No(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ow(){var t,e;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function TR(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Od("Browser returned unexpected credential type",e)}:{data:null,error:new Od("Empty credential response",e)}}catch(e){return{data:null,error:vR({error:e,options:t})}}}async function ER(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Od("Browser returned unexpected credential type",e)}:{data:null,error:new Od("Empty credential response",e)}}catch(e){return{data:null,error:_R({error:e,options:t})}}}const CR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ad(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const u=r[o];e(u)?r[o]=Ad(u,a):r[o]=Ad(a)}else r[o]=a}return r}function jR(t,e){return Ad(CR,t,e||{})}function LR(t,e){return Ad(PR,t,e||{})}class NR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:c};const d=i??wR.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const m=r;if(m)p.name=`${p.id}:${m}`;else{const v=(await this.client.getUser()).data.user,k=((a=v==null?void 0:v.user_metadata)===null||a===void 0?void 0:a.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${k}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=jR(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:m,error:_}=await TR({publicKey:p,signal:d});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:_}}case"request":{const p=LR(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:m,error:_}=await ER(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:d}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:_}}}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Eo("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ac("rpId is required for WebAuthn authentication")};try{if(!ow())return{data:null,error:new Eo("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:u};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return oe(a)?{data:null,error:a}:{data:null,error:new Eo("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ac("rpId is required for WebAuthn registration")};try{if(!ow())return{data:null,error:new Eo("Browser does not support WebAuthn",null)};const{data:a,error:u}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:c,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(a){return oe(a)?{data:null,error:a}:{data:null,error:new Eo("Unexpected error in register",a)}}}}fR();const RR={url:PN,storageKey:jN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function aw(t,e,n){return await n()}const ga={};class lc{get jwks(){var e,n;return(n=(e=ga[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ga[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},RR),e);if(this.storageKey=o.storageKey,this.instanceID=(n=lc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,lc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&nn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new cR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Zk(o.fetch),this.lock=o.lock||aw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dR:this.lock=aw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Hk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=sw(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$k}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(nn()&&(n=VN(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),nn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),MN(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),await this._saveSession(a),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new Eo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kr}),{data:a,error:u}=o;if(u||!a)return this._returnResult({data:{user:null,session:null},error:u});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:p,password:m,options:_}=e;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await fa(this.storage,this.storageKey)),o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:p,password:m,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:v,code_challenge_method:k},xform:Kr})}else if("phone"in e){const{phone:p,password:m,options:_}=e;o=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(i=_==null?void 0:_.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Kr})}else throw new dh("You must provide either an email or phone number and a password");const{data:a,error:u}=o;if(u||!a)return await tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:u}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rw})}else if("phone"in e){const{phone:o,password:a,options:u}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rw})}else throw new dh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new da;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,u,c,d,p,m,_;let v,k;if("message"in e)v=e.message,k=e.signature;else{const{chain:w,wallet:C,statement:S,options:b}=e;let x;if(nn())if(typeof C=="object")x=C;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")x=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=C}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),P=await x.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=qk(P[0]);let O=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const D=await x.request({method:"eth_chainId"});O=pR(D)}const I={domain:E.host,address:N,statement:S,uri:E.href,version:"1",chainId:O,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=b==null?void 0:b.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=gR(I),k=await x.request({method:"personal_sign",params:[mR(v),N]})}try{const{data:w,error:C}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kr});if(C)throw C;if(!w||!w.session||!w.user){const S=new da;return this._returnResult({data:{user:null,session:null},error:S})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:C})}catch(w){if(oe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,o,a,u,c,d,p,m,_,v;let k,w;if("message"in e)k=e.message,w=e.signature;else{const{chain:C,wallet:S,statement:b,options:x}=e;let E;if(nn())if(typeof S=="object")E=S;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const P=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),b?{statement:b}:null));let O;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")O=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)O=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)k=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),w=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${P.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(p=x==null?void 0:x.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(k),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:C,error:S}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:No(w)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kr});if(S)throw S;if(!C||!C.session||!C.user){const b=new da;return this._returnResult({data:{user:null,session:null},error:b})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:S})}catch(C){if(oe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await mo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new IN;const{data:o,error:a}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Kr});if(await tn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const u=new da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,u=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:c,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const p=new da;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:u,options:c}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await fa(this.storage,this.storageKey));const{error:m}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:c}=e,{data:d,error:p}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new dh("You must provide either an email or phone number.")}catch(u){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:u}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Kr});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await fa(this.storage,this.storageKey));const d=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:aR});return!((o=d.data)===null||o===void 0)&&o.url&&nn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nr;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:u}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:u})}throw new dh("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await mo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await mo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Rp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=rR(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ts}):await this._useSession(async n=>{var r,i,o;const{data:a,error:u}=n;if(u)throw u;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ts})})}catch(n){if(oe(n))return Lp(n)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new nr;const a=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await fa(this.storage,this.storageKey));const{data:d,error:p}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:a.access_token,xform:Ts});if(p)throw p;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nr;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=ph(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:u}=n;if(u)throw u;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nr;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!nn())throw new fh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ky("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ky("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:u,expires_at:c,token_type:d}=e;if(!o||!u||!a||!d)throw new fh("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(u);let _=p+m;c&&(_=parseInt(c));const v=_-p;v*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const k=_-m;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,_,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,_,p);const{data:w,error:C}=await this._getUser(o);if(C)throw C;const S={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:_,refresh_token:a,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await mo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!Lp(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:u}=await this.admin.signOut(a,e);if(u&&!(AN(u)&&(u.status===404||u.status===401||u.status===403)||Lp(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=WN(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fa(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,u,c,d,p;const{data:m,error:_}=o;if(_)throw _;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:u,token:c,access_token:d,nonce:p}=e,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kr}),{data:_,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new da}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:v}))}catch(i){if(await tn(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GN(async i=>(i>0&&await ZN(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kr})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Np(o)&&Date.now()+a-r<Sa})}catch(r){if(this._debug(n,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await mo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await mo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ta(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Rp()}else if(i&&!i.user&&!i.user){const a=await mo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await tn(this.storage,this.storageKey+"-user"),await Ta(this.storage,this.storageKey,i)):i.user=Rp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${jp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Np(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:u}=await this._getUser(i.access_token);!u&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gf;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new nr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),oe(o)){const a={data:null,error:o};return Np(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ta(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=tw(i);await Ta(this.storage,this.storageKey,o)}else{const i=tw(n);await Ta(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sa}ms, refresh threshold is ${pg} ticks`),i<=pg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await fa(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kR(e.webauthn.credential_response):SR(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:c}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:u}=a;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:xR(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:bR(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,o;if(e)try{const{payload:v}=ph(e);let k=null;v.aal&&(k=v.aal);let w=k;const{data:{user:C},error:S}=await this.getUser(e);if(S)return this._returnResult({data:null,error:S});((r=(n=C==null?void 0:C.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const x=v.amr||[];return{data:{currentLevel:k,nextLevel:w,currentAuthenticationMethods:x},error:null}}catch(v){if(oe(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ph(a.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const _=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nr})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nr});const a=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nr});const a=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return a.data&&a.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nr})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nr})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+RN>i)return r;const{data:o,error:a}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return this._returnResult({data:null,error:k});r=v.session.access_token}const{header:i,payload:o,signature:a,raw:{header:u,payload:c}}=ph(r);n!=null&&n.allowExpired||eR(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:i,signature:a},error:null}}const p=tR(i.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,UN(`${u}.${c}`)))throw new vg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}lc.nextInstanceID={};const OR=lc,AR="2.93.3";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const MR={"X-Client-Info":`supabase-js-${nu}/${AR}`},IR={headers:MR},zR={schema:"public"},DR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BR={};function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function FR(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UR(t){var e=FR(t,"string");return uc(e)=="symbol"?e:e+""}function $R(t,e,n){return(e=UR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(r){$R(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const WR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VR=()=>Headers,HR=(t,e,n)=>{const r=WR(n),i=VR();return async(o,a)=>{var u;const c=(u=await e())!==null&&u!==void 0?u:t;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,mt(mt({},a),{},{headers:d}))}};function ZR(t){return t.endsWith("/")?t:t+"/"}function GR(t,e){var n,r;const{db:i,auth:o,realtime:a,global:u}=t,{db:c,auth:d,realtime:p,global:m}=e,_={db:mt(mt({},c),i),auth:mt(mt({},d),o),realtime:mt(mt({},p),a),storage:{},global:mt(mt(mt({},m),u),{},{headers:mt(mt({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function qR(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YR=class extends OR{constructor(t){super(t)}},KR=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=qR(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:zR,realtime:BR,auth:mt(mt({},DR),{},{storageKey:a}),global:IR},c=GR(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=HR(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new AL(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new CN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new jL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c,throwOnError:d},p,m){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YR({url:this.authUrl.href,headers:mt(mt({},_),p),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:u,debug:c,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XL(this.realtimeUrl.href,mt(mt({},t),{},{params:mt(mt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const XR=(t,e,n)=>new KR(t,e,n);function JR(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}JR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QR="https://cynhljusxwihzeyrtcvm.supabase.co",eO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN5bmhsanVzeHdpaHpleXJ0Y3ZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3NjY0NDcsImV4cCI6MjA4NTM0MjQ0N30.81yaJL6G3WxkGByhTOjyueMlJsmdmu_gA7ieVfgCUz0",Fe=XR(QR,eO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),tO=(t,e)=>{const{data:n}=Fe.storage.from(t).getPublicUrl(e);return n.publicUrl};var Kk="4.6.2";function Md(t,e){return new Promise(function(n){return setTimeout(n,t,e)})}function nO(){return new Promise(function(t){var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(null)})}function rO(t,e){e===void 0&&(e=1/0);var n=window.requestIdleCallback;return n?new Promise(function(r){return n.call(window,function(){return r()},{timeout:e})}):Md(Math.min(t,e))}function Xk(t){return!!t&&typeof t.then=="function"}function uw(t,e){try{var n=t();Xk(n)?n.then(function(r){return e(!0,r)},function(r){return e(!1,r)}):e(!0,n)}catch(r){e(!1,r)}}function cw(t,e,n){return n===void 0&&(n=16),ai(this,void 0,void 0,function(){var r,i,o,a;return Ei(this,function(u){switch(u.label){case 0:r=Array(t.length),i=Date.now(),o=0,u.label=1;case 1:return o<t.length?(r[o]=e(t[o],o),a=Date.now(),a>=i+n?(i=a,[4,nO()]):[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return++o,[3,1];case 4:return[2,r]}})})}function cc(t){return t.then(void 0,function(){}),t}function iO(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return!1}function sO(t,e){return!iO(t,e)}function Jv(t){return parseInt(t)}function ei(t){return parseFloat(t)}function Hi(t,e){return typeof t=="number"&&isNaN(t)?e:t}function Rn(t){return t.reduce(function(e,n){return e+(n?1:0)},0)}function Jk(t,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(t/e)*e;var n=1/e;return Math.round(t*n)/n}function oO(t){for(var e,n,r="Unexpected syntax '".concat(t,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(t),o=i[1]||void 0,a={},u=/([.:#][\w-]+|\[.+?\])/gi,c=function(_,v){a[_]=a[_]||[],a[_].push(v)};;){var d=u.exec(i[2]);if(!d)break;var p=d[0];switch(p[0]){case".":c("class",p.slice(1));break;case"#":c("id",p.slice(1));break;case"[":{var m=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(p);if(m)c(m[1],(n=(e=m[4])!==null&&e!==void 0?e:m[5])!==null&&n!==void 0?n:"");else throw new Error(r);break}default:throw new Error(r)}}return[o,a]}function aO(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r>127)return new TextEncoder().encode(t);e[n]=r}return e}function ms(t,e){var n=t[0]>>>16,r=t[0]&65535,i=t[1]>>>16,o=t[1]&65535,a=e[0]>>>16,u=e[0]&65535,c=e[1]>>>16,d=e[1]&65535,p=0,m=0,_=0,v=0;v+=o+d,_+=v>>>16,v&=65535,_+=i+c,m+=_>>>16,_&=65535,m+=r+u,p+=m>>>16,m&=65535,p+=n+a,p&=65535,t[0]=p<<16|m,t[1]=_<<16|v}function Nr(t,e){var n=t[0]>>>16,r=t[0]&65535,i=t[1]>>>16,o=t[1]&65535,a=e[0]>>>16,u=e[0]&65535,c=e[1]>>>16,d=e[1]&65535,p=0,m=0,_=0,v=0;v+=o*d,_+=v>>>16,v&=65535,_+=i*d,m+=_>>>16,_&=65535,_+=o*c,m+=_>>>16,_&=65535,m+=r*d,p+=m>>>16,m&=65535,m+=i*c,p+=m>>>16,m&=65535,m+=o*u,p+=m>>>16,m&=65535,p+=n*d+r*c+i*u+o*a,p&=65535,t[0]=p<<16|m,t[1]=_<<16|v}function va(t,e){var n=t[0];e%=64,e===32?(t[0]=t[1],t[1]=n):e<32?(t[0]=n<<e|t[1]>>>32-e,t[1]=t[1]<<e|n>>>32-e):(e-=32,t[0]=t[1]<<e|n>>>32-e,t[1]=n<<e|t[1]>>>32-e)}function tr(t,e){e%=64,e!==0&&(e<32?(t[0]=t[1]>>>32-e,t[1]=t[1]<<e):(t[0]=t[1]<<e-32,t[1]=0))}function nt(t,e){t[0]^=e[0],t[1]^=e[1]}var lO=[4283543511,3981806797],uO=[3301882366,444984403];function hw(t){var e=[0,t[0]>>>1];nt(t,e),Nr(t,lO),e[1]=t[0]>>>1,nt(t,e),Nr(t,uO),e[1]=t[0]>>>1,nt(t,e)}var mh=[2277735313,289559509],gh=[1291169091,658871167],dw=[0,5],cO=[0,1390208809],hO=[0,944331445];function dO(t,e){var n=aO(t);e=e||0;var r=[0,n.length],i=r[1]%16,o=r[1]-i,a=[0,e],u=[0,e],c=[0,0],d=[0,0],p;for(p=0;p<o;p=p+16)c[0]=n[p+4]|n[p+5]<<8|n[p+6]<<16|n[p+7]<<24,c[1]=n[p]|n[p+1]<<8|n[p+2]<<16|n[p+3]<<24,d[0]=n[p+12]|n[p+13]<<8|n[p+14]<<16|n[p+15]<<24,d[1]=n[p+8]|n[p+9]<<8|n[p+10]<<16|n[p+11]<<24,Nr(c,mh),va(c,31),Nr(c,gh),nt(a,c),va(a,27),ms(a,u),Nr(a,dw),ms(a,cO),Nr(d,gh),va(d,33),Nr(d,mh),nt(u,d),va(u,31),ms(u,a),Nr(u,dw),ms(u,hO);c[0]=0,c[1]=0,d[0]=0,d[1]=0;var m=[0,0];switch(i){case 15:m[1]=n[p+14],tr(m,48),nt(d,m);case 14:m[1]=n[p+13],tr(m,40),nt(d,m);case 13:m[1]=n[p+12],tr(m,32),nt(d,m);case 12:m[1]=n[p+11],tr(m,24),nt(d,m);case 11:m[1]=n[p+10],tr(m,16),nt(d,m);case 10:m[1]=n[p+9],tr(m,8),nt(d,m);case 9:m[1]=n[p+8],nt(d,m),Nr(d,gh),va(d,33),Nr(d,mh),nt(u,d);case 8:m[1]=n[p+7],tr(m,56),nt(c,m);case 7:m[1]=n[p+6],tr(m,48),nt(c,m);case 6:m[1]=n[p+5],tr(m,40),nt(c,m);case 5:m[1]=n[p+4],tr(m,32),nt(c,m);case 4:m[1]=n[p+3],tr(m,24),nt(c,m);case 3:m[1]=n[p+2],tr(m,16),nt(c,m);case 2:m[1]=n[p+1],tr(m,8),nt(c,m);case 1:m[1]=n[p],nt(c,m),Nr(c,mh),va(c,31),Nr(c,gh),nt(a,c)}return nt(a,r),nt(u,r),ms(a,u),ms(u,a),hw(a),hw(u),ms(a,u),ms(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)}function fO(t){var e;return ag({name:t.name,message:t.message,stack:(e=t.stack)===null||e===void 0?void 0:e.split(`
`)},t)}function pO(t){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(t))}function mO(t){return typeof t!="function"}function gO(t,e){var n=cc(new Promise(function(r){var i=Date.now();uw(t.bind(null,e),function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=Date.now()-i;if(!o[0])return r(function(){return{error:o[1],duration:u}});var c=o[1];if(mO(c))return r(function(){return{value:c,duration:u}});r(function(){return new Promise(function(d){var p=Date.now();uw(c,function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var v=u+Date.now()-p;if(!m[0])return d({error:m[1],duration:v});d({value:m[1],duration:v})})})})})}));return function(){return n.then(function(i){return i()})}}function vO(t,e,n,r){var i=Object.keys(t).filter(function(a){return sO(n,a)}),o=cc(cw(i,function(a){return gO(t[a],e)},r));return function(){return ai(this,void 0,void 0,function(){var u,c,d,p,m;return Ei(this,function(_){switch(_.label){case 0:return[4,o];case 1:return u=_.sent(),[4,cw(u,function(v){return cc(v())},r)];case 2:return c=_.sent(),[4,Promise.all(c)];case 3:for(d=_.sent(),p={},m=0;m<i.length;++m)p[i[m]]=d[m];return[2,p]}})})}}function Qk(){var t=window,e=navigator;return Rn(["MSCSSMatrix"in t,"msSetImmediate"in t,"msIndexedDB"in t,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function _O(){var t=window,e=navigator;return Rn(["msWriteProfilerMark"in t,"MSStream"in t,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!Qk()}function xc(){var t=window,e=navigator;return Rn(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,(e.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in t,"BatteryManager"in t,"webkitMediaStream"in t,"webkitSpeechGrammar"in t])>=5}function li(){var t=window,e=navigator;return Rn(["ApplePayError"in t,"CSSPrimitiveValue"in t,"Counter"in t,e.vendor.indexOf("Apple")===0,"RGBColor"in t,"WebKitMediaKeys"in t])>=4}function Qv(){var t=window,e=t.HTMLElement,n=t.Document;return Rn(["safari"in t,!("ongestureend"in t),!("TouchEvent"in t),!("orientation"in t),e&&!("autocapitalize"in e.prototype),n&&"pointerLockElement"in n.prototype])>=4}function bc(){var t=window;return pO(t.print)&&String(t.browser)==="[object WebPageNamespace]"}function eS(){var t,e,n=window;return Rn(["buildID"in navigator,"MozAppearance"in((e=(t=document.documentElement)===null||t===void 0?void 0:t.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function yO(){var t=window;return Rn([!("MediaSettingsRange"in t),"RTCEncodedAudioFrame"in t,""+t.Intl=="[object Intl]",""+t.Reflect=="[object Reflect]"])>=3}function wO(){var t=window,e=t.URLPattern;return Rn(["union"in Set.prototype,"Iterator"in t,e&&"hasRegExpGroups"in e.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function xO(){var t=window;return Rn(["DOMRectList"in t,"RTCPeerConnectionIceEvent"in t,"SVGGeometryElement"in t,"ontransitioncancel"in t])>=3}function kc(){var t=window,e=navigator,n=t.CSS,r=t.HTMLButtonElement;return Rn([!("getStorageUpdates"in e),r&&"popover"in r.prototype,"CSSCounterStyleRule"in t,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function bO(){if(navigator.platform==="iPad")return!0;var t=screen,e=t.width/t.height;return Rn(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function kO(){var t=document;return t.fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||null}function SO(){var t=document;return(t.exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)}function e_(){var t=xc(),e=eS(),n=window,r=navigator,i="connection";return t?Rn([!("SharedWorker"in n),r[i]&&"ontypechange"in r[i],!("sinkId"in new Audio)])>=2:e?Rn(["onorientationchange"in n,"orientation"in n,/android/i.test(r.appVersion)])>=2:!1}function TO(){var t=navigator,e=window,n=Audio.prototype,r=e.visualViewport;return Rn(["srLatency"in n,"srChannelCount"in n,"devicePosture"in t,r&&"segments"in r,"getTextInformation"in Image.prototype])>=3}function EO(){return jO()?-4:CO()}function CO(){var t=window,e=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!e)return-2;if(PO())return-1;var n=4500,r=5e3,i=new e(1,r,44100),o=i.createOscillator();o.type="triangle",o.frequency.value=1e4;var a=i.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,o.connect(a),a.connect(i.destination),o.start(0);var u=LO(i),c=u[0],d=u[1],p=cc(c.then(function(m){return NO(m.getChannelData(0).subarray(n))},function(m){if(m.name==="timeout"||m.name==="suspended")return-3;throw m}));return function(){return d(),p}}function PO(){return li()&&!Qv()&&!xO()}function jO(){return li()&&kc()&&bc()||xc()&&TO()&&wO()}function LO(t){var e=3,n=500,r=500,i=5e3,o=function(){},a=new Promise(function(u,c){var d=!1,p=0,m=0;t.oncomplete=function(k){return u(k.renderedBuffer)};var _=function(){setTimeout(function(){return c(fw("timeout"))},Math.min(r,m+i-Date.now()))},v=function(){try{var k=t.startRendering();switch(Xk(k)&&cc(k),t.state){case"running":m=Date.now(),d&&_();break;case"suspended":document.hidden||p++,d&&p>=e?c(fw("suspended")):setTimeout(v,n);break}}catch(w){c(w)}};v(),o=function(){d||(d=!0,m>0&&_())}});return[a,o]}function NO(t){for(var e=0,n=0;n<t.length;++n)e+=Math.abs(t[n]);return e}function fw(t){var e=new Error(t);return e.name=t,e}function tS(t,e,n){var r,i,o;return n===void 0&&(n=50),ai(this,void 0,void 0,function(){var a,u;return Ei(this,function(c){switch(c.label){case 0:a=document,c.label=1;case 1:return a.body?[3,3]:[4,Md(n)];case 2:return c.sent(),[3,1];case 3:u=a.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise(function(d,p){var m=!1,_=function(){m=!0,d()},v=function(C){m=!0,p(C)};u.onload=_,u.onerror=v;var k=u.style;k.setProperty("display","block","important"),k.position="absolute",k.top="0",k.left="0",k.visibility="hidden",e&&"srcdoc"in u?u.srcdoc=e:u.src="about:blank",a.body.appendChild(u);var w=function(){var C,S;m||(((S=(C=u.contentWindow)===null||C===void 0?void 0:C.document)===null||S===void 0?void 0:S.readyState)==="complete"?_():setTimeout(w,10))};w()})];case 5:c.sent(),c.label=6;case 6:return!((i=(r=u.contentWindow)===null||r===void 0?void 0:r.document)===null||i===void 0)&&i.body?[3,8]:[4,Md(n)];case 7:return c.sent(),[3,6];case 8:return[4,t(u,u.contentWindow)];case 9:return[2,c.sent()];case 10:return(o=u.parentNode)===null||o===void 0||o.removeChild(u),[7];case 11:return[2]}})})}function RO(t){for(var e=oO(t),n=e[0],r=e[1],i=document.createElement(n??"div"),o=0,a=Object.keys(r);o<a.length;o++){var u=a[o],c=r[u].join(" ");u==="style"?OO(i.style,c):i.setAttribute(u,c)}return i}function OO(t,e){for(var n=0,r=e.split(";");n<r.length;n++){var i=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(o){var a=o[1],u=o[2],c=o[4];t.setProperty(a,u,c||"")}}}function AO(){for(var t=window;;){var e=t.parent;if(!e||e===t)return!1;try{if(e.location.origin!==t.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}t=e}}var MO="mmMwWLliI0O&1",IO="48px",_a=["monospace","sans-serif","serif"],pw=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function zO(){var t=this;return tS(function(e,n){var r=n.document;return ai(t,void 0,void 0,function(){var i,o,a,u,c,d,p,m,_,v,k,w;return Ei(this,function(C){for(i=r.body,i.style.fontSize=IO,o=r.createElement("div"),o.style.setProperty("visibility","hidden","important"),a={},u={},c=function(S){var b=r.createElement("span"),x=b.style;return x.position="absolute",x.top="0",x.left="0",x.fontFamily=S,b.textContent=MO,o.appendChild(b),b},d=function(S,b){return c("'".concat(S,"',").concat(b))},p=function(){return _a.map(c)},m=function(){for(var S={},b=function(N){S[N]=_a.map(function(O){return d(N,O)})},x=0,E=pw;x<E.length;x++){var P=E[x];b(P)}return S},_=function(S){return _a.some(function(b,x){return S[x].offsetWidth!==a[b]||S[x].offsetHeight!==u[b]})},v=p(),k=m(),i.appendChild(o),w=0;w<_a.length;w++)a[_a[w]]=v[w].offsetWidth,u[_a[w]]=v[w].offsetHeight;return[2,pw.filter(function(S){return _(k[S])})]})})})}function DO(){var t=navigator.plugins;if(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];if(r){for(var i=[],o=0;o<r.length;++o){var a=r[o];i.push({type:a.type,suffixes:a.suffixes})}e.push({name:r.name,description:r.description,mimeTypes:i})}}return e}}function BO(){return FO(GO())}function FO(t){var e,n=!1,r,i,o=UO(),a=o[0],u=o[1];return $O(a,u)?(n=WO(u),t?r=i="skipped":(e=VO(a,u),r=e[0],i=e[1])):r=i="unsupported",{winding:n,geometry:r,text:i}}function UO(){var t=document.createElement("canvas");return t.width=1,t.height=1,[t,t.getContext("2d")]}function $O(t,e){return!!(e&&t.toDataURL)}function WO(t){return t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")}function VO(t,e){HO(t,e);var n=Ap(t),r=Ap(t);if(n!==r)return["unstable","unstable"];ZO(t,e);var i=Ap(t);return[i,n]}function HO(t,e){t.width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat("");e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(n,4,45)}function ZO(t,e){t.width=122,t.height=110,e.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],o=i[0],a=i[1],u=i[2];e.fillStyle=o,e.beginPath(),e.arc(a,u,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function Ap(t){return t.toDataURL()}function GO(){return li()&&kc()&&bc()}function qO(){var t=navigator,e=0,n;t.maxTouchPoints!==void 0?e=Jv(t.maxTouchPoints):t.msMaxTouchPoints!==void 0&&(e=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var r="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:n,touchStart:r}}function YO(){return navigator.oscpu}function KO(){var t=navigator,e=[],n=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(n!==void 0&&e.push([n]),Array.isArray(t.languages))xc()&&yO()||e.push(t.languages);else if(typeof t.languages=="string"){var r=t.languages;r&&e.push(r.split(","))}return e}function XO(){return window.screen.colorDepth}function JO(){return Hi(ei(navigator.deviceMemory),void 0)}function QO(){if(!(li()&&kc()&&bc()))return e3()}function e3(){var t=screen,e=function(r){return Hi(Jv(r),null)},n=[e(t.width),e(t.height)];return n.sort().reverse(),n}var t3=2500,n3=10,Zh,Mp;function r3(){if(Mp===void 0){var t=function(){var e=_g();yg(e)?Mp=setTimeout(t,t3):(Zh=e,Mp=void 0)};t()}}function i3(){var t=this;return r3(),function(){return ai(t,void 0,void 0,function(){var e;return Ei(this,function(n){switch(n.label){case 0:return e=_g(),yg(e)?Zh?[2,Ok([],Zh,!0)]:kO()?[4,SO()]:[3,2]:[3,2];case 1:n.sent(),e=_g(),n.label=2;case 2:return yg(e)||(Zh=e),[2,e]}})})}}function s3(){var t=this;if(li()&&kc()&&bc())return function(){return Promise.resolve(void 0)};var e=i3();return function(){return ai(t,void 0,void 0,function(){var n,r;return Ei(this,function(i){switch(i.label){case 0:return[4,e()];case 1:return n=i.sent(),r=function(o){return o===null?null:Jk(o,n3)},[2,[r(n[0]),r(n[1]),r(n[2]),r(n[3])]]}})})}}function _g(){var t=screen;return[Hi(ei(t.availTop),null),Hi(ei(t.width)-ei(t.availWidth)-Hi(ei(t.availLeft),0),null),Hi(ei(t.height)-ei(t.availHeight)-Hi(ei(t.availTop),0),null),Hi(ei(t.availLeft),null)]}function yg(t){for(var e=0;e<4;++e)if(t[e])return!1;return!0}function o3(){return Hi(Jv(navigator.hardwareConcurrency),void 0)}function a3(){var t,e=(t=window.Intl)===null||t===void 0?void 0:t.DateTimeFormat;if(e){var n=new e().resolvedOptions().timeZone;if(n)return n}var r=-l3();return"UTC".concat(r>=0?"+":"").concat(r)}function l3(){var t=new Date().getFullYear();return Math.max(ei(new Date(t,0,1).getTimezoneOffset()),ei(new Date(t,6,1).getTimezoneOffset()))}function u3(){try{return!!window.sessionStorage}catch{return!0}}function c3(){try{return!!window.localStorage}catch{return!0}}function h3(){if(!(Qk()||_O()))try{return!!window.indexedDB}catch{return!0}}function d3(){return!!window.openDatabase}function f3(){return navigator.cpuClass}function p3(){var t=navigator.platform;return t==="MacIntel"&&li()&&!Qv()?bO()?"iPad":"iPhone":t}function m3(){return navigator.vendor||""}function g3(){for(var t=[],e=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<n.length;e++){var r=n[e],i=window[r];i&&typeof i=="object"&&t.push(r)}return t.sort()}function v3(){var t=document;try{t.cookie="cookietest=1; SameSite=Strict;";var e=t.cookie.indexOf("cookietest=")!==-1;return t.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function _3(){var t=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',t("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",t("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",t("LnNwb25zb3JpdA=="),".ylamainos",t("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",t("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",t("LmhlYWRlci1ibG9ja2VkLWFk"),t("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",t("I2FkXzMwMFgyNTA="),t("I2Jhbm5lcmZsb2F0MjI="),t("I2NhbXBhaWduLWJhbm5lcg=="),t("I0FkLUNvbnRlbnQ=")],adGuardChinese:[t("LlppX2FkX2FfSA=="),t("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",t("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),t("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",t("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",t("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",t("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),t("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),t("LmFkZ29vZ2xl"),t("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[t("YW1wLWF1dG8tYWRz"),t("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",t("I2FkX2ludmlld19hcmVh")],adGuardRussian:[t("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),t("LnJlY2xhbWE="),'div[id^="smi2adblock"]',t("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[t("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),t("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",t("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),t("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),t("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",t("I3Jla2xhbWk="),t("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),t("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),t("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[t("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",t("LndpZGdldF9wb19hZHNfd2lkZ2V0"),t("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",t("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[t("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),t("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",t("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",t("I3Jla2xhbW5pLWJveA=="),t("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",t("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[t("I2FkdmVydGVudGll"),t("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",t("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",t("LnNwb25zb3JsaW5rZ3J1ZW4="),t("I3dlcmJ1bmdza3k="),t("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),t("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[t("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",t("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[t("LnJla2xhbW9zX3RhcnBhcw=="),t("LnJla2xhbW9zX251b3JvZG9z"),t("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),t("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),t("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[t("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[t("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),t("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",t("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[t("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),t("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),t("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",t("LmFkX19tYWlu"),t("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[t("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[t("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),t("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[t("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),t("I2xpdmVyZUFkV3JhcHBlcg=="),t("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),t("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[t("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",t("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),t("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),t("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[t("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),t("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),t("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",t("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),t("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),t("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),t("ZGl2I3NrYXBpZWNfYWQ=")],ro:[t("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),t("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),t("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[t("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),t("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),t("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",t("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),t("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",t("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function y3(t){var e=t===void 0?{}:t,n=e.debug;return ai(this,void 0,void 0,function(){var r,i,o,a,u,c;return Ei(this,function(d){switch(d.label){case 0:return w3()?(r=_3(),i=Object.keys(r),o=(c=[]).concat.apply(c,i.map(function(p){return r[p]})),[4,x3(o)]):[2,void 0];case 1:return a=d.sent(),n&&b3(r,a),u=i.filter(function(p){var m=r[p],_=Rn(m.map(function(v){return a[v]}));return _>m.length*.6}),u.sort(),[2,u]}})})}function w3(){return li()||e_()}function x3(t){var e;return ai(this,void 0,void 0,function(){var n,r,i,o,c,a,u,c;return Ei(this,function(d){switch(d.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(t.length),o={},mw(r),c=0;c<t.length;++c)a=RO(t[c]),a.tagName==="DIALOG"&&a.show(),u=n.createElement("div"),mw(u),u.appendChild(a),r.appendChild(u),i[c]=a;d.label=1;case 1:return n.body?[3,3]:[4,Md(50)];case 2:return d.sent(),[3,1];case 3:n.body.appendChild(r);try{for(c=0;c<t.length;++c)i[c].offsetParent||(o[t[c]]=!0)}finally{(e=r.parentNode)===null||e===void 0||e.removeChild(r)}return[2,o]}})})}function mw(t){t.style.setProperty("visibility","hidden","important"),t.style.setProperty("display","block","important")}function b3(t,e){for(var n="DOM blockers debug:\n```",r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];n+=`
`.concat(o,":");for(var a=0,u=t[o];a<u.length;a++){var c=u[a];n+=`
  `.concat(e[c]?"":""," ").concat(c)}}console.log("".concat(n,"\n```"))}function k3(){for(var t=0,e=["rec2020","p3","srgb"];t<e.length;t++){var n=e[t];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function S3(){if(gw("inverted"))return!0;if(gw("none"))return!1}function gw(t){return matchMedia("(inverted-colors: ".concat(t,")")).matches}function T3(){if(vw("active"))return!0;if(vw("none"))return!1}function vw(t){return matchMedia("(forced-colors: ".concat(t,")")).matches}var E3=100;function C3(){if(matchMedia("(min-monochrome: 0)").matches){for(var t=0;t<=E3;++t)if(matchMedia("(max-monochrome: ".concat(t,")")).matches)return t;throw new Error("Too high value")}}function P3(){if(ya("no-preference"))return 0;if(ya("high")||ya("more"))return 1;if(ya("low")||ya("less"))return-1;if(ya("forced"))return 10}function ya(t){return matchMedia("(prefers-contrast: ".concat(t,")")).matches}function j3(){if(_w("reduce"))return!0;if(_w("no-preference"))return!1}function _w(t){return matchMedia("(prefers-reduced-motion: ".concat(t,")")).matches}function L3(){if(yw("reduce"))return!0;if(yw("no-preference"))return!1}function yw(t){return matchMedia("(prefers-reduced-transparency: ".concat(t,")")).matches}function N3(){if(ww("high"))return!0;if(ww("standard"))return!1}function ww(t){return matchMedia("(dynamic-range: ".concat(t,")")).matches}var ze=Math,bn=function(){return 0};function R3(){var t=ze.acos||bn,e=ze.acosh||bn,n=ze.asin||bn,r=ze.asinh||bn,i=ze.atanh||bn,o=ze.atan||bn,a=ze.sin||bn,u=ze.sinh||bn,c=ze.cos||bn,d=ze.cosh||bn,p=ze.tan||bn,m=ze.tanh||bn,_=ze.exp||bn,v=ze.expm1||bn,k=ze.log1p||bn,w=function(I){return ze.pow(ze.PI,I)},C=function(I){return ze.log(I+ze.sqrt(I*I-1))},S=function(I){return ze.log(I+ze.sqrt(I*I+1))},b=function(I){return ze.log((1+I)/(1-I))/2},x=function(I){return ze.exp(I)-1/ze.exp(I)/2},E=function(I){return(ze.exp(I)+1/ze.exp(I))/2},P=function(I){return ze.exp(I)-1},N=function(I){return(ze.exp(2*I)-1)/(ze.exp(2*I)+1)},O=function(I){return ze.log(1+I)};return{acos:t(.12312423423423424),acosh:e(1e308),acoshPf:C(1e154),asin:n(.12312423423423424),asinh:r(1),asinhPf:S(1),atanh:i(.5),atanhPf:b(.5),atan:o(.5),sin:a(-1e300),sinh:u(1),sinhPf:x(1),cos:c(10.000000000123),cosh:d(1),coshPf:E(1),tan:p(-1e300),tanh:m(1),tanhPf:N(1),exp:_(1),expm1:v(1),expm1Pf:P(1),log1p:k(10),log1pPf:O(10),powPI:w(-100)}}var O3="mmMwWLliI0fiflO&1",Ip={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function A3(){return M3(function(t,e){for(var n={},r={},i=0,o=Object.keys(Ip);i<o.length;i++){var a=o[i],u=Ip[a],c=u[0],d=c===void 0?{}:c,p=u[1],m=p===void 0?O3:p,_=t.createElement("span");_.textContent=m,_.style.whiteSpace="nowrap";for(var v=0,k=Object.keys(d);v<k.length;v++){var w=k[v],C=d[w];C!==void 0&&(_.style[w]=C)}n[a]=_,e.append(t.createElement("br"),_)}for(var S=0,b=Object.keys(Ip);S<b.length;S++){var a=b[S];r[a]=n[a].getBoundingClientRect().width}return r})}function M3(t,e){return e===void 0&&(e=4e3),tS(function(n,r){var i=r.document,o=i.body,a=o.style;a.width="".concat(e,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",xc()?o.style.zoom="".concat(1/r.devicePixelRatio):li()&&(o.style.zoom="reset");var u=i.createElement("div");return u.textContent=Ok([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),o.appendChild(u),t(i,o)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function I3(){return navigator.pdfViewerEnabled}function z3(){var t=new Float32Array(1),e=new Uint8Array(t.buffer);return t[0]=1/0,t[0]=t[0]-t[0],e[3]}function D3(){var t=window.ApplePaySession;if(typeof(t==null?void 0:t.canMakePayments)!="function")return-1;if(B3())return-3;try{return t.canMakePayments()?1:0}catch(e){return F3(e)}}var B3=AO;function F3(t){if(t instanceof Error&&t.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(t.message))return-2;throw t}function U3(){var t,e=document.createElement("a"),n=(t=e.attributionSourceId)!==null&&t!==void 0?t:e.attributionsourceid;return n===void 0?void 0:String(n)}var nS=-1,rS=-2,$3=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),W3=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),V3=["FRAGMENT_SHADER","VERTEX_SHADER"],H3=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],iS="WEBGL_debug_renderer_info",Z3="WEBGL_polygon_mode";function G3(t){var e,n,r,i,o,a,u=t.cache,c=sS(u);if(!c)return nS;if(!aS(c))return rS;var d=oS()?null:c.getExtension(iS);return{version:((e=c.getParameter(c.VERSION))===null||e===void 0?void 0:e.toString())||"",vendor:((n=c.getParameter(c.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:d?(r=c.getParameter(d.UNMASKED_VENDOR_WEBGL))===null||r===void 0?void 0:r.toString():"",renderer:((i=c.getParameter(c.RENDERER))===null||i===void 0?void 0:i.toString())||"",rendererUnmasked:d?(o=c.getParameter(d.UNMASKED_RENDERER_WEBGL))===null||o===void 0?void 0:o.toString():"",shadingLanguageVersion:((a=c.getParameter(c.SHADING_LANGUAGE_VERSION))===null||a===void 0?void 0:a.toString())||""}}function q3(t){var e=t.cache,n=sS(e);if(!n)return nS;if(!aS(n))return rS;var r=n.getSupportedExtensions(),i=n.getContextAttributes(),o=[],a=[],u=[],c=[],d=[];if(i)for(var p=0,m=Object.keys(i);p<m.length;p++){var _=m[p];a.push("".concat(_,"=").concat(i[_]))}for(var v=xw(n),k=0,w=v;k<w.length;k++){var C=w[k],S=n[C];u.push("".concat(C,"=").concat(S).concat($3.has(S)?"=".concat(n.getParameter(S)):""))}if(r)for(var b=0,x=r;b<x.length;b++){var E=x[b];if(!(E===iS&&oS()||E===Z3&&X3())){var P=n.getExtension(E);if(!P){o.push(E);continue}for(var N=0,O=xw(P);N<O.length;N++){var C=O[N],S=P[C];c.push("".concat(C,"=").concat(S).concat(W3.has(S)?"=".concat(n.getParameter(S)):""))}}}for(var I=0,D=V3;I<D.length;I++)for(var B=D[I],W=0,$=H3;W<$.length;W++){var ne=$[W],Y=Y3(n,B,ne);d.push("".concat(B,".").concat(ne,"=").concat(Y.join(",")))}return c.sort(),u.sort(),{contextAttributes:a,parameters:u,shaderPrecisions:d,extensions:r,extensionParameters:c,unsupportedExtensions:o}}function sS(t){if(t.webgl)return t.webgl.context;var e=document.createElement("canvas"),n;e.addEventListener("webglCreateContextError",function(){return n=void 0});for(var r=0,i=["webgl","experimental-webgl"];r<i.length;r++){var o=i[r];try{n=e.getContext(o)}catch{}if(n)break}return t.webgl={context:n},n}function Y3(t,e,n){var r=t.getShaderPrecisionFormat(t[e],t[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function xw(t){var e=Object.keys(t.__proto__);return e.filter(K3)}function K3(t){return typeof t=="string"&&!t.match(/[^A-Z0-9_x]/)}function oS(){return eS()}function X3(){return xc()||li()}function aS(t){return typeof t.getParameter=="function"}function J3(){var t=e_()||li();if(!t)return-2;if(!window.AudioContext)return-1;var e=new AudioContext().baseLatency;return e==null?-1:isFinite(e)?e:-3}function Q3(){if(!window.Intl)return-1;var t=window.Intl.DateTimeFormat;if(!t)return-2;var e=t().resolvedOptions().locale;return!e&&e!==""?-3:e}var eA={fonts:zO,domBlockers:y3,fontPreferences:A3,audio:EO,screenFrame:s3,canvas:BO,osCpu:YO,languages:KO,colorDepth:XO,deviceMemory:JO,screenResolution:QO,hardwareConcurrency:o3,timezone:a3,sessionStorage:u3,localStorage:c3,indexedDB:h3,openDatabase:d3,cpuClass:f3,platform:p3,plugins:DO,touchSupport:qO,vendor:m3,vendorFlavors:g3,cookiesEnabled:v3,colorGamut:k3,invertedColors:S3,forcedColors:T3,monochrome:C3,contrast:P3,reducedMotion:j3,reducedTransparency:L3,hdr:N3,math:R3,pdfViewerEnabled:I3,architecture:z3,applePay:D3,privateClickMeasurement:U3,audioBaseLatency:J3,dateTimeLocale:Q3,webGlBasics:G3,webGlExtensions:q3};function tA(t){return vO(eA,t,[])}var nA="$ if upgrade to Pro: https://fpjs.dev/pro";function rA(t){var e=iA(t),n=sA(e);return{score:e,comment:nA.replace(/\$/g,"".concat(n))}}function iA(t){if(e_())return .4;if(li())return Qv()&&!(kc()&&bc())?.5:.3;var e="value"in t.platform?t.platform.value:"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function sA(t){return Jk(.99+.01*t,1e-4)}function oA(t){for(var e="",n=0,r=Object.keys(t).sort();n<r.length;n++){var i=r[n],o=t[i],a="error"in o?"error":JSON.stringify(o.value);e+="".concat(e?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(a)}return e}function lS(t){return JSON.stringify(t,function(e,n){return n instanceof Error?fO(n):n},2)}function uS(t){return dO(oA(t))}function aA(t){var e,n=rA(t);return{get visitorId(){return e===void 0&&(e=uS(this.components)),e},set visitorId(r){e=r},confidence:n,components:t,version:Kk}}function lA(t){return t===void 0&&(t=50),rO(t,t*2)}function uA(t,e){var n=Date.now();return{get:function(r){return ai(this,void 0,void 0,function(){var i,o,a;return Ei(this,function(u){switch(u.label){case 0:return i=Date.now(),[4,t()];case 1:return o=u.sent(),a=aA(o),(e||r!=null&&r.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(a.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(i-n,`
visitorId: `).concat(a.visitorId,`
components: `).concat(lS(o),"\n```")),[2,a]}})})}}}function cA(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(Kk,"/npm-monitoring"),!0),t.send()}catch(e){console.error(e)}}function hA(t){var e;return t===void 0&&(t={}),ai(this,void 0,void 0,function(){var n,r,i;return Ei(this,function(o){switch(o.label){case 0:return(!((e=t.monitoring)!==null&&e!==void 0)||e)&&cA(),n=t.delayFallback,r=t.debug,[4,lA(n)];case 1:return o.sent(),i=tA({cache:{},debug:r}),[2,uA(i,r)]}})})}var dA={load:hA,hashComponents:uS,componentsToDebugString:lS};let zp=null,Gl=null;const fA=()=>(zp||(zp=dA.load()),zp),vf=async()=>{if(Gl)return Gl;const t=localStorage.getItem("road_patrol_device_id");if(t)return Gl=t,t;try{const r=(await(await fA()).get()).visitorId;return Gl=r,localStorage.setItem("road_patrol_device_id",r),r}catch(e){console.error("Error generating fingerprint:",e);const n=`fallback-${Date.now()}-${Math.random().toString(36).substring(2)}`;return localStorage.setItem("road_patrol_device_id",n),Gl=n,n}},pA=(t,e=8e3)=>Promise.race([t,new Promise((n,r)=>setTimeout(()=>r(new Error("Request timeout")),e))]),mA=async(t,e)=>{try{const n=await vf();console.log("Uploading photo...");const r=await cS(e);console.log("Photo uploaded:",r);const i={title:t.title,description:t.description||null,category:t.category,priority:t.priority||"medium",latitude:t.latitude,longitude:t.longitude,address:t.address||null,photo_url:r,device_id:n,created_by:t.created_by||null,status:"open",vote_count:0,view_count:0};console.log("Inserting report:",i);const{data:o,error:a}=await Fe.from("reports").insert(i).select().single();if(a)throw console.error("Supabase insert error:",a),a;return console.log("Report created successfully:",o),o}catch(n){throw console.error("Create report error:",n),n}};let Gh=null,wg=0;const gA=1e4,vA=async(t={},e=!1)=>{if(JSON.stringify(t),!e&&Gh&&Object.keys(t).length===0&&Date.now()-wg<gA)return Gh;let n=Fe.from("reports").select("id, title, description, category, priority, status, latitude, longitude, address, photo_url, vote_count, view_count, created_at, created_by").order("created_at",{ascending:!1}).limit(t.limit||100);t.status&&t.status!=="all"&&(n=n.eq("status",t.status)),t.category&&t.category!=="all"&&(n=n.eq("category",t.category)),t.priority&&t.priority!=="all"&&(n=n.eq("priority",t.priority)),t.excludeResolved&&(n=n.neq("status","resolved"));const{data:r,error:i}=await n;if(i)throw i;return Object.keys(t).length===0&&(Gh=r,wg=Date.now()),r},Dp=()=>{Gh=null,wg=0},_A=async(t,e={})=>{const{data:n,error:r}=await Fe.rpc("get_reports_in_bounds",{min_lat:t.south,min_lng:t.west,max_lat:t.north,max_lng:t.east,p_status:e.status||null,p_category:e.category||null,p_limit:e.limit||500});if(r)throw r;return n},Wa=new Map,yA=3e4,wA=async(t,e=!1)=>{if(!e&&Wa.has(t)){const n=Wa.get(t);if(Date.now()-n.timestamp<yA)return bw(t).catch(console.error),n.data;Wa.delete(t)}try{const{data:n,error:r}=await Fe.from("reports").select("id, title, description, category, priority, status, latitude, longitude, address, photo_url, vote_count, view_count, created_at, created_by, resolution_photo_url").eq("id",t).single();if(r)throw console.error("getReportById error:",r),r;let i=null;if(n.created_by){const{data:a}=await Fe.from("profiles").select("id, display_name, avatar_url, reputation_score").eq("id",n.created_by).single();i=a}const o={...n,profiles:i};return Wa.set(t,{data:o,timestamp:Date.now()}),bw(t).catch(console.error),o}catch(n){throw console.error("getReportById failed:",n),n}},xg=t=>{t?Wa.delete(t):Wa.clear()},xA=async(t,e,n=null,r=null,i)=>{let o=null;n&&e==="resolved"&&(o=await cS(n));const{error:a}=await Fe.from("status_updates").insert({report_id:t,new_status:e,photo_url:o,notes:r,updated_by:i});if(a)throw a;const u={status:e,updated_at:new Date().toISOString()};o&&(u.resolution_photo_url=o);const{data:c,error:d}=await Fe.from("reports").update(u).eq("id",t).select().single();if(d)throw d;return xg(t),c},cS=async t=>{var u;const e=((u=t.name)==null?void 0:u.split(".").pop())||"jpg",r=`${`${Date.now()}-${Math.random().toString(36).substring(7)}.${e}`}`;console.log("Uploading to path:",r);const{data:i,error:o}=await Fe.storage.from("report-photos").upload(r,t,{cacheControl:"3600",upsert:!0});if(o)throw console.error("Storage upload error:",o),o;console.log("Upload successful:",i);const a=tO("report-photos",r);return console.log("Public URL:",a),a},bw=async t=>{await Fe.rpc("increment_view_count",{p_report_id:t})},bA=t=>Fe.channel("reports-changes").on("postgres_changes",{event:"*",schema:"public",table:"reports"},e=>t(e)).subscribe(),gs=new Map,kA=3e4,SA=async(t,e=!1)=>{if(!t)return[];if(!e&&gs.has(t)){const n=gs.get(t);if(Date.now()-n.timestamp<kA)return n.data;gs.delete(t)}try{const n=Fe.from("reports").select("id, title, description, category, priority, status, photo_url, vote_count, view_count, created_at").eq("created_by",t).order("created_at",{ascending:!1}).limit(50),{data:r,error:i}=await pA(n,6e3);if(i)return console.error("getMyReports error:",i),gs.has(t)?gs.get(t).data:[];const o=r||[];return gs.set(t,{data:o,timestamp:Date.now()}),o}catch(n){return console.error("getMyReports error:",n),gs.has(t)?gs.get(t).data:[]}},TA=async(t,e=null)=>{const n=await vf();if(await hS(t,n))throw new Error("You have already voted on this issue");const{data:i,error:o}=await Fe.from("votes").insert({report_id:t,user_id:e,device_id:n}).select().single();if(o)throw o.code==="23505"?new Error("You have already voted on this issue"):o;return await Fe.rpc("increment_vote_count",{p_report_id:t}),i},hS=async(t,e=null)=>{try{e||(e=await vf());const{data:n,error:r}=await Fe.from("votes").select("id").eq("report_id",t).eq("device_id",e).maybeSingle();return r?(console.error("Error checking vote status:",r),!1):!!n}catch(n){return console.error("checkIfVoted error:",n),!1}},EA=async()=>{try{const t=await vf(),{data:e,error:n}=await Fe.from("votes").select("report_id").eq("device_id",t);return n?(console.error("Error fetching device votes:",n),[]):(e==null?void 0:e.map(r=>r.report_id))||[]}catch(t){return console.error("getDeviceVotes error:",t),[]}},wa=new Map,CA=15e3,PA=async(t,e=!1)=>{if(!e&&wa.has(t)){const n=wa.get(t);if(Date.now()-n.timestamp<CA)return n.data;wa.delete(t)}try{const{data:n,error:r}=await Fe.from("comments").select("id, report_id, user_id, content, created_at").eq("report_id",t).order("created_at",{ascending:!0}).limit(100);if(r)throw r;const i=(n||[]).map(o=>({...o,profiles:{id:o.user_id,display_name:"User",avatar_url:null}}));return wa.set(t,{data:i,timestamp:Date.now()}),i}catch(n){return console.error("Error fetching comments:",n),wa.has(t)?wa.get(t).data:[]}},jA=async(t,e,n)=>{if(!n||n.trim().length===0)throw new Error("Comment cannot be empty");if(n.length>500)throw new Error("Comment cannot exceed 500 characters");const{data:r,error:i}=await Fe.from("comments").insert({report_id:t,user_id:e,content:n.trim()}).select("id, report_id, user_id, content, created_at").single();if(i)throw i;return{...r,profiles:{id:e,display_name:"User",avatar_url:null}}},LA=(t,e)=>Fe.channel(`comments-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"comments",filter:`report_id=eq.${t}`},async n=>{if(n.eventType==="INSERT"||n.eventType==="UPDATE"){const r=n.new;e({...n,new:{...r,profiles:{id:r.user_id,display_name:"User",avatar_url:null}}})}else e(n)}).subscribe(),NA={},kw=t=>{let e;const n=new Set,r=(p,m)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const v=e;e=m??(typeof _!="object"||_===null)?_:Object.assign({},e,_),n.forEach(k=>k(e,v))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(NA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,i,c);return c},RA=t=>t?kw(t):kw;var dS={exports:{}},fS={},pS={exports:{}},mS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=R;function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AA=typeof Object.is=="function"?Object.is:OA,MA=vl.useState,IA=vl.useEffect,zA=vl.useLayoutEffect,DA=vl.useDebugValue;function BA(t,e){var n=e(),r=MA({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return zA(function(){i.value=n,i.getSnapshot=e,Bp(i)&&o({inst:i})},[t,n,e]),IA(function(){return Bp(i)&&o({inst:i}),t(function(){Bp(i)&&o({inst:i})})},[t]),DA(n),n}function Bp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!AA(t,n)}catch{return!0}}function FA(t,e){return e()}var UA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FA:BA;mS.useSyncExternalStore=vl.useSyncExternalStore!==void 0?vl.useSyncExternalStore:UA;pS.exports=mS;var $A=pS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=R,WA=$A;function VA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HA=typeof Object.is=="function"?Object.is:VA,ZA=WA.useSyncExternalStore,GA=_f.useRef,qA=_f.useEffect,YA=_f.useMemo,KA=_f.useDebugValue;fS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=GA(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=YA(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),i!==void 0&&a.hasValue){var k=a.value;if(i(k,v))return m=k}return m=v}if(k=m,HA(p,v))return k;var w=r(v);return i!==void 0&&i(k,w)?(p=v,k):(p=v,m=w)}var d=!1,p,m,_=n===void 0?null:n;return[function(){return c(e())},_===null?void 0:function(){return c(_())}]},[e,n,r,i]);var u=ZA(t,o[0],o[1]);return qA(function(){a.hasValue=!0,a.value=u},[u]),KA(u),u};dS.exports=fS;var XA=dS.exports;const JA=Ag(XA),gS={},{useDebugValue:QA}=Ki,{useSyncExternalStoreWithSelector:e4}=JA;let Sw=!1;const t4=t=>t;function n4(t,e=t4,n){(gS?"production":void 0)!=="production"&&n&&!Sw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Sw=!0);const r=e4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return QA(r),r}const Tw=t=>{(gS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?RA(t):t,n=(r,i)=>n4(e,r,i);return Object.assign(n,e),n},t_=t=>t?Tw(t):Tw,r4=async()=>{const{data:t,error:e}=await Fe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`,queryParams:{access_type:"offline",prompt:"consent"}}});if(e)throw e;return t},i4=async()=>{const{error:t}=await Fe.auth.signOut();if(t)throw t},go=new Map,s4=6e4,Ew=async(t,e=!1)=>{if(!e&&go.has(t)){const n=go.get(t);if(Date.now()-n.timestamp<s4)return n.data}try{const{data:n,error:r}=await Fe.from("profiles").select("*").eq("id",t).maybeSingle();return r?(console.error("Error fetching user profile:",r),go.has(t)?go.get(t).data:null):(go.set(t,{data:n,timestamp:Date.now()}),n)}catch(n){return console.error("getUserProfile error:",n),go.has(t)?go.get(t).data:null}},Sl=t_((t,e)=>({user:null,profile:null,isLoading:!0,isAuthenticated:!1,initialize:async()=>{try{const{data:{session:n}}=await Fe.auth.getSession();if(n!=null&&n.user){const r=await Ew(n.user.id);t({user:n.user,profile:r,isAuthenticated:!0,isLoading:!1})}else t({isLoading:!1});Fe.auth.onAuthStateChange(async(r,i)=>{if(r==="SIGNED_IN"&&(i!=null&&i.user)){const o=await Ew(i.user.id);t({user:i.user,profile:o,isAuthenticated:!0})}else r==="SIGNED_OUT"&&t({user:null,profile:null,isAuthenticated:!1})})}catch(n){console.error("Auth initialization error:",n),t({isLoading:!1})}},signIn:async()=>{try{await r4()}catch(n){throw console.error("Sign in error:",n),n}},signOut:async()=>{try{await i4(),t({user:null,profile:null,isAuthenticated:!1})}catch(n){throw console.error("Sign out error:",n),n}},updateProfile:n=>{const{profile:r}=e();r&&t({profile:{...r,...n}})}})),o4="modulepreload",a4=function(t){return"/"+t},Cw={},l4=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=a4(c),c in Cw)return;Cw[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":o4,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((_,v)=>{m.addEventListener("load",_),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},u4=t=>{const e={pothole:"",trash:"",streetlight:"",hazard:"",graffiti:"",road_damage:"",other:""};return e[t]||e.other},n_=t=>({pothole:"Pothole",trash:"Trash/Garbage",streetlight:"Streetlight",hazard:"Safety Hazard",graffiti:"Graffiti",road_damage:"Road Damage",other:"Other"})[t]||"Other",vS=t=>{const e={low:"priority-low",medium:"priority-medium",high:"priority-high",urgent:"priority-urgent"};return e[t]||e.medium},r_=t=>{const e={open:"badge badge-open",in_progress:"badge badge-in-progress",resolved:"badge badge-resolved"};return e[t]||e.open},Id=t=>{const e=new Date(t),r=Math.floor((new Date-e)/1e3),i=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"week",seconds:604800},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60}];for(const o of i){const a=Math.floor(r/o.seconds);if(a>=1)return`${a} ${o.label}${a!==1?"s":""} ago`}return"Just now"},c4=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h4=(t,e=1280,n=.8)=>new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=a=>{const u=new Image;u.src=a.target.result,u.onload=()=>{const c=document.createElement("canvas");let d=u.width,p=u.height;d>e&&(p=p*e/d,d=e),c.width=d,c.height=p,c.getContext("2d").drawImage(u,0,0,d,p),c.toBlob(_=>{r(new File([_],t.name,{type:"image/jpeg"}))},"image/jpeg",n)},u.onerror=i},o.onerror=i}),d4=async t=>new Promise(e=>{l4(()=>import("./exif-ByLfu1VS.js").then(n=>n.e),[]).then(n=>{n.default.getData(t,function(){const r=n.default.getTag(this,"GPSLatitude"),i=n.default.getTag(this,"GPSLatitudeRef"),o=n.default.getTag(this,"GPSLongitude"),a=n.default.getTag(this,"GPSLongitudeRef");if(r&&o){const u=Pw(r,i),c=Pw(o,a);e({lat:u,lng:c})}else e(null)})}).catch(()=>e(null))}),Pw=(t,e)=>{const n=t[0],r=t[1],i=t[2];let o=n+r/60+i/3600;return(e==="S"||e==="W")&&(o=o*-1),o},f4=t=>`${window.location.origin}/report/${t}`,p4=async t=>{const e={title:t.title,text:`Check out this civic issue: ${t.title}`,url:f4(t.id)};if(navigator.share&&navigator.canShare(e))try{return await navigator.share(e),!0}catch(n){return n.name!=="AbortError"&&console.error("Share failed:",n),!1}else try{return await navigator.clipboard.writeText(e.url),!0}catch{return!1}},m4=({isOverlay:t=!1,onClose:e})=>{var ee;const{id:n}=Sb(),r=eo(),{user:i,isAuthenticated:o,signIn:a}=Sl(),[u,c]=R.useState(null),[d,p]=R.useState([]),[m,_]=R.useState(!0),[v,k]=R.useState(!1),[w,C]=R.useState(!1),[S,b]=R.useState(""),[x,E]=R.useState(!1),[P,N]=R.useState(!1),O=R.useRef(null),I=R.useRef(null);R.useEffect(()=>{Promise.all([D(),B()])},[n]),R.useEffect(()=>{if(!m){const M=LA(n,Z=>{Z.eventType==="INSERT"?(p(j=>[...j,Z.new]),W()):Z.eventType==="DELETE"&&p(j=>j.filter(X=>X.id!==Z.old.id))});return()=>{M.unsubscribe()}}},[n,m]),R.useEffect(()=>{O.current&&!m&&ge.fromTo(O.current,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power2.out"})},[m]);const D=async(M=0)=>{try{const Z=await wA(n);c(Z),hS(n).then(k).catch(console.error)}catch(Z){if(console.error("Error loading report:",Z),M<2){setTimeout(()=>D(M+1),1e3);return}rt.error("Failed to load report. Please try again."),t||r("/")}finally{_(!1)}},B=async()=>{try{const M=await PA(n);p(M)}catch(M){console.error("Error loading comments:",M)}},W=()=>{var M;(M=I.current)==null||M.scrollIntoView({behavior:"smooth"})},$=async()=>{if(v){rt.error("You have already voted on this issue");return}C(!0);try{await TA(n,i==null?void 0:i.id),k(!0),c(M=>({...M,vote_count:M.vote_count+1})),rt.success("Vote recorded! Thanks for your input.")}catch(M){rt.error(M.message||"Failed to vote")}finally{C(!1)}},ne=async M=>{if(M.preventDefault(),!!S.trim()){if(!o){rt.error("Please sign in to comment");return}E(!0);try{await jA(n,i.id,S),b(""),rt.success("Comment added")}catch(Z){rt.error(Z.message||"Failed to add comment")}finally{E(!1)}}},Y=async()=>{await p4(u)&&rt.success("Link copied to clipboard!")},de=async M=>{if(!o){rt.error("Please sign in to update status");return}try{await xA(n,M,null,null,i.id),c(Z=>({...Z,status:M})),N(!1),rt.success("Status updated successfully")}catch(Z){rt.error(Z.message||"Failed to update status")}};if(m)return f.jsx("div",{className:`${t?"p-8 min-h-[400px]":"min-h-[calc(100vh-64px)]"} flex items-center justify-center bg-gray-50`,children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Loading report..."}),f.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Please wait"})]})});if(!u)return f.jsx("div",{className:`${t?"p-8 min-h-[300px]":"min-h-[calc(100vh-64px)]"} flex items-center justify-center bg-gray-50`,children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("p",{className:"text-gray-700 font-semibold mb-1",children:"Report not found"}),f.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"This report may have been removed"}),f.jsx("button",{onClick:t?e:()=>r("/app"),className:"btn-primary",children:"Back to Map"})]})});const G=()=>{t&&e?e():r("/app")};return f.jsxs("div",{className:`${t?"":"min-h-screen"} bg-gray-50`,children:[f.jsxs("div",{ref:O,className:`${t?"":"max-w-2xl mx-auto"}`,children:[f.jsxs("div",{className:`relative ${t?"h-48":"h-56 sm:h-72"}`,children:[f.jsx("img",{src:u.photo_url||"https://via.placeholder.com/800x400?text=No+Image",alt:u.title,className:"w-full h-full object-cover",loading:"eager",onError:M=>{M.target.onerror=null,M.target.src="https://via.placeholder.com/800x400?text=No+Image"}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),f.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between",children:[f.jsx("button",{onClick:G,className:"w-10 h-10 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-all hover:scale-105",children:f.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:Y,className:"w-10 h-10 bg-white/95 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg hover:bg-white transition-all hover:scale-105",children:f.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]}),f.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex items-end justify-between",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`${r_(u.status)} capitalize shadow-lg`,children:u.status.replace("_"," ")}),f.jsx("span",{className:`badge ${vS(u.priority)} capitalize shadow-lg`,children:u.priority})]})})]}),f.jsxs("div",{className:"px-4 pb-32",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm -mt-6 relative z-10 p-5 mb-4",children:[f.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-3",children:u.title}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`category-icon category-${u.category} w-9 h-9 text-lg`,children:u4(u.category)}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:n_(u.category)}),f.jsx("p",{className:"text-xs text-gray-500",children:Id(u.created_at)})]})]}),u.description&&f.jsx("p",{className:"text-gray-600 text-sm mt-4 leading-relaxed",children:u.description})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-4 mb-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center flex-shrink-0",children:f.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:u.address||"Location"}),f.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[u.latitude.toFixed(6),", ",u.longitude.toFixed(6)]})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.vote_count}),f.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Upvotes"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-2xl p-4 text-center",children:[f.jsx("p",{className:"text-2xl font-bold text-gray-700",children:u.view_count}),f.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Views"})]})]}),u.profiles&&f.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-4 mb-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[u.profiles.avatar_url?f.jsx("img",{src:u.profiles.avatar_url,alt:u.profiles.display_name,className:"w-11 h-11 rounded-full object-cover"}):f.jsx("div",{className:"w-11 h-11 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:f.jsx("span",{className:"text-white font-semibold text-lg",children:(ee=u.profiles.display_name)==null?void 0:ee.charAt(0).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-gray-900",children:u.profiles.display_name}),f.jsxs("p",{className:"text-xs text-gray-500",children:["Reported ",c4(u.created_at)]})]})]})}),f.jsxs("div",{className:"flex gap-3 mb-6",children:[f.jsx("button",{onClick:$,disabled:v||w,className:`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-xl font-semibold transition-all ${v?"bg-green-100 text-green-700":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-lg shadow-blue-500/25"}`,children:w?f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}),f.jsx("span",{children:v?"Voted!":"Upvote"})]})}),o&&u.status!=="resolved"&&f.jsx("button",{onClick:()=>N(!0),className:"flex-1 py-3.5 rounded-xl font-semibold border-2 border-gray-200 text-gray-700 hover:bg-gray-50 transition-all",children:"Update Status"})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[f.jsx("div",{className:"p-4 border-b border-gray-100",children:f.jsxs("h2",{className:"font-semibold text-gray-900",children:["Community Discussion",f.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",d.length,")"]})]})}),f.jsx("div",{className:"max-h-80 overflow-y-auto",children:d.length===0?f.jsxs("div",{className:"text-center py-10 px-4",children:[f.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("svg",{className:"w-7 h-7 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),f.jsx("p",{className:"text-gray-500 text-sm",children:"No comments yet"}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Be the first to share your thoughts!"})]}):f.jsxs("div",{className:"p-4 space-y-3",children:[d.map(M=>{var Z,j,X,ae;return f.jsxs("div",{className:`flex gap-2.5 ${M.user_id===(i==null?void 0:i.id)?"flex-row-reverse":""}`,children:[(Z=M.profiles)!=null&&Z.avatar_url?f.jsx("img",{src:M.profiles.avatar_url,alt:"",className:"w-8 h-8 rounded-full flex-shrink-0"}):f.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-white text-xs font-medium",children:((X=(j=M.profiles)==null?void 0:j.display_name)==null?void 0:X.charAt(0).toUpperCase())||"?"})}),f.jsxs("div",{className:`max-w-[75%] ${M.user_id===(i==null?void 0:i.id)?"items-end":""}`,children:[f.jsxs("div",{className:`rounded-2xl px-4 py-2.5 ${M.user_id===(i==null?void 0:i.id)?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[f.jsx("p",{className:`text-xs font-medium mb-1 ${M.user_id===(i==null?void 0:i.id)?"text-blue-100":"text-gray-500"}`,children:((ae=M.profiles)==null?void 0:ae.display_name)||"User"}),f.jsx("p",{className:"text-sm",children:M.content})]}),f.jsx("p",{className:`text-[10px] text-gray-400 mt-1 ${M.user_id===(i==null?void 0:i.id)?"text-right":""}`,children:Id(M.created_at)})]})]},M.id)}),f.jsx("div",{ref:I})]})}),f.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:o?f.jsxs("form",{onSubmit:ne,className:"flex gap-2",children:[f.jsx("input",{type:"text",value:S,onChange:M=>b(M.target.value),placeholder:"Add a comment...",className:"flex-1 px-4 py-2.5 bg-white border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:500}),f.jsx("button",{type:"submit",disabled:!S.trim()||x,className:"w-11 h-11 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl flex items-center justify-center disabled:opacity-50 transition-all hover:shadow-lg",children:x?f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}):f.jsx("button",{onClick:a,className:"w-full py-3 bg-white border border-gray-200 rounded-xl text-gray-600 font-medium text-sm hover:bg-gray-50 transition-colors",children:"Sign in to join the discussion"})})]})]})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-end sm:items-center justify-center",onClick:()=>N(!1),children:f.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-2xl w-full sm:max-w-md shadow-2xl animate-slide-up safe-area-bottom",onClick:M=>M.stopPropagation(),children:[f.jsx("div",{className:"flex justify-center pt-3 pb-1 sm:hidden",children:f.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),f.jsxs("div",{className:"p-5 sm:p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-5",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Update Status"}),f.jsx("button",{onClick:()=>N(!1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:f.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"space-y-3",children:["open","in_progress","resolved"].map(M=>f.jsx("button",{onClick:()=>de(M),disabled:u.status===M,className:`w-full p-4 rounded-2xl border-2 text-left transition-all ${u.status===M?"border-primary-500 bg-primary-50 shadow-md":"border-gray-100 bg-gray-50 hover:border-gray-200 hover:bg-white hover:shadow-sm"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${M==="open"?"bg-red-100":M==="in_progress"?"bg-yellow-100":"bg-green-100"}`,children:[M==="open"&&f.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),M==="in_progress"&&f.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),M==="resolved"&&f.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold text-gray-900 capitalize block",children:M.replace("_"," ")}),f.jsxs("span",{className:"text-xs text-gray-500",children:[M==="open"&&"Issue is awaiting attention",M==="in_progress"&&"Issue is being addressed",M==="resolved"&&"Issue has been fixed"]})]})]}),u.status===M&&f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full"}),f.jsx("span",{className:"text-xs text-primary-600 font-semibold",children:"Current"})]})]})},M))})]})]})})]})};function Sc({showLogo:t=!0}){const e=eo(),n=af(),[r,i]=R.useState(!1),[o,a]=R.useState(null),u=R.useRef(null),c=R.useRef(null);R.useEffect(()=>{u.current&&ge.to(u.current,{x:r?0:-70,opacity:r?1:0,duration:.3,ease:"power2.out"})},[r]);const d=()=>{i(!0)},p=()=>{i(!1),a(null)},m=v=>{e(v),i(!1)},_=v=>n.pathname===v||v==="/"&&n.pathname==="/landing";return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:c,className:"nav-hover-zone",onMouseEnter:d}),f.jsx("div",{className:"glass-nav",ref:u,onMouseEnter:d,onMouseLeave:p,children:f.jsxs("div",{className:"glass-nav-container",children:[f.jsxs("div",{className:`glass-nav-item ${_("/")?"active":""}`,onClick:()=>m("/"),onMouseEnter:()=>a("home"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),f.jsx("span",{className:`glass-nav-label ${o==="home"?"visible":""}`,children:"Home"})]}),f.jsxs("div",{className:`glass-nav-item ${_("/app")?"active":""}`,onClick:()=>m("/app"),onMouseEnter:()=>a("app"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]})}),f.jsx("span",{className:`glass-nav-label ${o==="app"?"visible":""}`,children:"Open App"})]}),f.jsxs("div",{className:`glass-nav-item ${_("/features")?"active":""}`,onClick:()=>m("/features"),onMouseEnter:()=>a("features"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsx("span",{className:`glass-nav-label ${o==="features"?"visible":""}`,children:"Features"})]}),f.jsxs("div",{className:`glass-nav-item ${_("/about")?"active":""}`,onClick:()=>m("/about"),onMouseEnter:()=>a("about"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),f.jsx("span",{className:`glass-nav-label ${o==="about"?"visible":""}`,children:"About"})]}),f.jsxs("div",{className:`glass-nav-item ${_("/developer")?"active":""}`,onClick:()=>m("/developer"),onMouseEnter:()=>a("developer"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"16 18 22 12 16 6"}),f.jsx("polyline",{points:"8 6 2 12 8 18"})]})}),f.jsx("span",{className:`glass-nav-label ${o==="developer"?"visible":""}`,children:"Developer"})]}),f.jsxs("div",{className:`glass-nav-item ${_("/login")?"active":""}`,onClick:()=>m("/login"),onMouseEnter:()=>a("login"),onMouseLeave:()=>a(null),children:[f.jsx("div",{className:"glass-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),f.jsx("polyline",{points:"10 17 15 12 10 7"}),f.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})}),f.jsx("span",{className:`glass-nav-label ${o==="login"?"visible":""}`,children:"Login"})]})]})}),f.jsxs("nav",{className:"mobile-bottom-nav",children:[f.jsxs("div",{className:`mobile-nav-item ${_("/")?"active":""}`,onClick:()=>m("/"),children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),f.jsx("span",{className:"mobile-nav-label",children:"Home"})]}),f.jsxs("div",{className:`mobile-nav-item ${_("/features")?"active":""}`,onClick:()=>m("/features"),children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),f.jsx("span",{className:"mobile-nav-label",children:"Features"})]}),f.jsxs("div",{className:`mobile-nav-item ${_("/app")?"active":""}`,onClick:()=>m("/app"),children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]})}),f.jsx("span",{className:"mobile-nav-label",children:"App"})]}),f.jsxs("div",{className:`mobile-nav-item ${_("/about")?"active":""}`,onClick:()=>m("/about"),children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),f.jsx("span",{className:"mobile-nav-label",children:"About"})]}),f.jsxs("div",{className:`mobile-nav-item ${_("/login")?"active":""}`,onClick:()=>m("/login"),children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),f.jsx("polyline",{points:"10 17 15 12 10 7"}),f.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})}),f.jsx("span",{className:"mobile-nav-label",children:"Login"})]})]})]})}const jw=()=>{const t=eo(),{isAuthenticated:e,isLoading:n,signIn:r}=Sl(),i=R.useRef(null),o=R.useRef(null),a=R.useRef(null);R.useEffect(()=>{e&&t("/app")},[e,t]),R.useEffect(()=>{const c=ge.timeline();o.current&&c.fromTo(o.current,{opacity:0,x:-40},{opacity:1,x:0,duration:.8,ease:"power3.out"}),a.current&&c.fromTo(a.current,{opacity:0,scale:1.1},{opacity:1,scale:1,duration:1,ease:"power2.out"},"-=0.6")},[]);const u=async()=>{try{await r()}catch(c){console.error("Sign in error:",c)}};return f.jsxs("div",{ref:i,className:"login-page",children:[f.jsx(Sc,{showLogo:!1}),f.jsxs("div",{className:"login-split",children:[f.jsx("div",{className:"login-content-side",ref:o,children:f.jsxs("div",{className:"login-content-inner",children:[f.jsxs("div",{className:"login-brand",children:[f.jsx("div",{className:"login-logo-icon",children:f.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),f.jsx("span",{children:"Road Patrol"})]}),f.jsxs("div",{className:"login-header",children:[f.jsxs("h1",{children:["Welcome",f.jsx("br",{}),"Back"]}),f.jsx("p",{children:"Sign in to continue making your community safer."})]}),f.jsx("button",{onClick:u,disabled:n,className:"login-btn-google",children:n?f.jsx("div",{className:"login-spinner"}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Continue with Google"})]})}),f.jsx("div",{className:"login-divider",children:f.jsx("span",{children:"or"})}),f.jsx("button",{onClick:()=>t("/app"),className:"login-btn-guest",children:"Continue as Guest"}),f.jsxs("p",{className:"login-terms",children:["By continuing, you agree to our"," ",f.jsx("a",{href:"#",children:"Terms"})," and ",f.jsx("a",{href:"#",children:"Privacy Policy"})]})]})}),f.jsxs("div",{className:"login-image-side",ref:a,children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1515162816999-a0c47dc192f7?q=80&w=2070&auto=format&fit=crop",alt:"Road"}),f.jsx("div",{className:"login-image-overlay"}),f.jsxs("div",{className:"login-image-content",children:[f.jsxs("h2",{children:["Report. Track.",f.jsx("br",{}),"Resolve."]}),f.jsx("p",{children:"Join thousands making cities safer"})]})]})]})]})};function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v4(t,e,n){return e&&g4(t.prototype,e),t}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var sn,qh,cr,Rs,Os,tl,_S,ko,bu,yS,Yi,Xr,wS,xS=function(){return sn||typeof window<"u"&&(sn=window.gsap)&&sn.registerPlugin&&sn},bS=1,Va=[],Pe=[],Si=[],ku=Date.now,bg=function(e,n){return n},_4=function(){var e=bu.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,Pe),i.push.apply(i,Si),Pe=r,Si=i,bg=function(a,u){return n[a](u)}},Vs=function(e,n){return~Si.indexOf(e)&&Si[Si.indexOf(e)+1][n]},Su=function(e){return!!~yS.indexOf(e)},Sn=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:i!==!1,capture:!!o})},kn=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},vh="scrollLeft",_h="scrollTop",kg=function(){return Yi&&Yi.isPressed||Pe.cache++},zd=function(e,n){var r=function i(o){if(o||o===0){bS&&(cr.history.scrollRestoration="manual");var a=Yi&&Yi.isPressed;o=i.v=Math.round(o)||(Yi&&Yi.iOS?1:0),e(o),i.cacheID=Pe.cache,a&&bg("ss",o)}else(n||Pe.cache!==i.cacheID||bg("ref"))&&(i.cacheID=Pe.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},Ln={s:vh,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zd(function(t){return arguments.length?cr.scrollTo(t,Ft.sc()):cr.pageXOffset||Rs[vh]||Os[vh]||tl[vh]||0})},Ft={s:_h,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ln,sc:zd(function(t){return arguments.length?cr.scrollTo(Ln.sc(),t):cr.pageYOffset||Rs[_h]||Os[_h]||tl[_h]||0})},$n=function(e,n){return(n&&n._ctx&&n._ctx.selector||sn.utils.toArray)(e)[0]||(typeof e=="string"&&sn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},y4=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},Ks=function(e,n){var r=n.s,i=n.sc;Su(e)&&(e=Rs.scrollingElement||Os);var o=Pe.indexOf(e),a=i===Ft.sc?1:2;!~o&&(o=Pe.push(e)-1),Pe[o+a]||Sn(e,"scroll",kg);var u=Pe[o+a],c=u||(Pe[o+a]=zd(Vs(e,r),!0)||(Su(e)?i:zd(function(d){return arguments.length?e[r]=d:e[r]})));return c.target=e,u||(c.smooth=sn.getProperty(e,"scrollBehavior")==="smooth"),c},Sg=function(e,n,r){var i=e,o=e,a=ku(),u=a,c=n||50,d=Math.max(500,c*3),p=function(k,w){var C=ku();w||C-a>c?(o=i,i=k,u=a,a=C):r?i+=k:i=o+(k-o)/(C-u)*(a-u)},m=function(){o=i=r?0:i,u=a=0},_=function(k){var w=u,C=o,S=ku();return(k||k===0)&&k!==i&&p(k),a===u||S-u>d?0:(i+(r?C:-C))/((r?S:a)-w)*1e3};return{update:p,reset:m,getVelocity:_}},ql=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Lw=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},kS=function(){bu=sn.core.globals().ScrollTrigger,bu&&bu.core&&_4()},SS=function(e){return sn=e||xS(),!qh&&sn&&typeof document<"u"&&document.body&&(cr=window,Rs=document,Os=Rs.documentElement,tl=Rs.body,yS=[cr,Rs,Os,tl],sn.utils.clamp,wS=sn.core.context||function(){},ko="onpointerenter"in tl?"pointer":"mouse",_S=St.isTouch=cr.matchMedia&&cr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in cr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Xr=St.eventTypes=("ontouchstart"in Os?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Os?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return bS=0},500),kS(),qh=1),qh};Ln.op=Ft;Pe.cache=0;var St=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){qh||SS(sn)||console.warn("Please gsap.registerPlugin(Observer)"),bu||kS();var i=r.tolerance,o=r.dragMinimum,a=r.type,u=r.target,c=r.lineHeight,d=r.debounce,p=r.preventDefault,m=r.onStop,_=r.onStopDelay,v=r.ignore,k=r.wheelSpeed,w=r.event,C=r.onDragStart,S=r.onDragEnd,b=r.onDrag,x=r.onPress,E=r.onRelease,P=r.onRight,N=r.onLeft,O=r.onUp,I=r.onDown,D=r.onChangeX,B=r.onChangeY,W=r.onChange,$=r.onToggleX,ne=r.onToggleY,Y=r.onHover,de=r.onHoverEnd,G=r.onMove,ee=r.ignoreCheck,M=r.isNormalizer,Z=r.onGestureStart,j=r.onGestureEnd,X=r.onWheel,ae=r.onEnable,V=r.onDisable,K=r.onClick,le=r.scrollSpeed,se=r.capture,be=r.allowClicks,$e=r.lockAxis,_t=r.onLockAxis;this.target=u=$n(u)||Os,this.vars=r,v&&(v=sn.utils.toArray(v)),i=i||1e-9,o=o||0,k=k||1,le=le||1,a=a||"wheel,touch,pointer",d=d!==!1,c||(c=parseFloat(cr.getComputedStyle(tl).lineHeight)||22);var xr,Rt,yt,je,ot,Qt,un,U=this,Vt=0,Wr=0,Vr=r.passive||!p&&r.passive!==!1,He=Ks(u,Ln),br=Ks(u,Ft),Hr=He(),Ci=br(),Tt=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Xr[0]==="pointerdown",kr=Su(u),et=u.ownerDocument||Rs,Mn=[0,0,0],In=[0,0,0],Sr=0,ls=function(){return Sr=ku()},pt=function(he,Oe){return(U.event=he)&&v&&y4(he.target,v)||Oe&&Tt&&he.pointerType!=="touch"||ee&&ee(he,Oe)},ro=function(){U._vx.reset(),U._vy.reset(),Rt.pause(),m&&m(U)},Qn=function(){var he=U.deltaX=Lw(Mn),Oe=U.deltaY=Lw(In),J=Math.abs(he)>=i,ve=Math.abs(Oe)>=i;W&&(J||ve)&&W(U,he,Oe,Mn,In),J&&(P&&U.deltaX>0&&P(U),N&&U.deltaX<0&&N(U),D&&D(U),$&&U.deltaX<0!=Vt<0&&$(U),Vt=U.deltaX,Mn[0]=Mn[1]=Mn[2]=0),ve&&(I&&U.deltaY>0&&I(U),O&&U.deltaY<0&&O(U),B&&B(U),ne&&U.deltaY<0!=Wr<0&&ne(U),Wr=U.deltaY,In[0]=In[1]=In[2]=0),(je||yt)&&(G&&G(U),yt&&(C&&yt===1&&C(U),b&&b(U),yt=0),je=!1),Qt&&!(Qt=!1)&&_t&&_t(U),ot&&(X(U),ot=!1),xr=0},Pi=function(he,Oe,J){Mn[J]+=he,In[J]+=Oe,U._vx.update(he),U._vy.update(Oe),d?xr||(xr=requestAnimationFrame(Qn)):Qn()},us=function(he,Oe){$e&&!un&&(U.axis=un=Math.abs(he)>Math.abs(Oe)?"x":"y",Qt=!0),un!=="y"&&(Mn[2]+=he,U._vx.update(he,!0)),un!=="x"&&(In[2]+=Oe,U._vy.update(Oe,!0)),d?xr||(xr=requestAnimationFrame(Qn)):Qn()},zn=function(he){if(!pt(he,1)){he=ql(he,p);var Oe=he.clientX,J=he.clientY,ve=Oe-U.x,ue=J-U.y,ce=U.isDragging;U.x=Oe,U.y=J,(ce||(ve||ue)&&(Math.abs(U.startX-Oe)>=o||Math.abs(U.startY-J)>=o))&&(yt||(yt=ce?2:1),ce||(U.isDragging=!0),us(ve,ue))}},ji=U.onPress=function(_e){pt(_e,1)||_e&&_e.button||(U.axis=un=null,Rt.pause(),U.isPressed=!0,_e=ql(_e),Vt=Wr=0,U.startX=U.x=_e.clientX,U.startY=U.y=_e.clientY,U._vx.reset(),U._vy.reset(),Sn(M?u:et,Xr[1],zn,Vr,!0),U.deltaX=U.deltaY=0,x&&x(U))},ke=U.onRelease=function(_e){if(!pt(_e,1)){kn(M?u:et,Xr[1],zn,!0);var he=!isNaN(U.y-U.startY),Oe=U.isDragging,J=Oe&&(Math.abs(U.x-U.startX)>3||Math.abs(U.y-U.startY)>3),ve=ql(_e);!J&&he&&(U._vx.reset(),U._vy.reset(),p&&be&&sn.delayedCall(.08,function(){if(ku()-Sr>300&&!_e.defaultPrevented){if(_e.target.click)_e.target.click();else if(et.createEvent){var ue=et.createEvent("MouseEvents");ue.initMouseEvent("click",!0,!0,cr,1,ve.screenX,ve.screenY,ve.clientX,ve.clientY,!1,!1,!1,!1,0,null),_e.target.dispatchEvent(ue)}}})),U.isDragging=U.isGesturing=U.isPressed=!1,m&&Oe&&!M&&Rt.restart(!0),yt&&Qn(),S&&Oe&&S(U),E&&E(U,J)}},ui=function(he){return he.touches&&he.touches.length>1&&(U.isGesturing=!0)&&Z(he,U.isDragging)},Dn=function(){return(U.isGesturing=!1)||j(U)},Bn=function(he){if(!pt(he)){var Oe=He(),J=br();Pi((Oe-Hr)*le,(J-Ci)*le,1),Hr=Oe,Ci=J,m&&Rt.restart(!0)}},er=function(he){if(!pt(he)){he=ql(he,p),X&&(ot=!0);var Oe=(he.deltaMode===1?c:he.deltaMode===2?cr.innerHeight:1)*k;Pi(he.deltaX*Oe,he.deltaY*Oe,0),m&&!M&&Rt.restart(!0)}},Li=function(he){if(!pt(he)){var Oe=he.clientX,J=he.clientY,ve=Oe-U.x,ue=J-U.y;U.x=Oe,U.y=J,je=!0,m&&Rt.restart(!0),(ve||ue)&&us(ve,ue)}},cs=function(he){U.event=he,Y(U)},Zr=function(he){U.event=he,de(U)},io=function(he){return pt(he)||ql(he,p)&&K(U)};Rt=U._dc=sn.delayedCall(_||.25,ro).pause(),U.deltaX=U.deltaY=0,U._vx=Sg(0,50,!0),U._vy=Sg(0,50,!0),U.scrollX=He,U.scrollY=br,U.isDragging=U.isGesturing=U.isPressed=!1,wS(this),U.enable=function(_e){return U.isEnabled||(Sn(kr?et:u,"scroll",kg),a.indexOf("scroll")>=0&&Sn(kr?et:u,"scroll",Bn,Vr,se),a.indexOf("wheel")>=0&&Sn(u,"wheel",er,Vr,se),(a.indexOf("touch")>=0&&_S||a.indexOf("pointer")>=0)&&(Sn(u,Xr[0],ji,Vr,se),Sn(et,Xr[2],ke),Sn(et,Xr[3],ke),be&&Sn(u,"click",ls,!0,!0),K&&Sn(u,"click",io),Z&&Sn(et,"gesturestart",ui),j&&Sn(et,"gestureend",Dn),Y&&Sn(u,ko+"enter",cs),de&&Sn(u,ko+"leave",Zr),G&&Sn(u,ko+"move",Li)),U.isEnabled=!0,U.isDragging=U.isGesturing=U.isPressed=je=yt=!1,U._vx.reset(),U._vy.reset(),Hr=He(),Ci=br(),_e&&_e.type&&ji(_e),ae&&ae(U)),U},U.disable=function(){U.isEnabled&&(Va.filter(function(_e){return _e!==U&&Su(_e.target)}).length||kn(kr?et:u,"scroll",kg),U.isPressed&&(U._vx.reset(),U._vy.reset(),kn(M?u:et,Xr[1],zn,!0)),kn(kr?et:u,"scroll",Bn,se),kn(u,"wheel",er,se),kn(u,Xr[0],ji,se),kn(et,Xr[2],ke),kn(et,Xr[3],ke),kn(u,"click",ls,!0),kn(u,"click",io),kn(et,"gesturestart",ui),kn(et,"gestureend",Dn),kn(u,ko+"enter",cs),kn(u,ko+"leave",Zr),kn(u,ko+"move",Li),U.isEnabled=U.isPressed=U.isDragging=!1,V&&V(U))},U.kill=U.revert=function(){U.disable();var _e=Va.indexOf(U);_e>=0&&Va.splice(_e,1),Yi===U&&(Yi=0)},Va.push(U),M&&Su(u)&&(Yi=U),U.enable(w)},v4(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();St.version="3.14.2";St.create=function(t){return new St(t)};St.register=SS;St.getAll=function(){return Va.slice()};St.getById=function(t){return Va.filter(function(e){return e.vars.id===t})[0]};xS()&&sn.registerPlugin(St);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ie,Ea,Ce,Ye,ar,De,i_,Dd,hc,Tu,ru,yh,fn,yf,Tg,Cn,Nw,Rw,Ca,TS,Fp,ES,Tn,Eg,CS,PS,_s,Cg,s_,nl,o_,Eu,Pg,Up,wh=1,pn=Date.now,$p=pn(),Fr=0,iu=0,Ow=function(e,n,r){var i=sr(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},Aw=function(e,n){return n&&(!sr(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},w4=function t(){return iu&&requestAnimationFrame(t)},Mw=function(){return yf=1},Iw=function(){return yf=0},gi=function(e){return e},su=function(e){return Math.round(e*1e5)/1e5||0},jS=function(){return typeof window<"u"},LS=function(){return ie||jS()&&(ie=window.gsap)&&ie.registerPlugin&&ie},qo=function(e){return!!~i_.indexOf(e)},NS=function(e){return(e==="Height"?o_:Ce["inner"+e])||ar["client"+e]||De["client"+e]},RS=function(e){return Vs(e,"getBoundingClientRect")||(qo(e)?function(){return Qh.width=Ce.innerWidth,Qh.height=o_,Qh}:function(){return Zi(e)})},x4=function(e,n,r){var i=r.d,o=r.d2,a=r.a;return(a=Vs(e,"getBoundingClientRect"))?function(){return a()[i]}:function(){return(n?NS(o):e["client"+o])||0}},b4=function(e,n){return!n||~Si.indexOf(e)?RS(e):function(){return Qh}},xi=function(e,n){var r=n.s,i=n.d2,o=n.d,a=n.a;return Math.max(0,(r="scroll"+i)&&(a=Vs(e,r))?a()-RS(e)()[o]:qo(e)?(ar[r]||De[r])-NS(i):e[r]-e["offset"+i])},xh=function(e,n){for(var r=0;r<Ca.length;r+=3)(!n||~n.indexOf(Ca[r+1]))&&e(Ca[r],Ca[r+1],Ca[r+2])},sr=function(e){return typeof e=="string"},vn=function(e){return typeof e=="function"},ou=function(e){return typeof e=="number"},So=function(e){return typeof e=="object"},Yl=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},Wp=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},xa=Math.abs,OS="left",AS="top",a_="right",l_="bottom",Fo="width",Uo="height",Cu="Right",Pu="Left",ju="Top",Lu="Bottom",jt="padding",Ar="margin",_l="Width",u_="Height",Dt="px",Mr=function(e){return Ce.getComputedStyle(e)},k4=function(e){var n=Mr(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},zw=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Zi=function(e,n){var r=n&&Mr(e)[Tg]!=="matrix(1, 0, 0, 1, 0, 0)"&&ie.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},Bd=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},MS=function(e){var n=[],r=e.labels,i=e.duration(),o;for(o in r)n.push(r[o]/i);return n},S4=function(e){return function(n){return ie.utils.snap(MS(e),n)}},c_=function(e){var n=ie.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,o){return i-o});return r?function(i,o,a){a===void 0&&(a=.001);var u;if(!o)return n(i);if(o>0){for(i-=a,u=0;u<r.length;u++)if(r[u]>=i)return r[u];return r[u-1]}else for(u=r.length,i+=a;u--;)if(r[u]<=i)return r[u];return r[0]}:function(i,o,a){a===void 0&&(a=.001);var u=n(i);return!o||Math.abs(u-i)<a||u-i<0==o<0?u:n(o<0?i-e:i+e)}},T4=function(e){return function(n,r){return c_(MS(e))(n,r.direction)}},bh=function(e,n,r,i){return r.split(",").forEach(function(o){return e(n,o,i)})},Yt=function(e,n,r,i,o){return e.addEventListener(n,r,{passive:!i,capture:!!o})},qt=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},kh=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},Dw={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Sh={toggleActions:"play",anticipatePin:0},Fd={top:0,left:0,center:.5,bottom:1,right:1},Yh=function(e,n){if(sr(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Fd?Fd[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},Th=function(e,n,r,i,o,a,u,c){var d=o.startColor,p=o.endColor,m=o.fontSize,_=o.indent,v=o.fontWeight,k=Ye.createElement("div"),w=qo(r)||Vs(r,"pinType")==="fixed",C=e.indexOf("scroller")!==-1,S=w?De:r,b=e.indexOf("start")!==-1,x=b?d:p,E="border-color:"+x+";font-size:"+m+";color:"+x+";font-weight:"+v+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return E+="position:"+((C||c)&&w?"fixed;":"absolute;"),(C||c||!w)&&(E+=(i===Ft?a_:l_)+":"+(a+parseFloat(_))+"px;"),u&&(E+="box-sizing:border-box;text-align:left;width:"+u.offsetWidth+"px;"),k._isStart=b,k.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),k.style.cssText=E,k.innerText=n||n===0?e+"-"+n:e,S.children[0]?S.insertBefore(k,S.children[0]):S.appendChild(k),k._offset=k["offset"+i.op.d2],Kh(k,0,i,b),k},Kh=function(e,n,r,i){var o={display:"block"},a=r[i?"os2":"p2"],u=r[i?"p2":"os2"];e._isFlipped=i,o[r.a+"Percent"]=i?-100:0,o[r.a]=i?"1px":0,o["border"+a+_l]=1,o["border"+u+_l]=0,o[r.p]=n+"px",ie.set(e,o)},Se=[],jg={},dc,Bw=function(){return pn()-Fr>34&&(dc||(dc=requestAnimationFrame(Ji)))},ba=function(){(!Tn||!Tn.isPressed||Tn.startX>De.clientWidth)&&(Pe.cache++,Tn?dc||(dc=requestAnimationFrame(Ji)):Ji(),Fr||Ko("scrollStart"),Fr=pn())},Vp=function(){PS=Ce.innerWidth,CS=Ce.innerHeight},au=function(e){Pe.cache++,(e===!0||!fn&&!ES&&!Ye.fullscreenElement&&!Ye.webkitFullscreenElement&&(!Eg||PS!==Ce.innerWidth||Math.abs(Ce.innerHeight-CS)>Ce.innerHeight*.25))&&Dd.restart(!0)},Yo={},E4=[],IS=function t(){return qt(we,"scrollEnd",t)||Ro(!0)},Ko=function(e){return Yo[e]&&Yo[e].map(function(n){return n()})||E4},rr=[],zS=function(e){for(var n=0;n<rr.length;n+=5)(!e||rr[n+4]&&rr[n+4].query===e)&&(rr[n].style.cssText=rr[n+1],rr[n].getBBox&&rr[n].setAttribute("transform",rr[n+2]||""),rr[n+3].uncache=1)},DS=function(){return Pe.forEach(function(e){return vn(e)&&++e.cacheID&&(e.rec=e())})},h_=function(e,n){var r;for(Cn=0;Cn<Se.length;Cn++)r=Se[Cn],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Eu=!0,n&&zS(n),n||Ko("revert")},BS=function(e,n){Pe.cache++,(n||!Pn)&&Pe.forEach(function(r){return vn(r)&&r.cacheID++&&(r.rec=0)}),sr(e)&&(Ce.history.scrollRestoration=s_=e)},Pn,$o=0,Fw,C4=function(){if(Fw!==$o){var e=Fw=$o;requestAnimationFrame(function(){return e===$o&&Ro(!0)})}},FS=function(){De.appendChild(nl),o_=!Tn&&nl.offsetHeight||Ce.innerHeight,De.removeChild(nl)},Uw=function(e){return hc(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Ro=function(e,n){if(ar=Ye.documentElement,De=Ye.body,i_=[Ce,Ye,ar,De],Fr&&!e&&!Eu){Yt(we,"scrollEnd",IS);return}FS(),Pn=we.isRefreshing=!0,Eu||DS();var r=Ko("refreshInit");TS&&we.sort(),n||h_(),Pe.forEach(function(i){vn(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),Se.slice(0).forEach(function(i){return i.refresh()}),Eu=!1,Se.forEach(function(i){if(i._subPinOffset&&i.pin){var o=i.vars.horizontal?"offsetWidth":"offsetHeight",a=i.pin[o];i.revert(!0,1),i.adjustPinSpacing(i.pin[o]-a),i.refresh()}}),Pg=1,Uw(!0),Se.forEach(function(i){var o=xi(i.scroller,i._dir),a=i.vars.end==="max"||i._endClamp&&i.end>o,u=i._startClamp&&i.start>=o;(a||u)&&i.setPositions(u?o-1:i.start,a?Math.max(u?o:i.start+1,o):i.end,!0)}),Uw(!1),Pg=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),Pe.forEach(function(i){vn(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),BS(s_,1),Dd.pause(),$o++,Pn=2,Ji(2),Se.forEach(function(i){return vn(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Pn=we.isRefreshing=!1,Ko("refresh")},Lg=0,Xh=1,Nu,Ji=function(e){if(e===2||!Pn&&!Eu){we.isUpdating=!0,Nu&&Nu.update(0);var n=Se.length,r=pn(),i=r-$p>=50,o=n&&Se[0].scroll();if(Xh=Lg>o?-1:1,Pn||(Lg=o),i&&(Fr&&!yf&&r-Fr>200&&(Fr=0,Ko("scrollEnd")),ru=$p,$p=r),Xh<0){for(Cn=n;Cn-- >0;)Se[Cn]&&Se[Cn].update(0,i);Xh=1}else for(Cn=0;Cn<n;Cn++)Se[Cn]&&Se[Cn].update(0,i);we.isUpdating=!1}dc=0},Ng=[OS,AS,l_,a_,Ar+Lu,Ar+Cu,Ar+ju,Ar+Pu,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Jh=Ng.concat([Fo,Uo,"boxSizing","max"+_l,"max"+u_,"position",Ar,jt,jt+ju,jt+Cu,jt+Lu,jt+Pu]),P4=function(e,n,r){rl(r);var i=e._gsap;if(i.spacerIsNative)rl(i.spacerState);else if(e._gsap.swappedIn){var o=n.parentNode;o&&(o.insertBefore(e,n),o.removeChild(n))}e._gsap.swappedIn=!1},Hp=function(e,n,r,i){if(!e._gsap.swappedIn){for(var o=Ng.length,a=n.style,u=e.style,c;o--;)c=Ng[o],a[c]=r[c];a.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(a.display="inline-block"),u[l_]=u[a_]="auto",a.flexBasis=r.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[Fo]=Bd(e,Ln)+Dt,a[Uo]=Bd(e,Ft)+Dt,a[jt]=u[Ar]=u[AS]=u[OS]="0",rl(i),u[Fo]=u["max"+_l]=r[Fo],u[Uo]=u["max"+u_]=r[Uo],u[jt]=r[jt],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},j4=/([A-Z])/g,rl=function(e){if(e){var n=e.t.style,r=e.length,i=0,o,a;for((e.t._gsap||ie.core.getCache(e.t)).uncache=1;i<r;i+=2)a=e[i+1],o=e[i],a?n[o]=a:n[o]&&n.removeProperty(o.replace(j4,"-$1").toLowerCase())}},Eh=function(e){for(var n=Jh.length,r=e.style,i=[],o=0;o<n;o++)i.push(Jh[o],r[Jh[o]]);return i.t=e,i},L4=function(e,n,r){for(var i=[],o=e.length,a=r?8:0,u;a<o;a+=2)u=e[a],i.push(u,u in n?n[u]:e[a+1]);return i.t=e.t,i},Qh={left:0,top:0},$w=function(e,n,r,i,o,a,u,c,d,p,m,_,v,k){vn(e)&&(e=e(c)),sr(e)&&e.substr(0,3)==="max"&&(e=_+(e.charAt(4)==="="?Yh("0"+e.substr(3),r):0));var w=v?v.time():0,C,S,b;if(v&&v.seek(0),isNaN(e)||(e=+e),ou(e))v&&(e=ie.utils.mapRange(v.scrollTrigger.start,v.scrollTrigger.end,0,_,e)),u&&Kh(u,r,i,!0);else{vn(n)&&(n=n(c));var x=(e||"0").split(" "),E,P,N,O;b=$n(n,c)||De,E=Zi(b)||{},(!E||!E.left&&!E.top)&&Mr(b).display==="none"&&(O=b.style.display,b.style.display="block",E=Zi(b),O?b.style.display=O:b.style.removeProperty("display")),P=Yh(x[0],E[i.d]),N=Yh(x[1]||"0",r),e=E[i.p]-d[i.p]-p+P+o-N,u&&Kh(u,N,i,r-N<20||u._isStart&&N>20),r-=r-N}if(k&&(c[k]=e||-.001,e<0&&(e=0)),a){var I=e+r,D=a._isStart;C="scroll"+i.d2,Kh(a,I,i,D&&I>20||!D&&(m?Math.max(De[C],ar[C]):a.parentNode[C])<=I+1),m&&(d=Zi(u),m&&(a.style[i.op.p]=d[i.op.p]-i.op.m-a._offset+Dt))}return v&&b&&(C=Zi(b),v.seek(_),S=Zi(b),v._caScrollDist=C[i.p]-S[i.p],e=e/v._caScrollDist*_),v&&v.seek(w),v?e:Math.round(e)},N4=/(webkit|moz|length|cssText|inset)/i,Ww=function(e,n,r,i){if(e.parentNode!==n){var o=e.style,a,u;if(n===De){e._stOrig=o.cssText,u=Mr(e);for(a in u)!+a&&!N4.test(a)&&u[a]&&typeof o[a]=="string"&&a!=="0"&&(o[a]=u[a]);o.top=r,o.left=i}else o.cssText=e._stOrig;ie.core.getCache(e).uncache=1,n.appendChild(e)}},US=function(e,n,r){var i=n,o=i;return function(a){var u=Math.round(e());return u!==i&&u!==o&&Math.abs(u-i)>3&&Math.abs(u-o)>3&&(a=u,r&&r()),o=i,i=Math.round(a),i}},Ch=function(e,n,r){var i={};i[n.p]="+="+r,ie.set(e,i)},Vw=function(e,n){var r=Ks(e,n),i="_scroll"+n.p2,o=function a(u,c,d,p,m){var _=a.tween,v=c.onComplete,k={};d=d||r();var w=US(r,d,function(){_.kill(),a.tween=0});return m=p&&m||0,p=p||u-d,_&&_.kill(),c[i]=u,c.inherit=!1,c.modifiers=k,k[i]=function(){return w(d+p*_.ratio+m*_.ratio*_.ratio)},c.onUpdate=function(){Pe.cache++,a.tween&&Ji()},c.onComplete=function(){a.tween=0,v&&v.call(_)},_=a.tween=ie.to(e,c),_};return e[i]=r,r.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},Yt(e,"wheel",r.wheelHandler),we.isTouch&&Yt(e,"touchmove",r.wheelHandler),o},we=function(){function t(n,r){Ea||t.register(ie)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Cg(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!iu){this.update=this.refresh=this.kill=gi;return}r=zw(sr(r)||ou(r)||r.nodeType?{trigger:r}:r,Sh);var o=r,a=o.onUpdate,u=o.toggleClass,c=o.id,d=o.onToggle,p=o.onRefresh,m=o.scrub,_=o.trigger,v=o.pin,k=o.pinSpacing,w=o.invalidateOnRefresh,C=o.anticipatePin,S=o.onScrubComplete,b=o.onSnapComplete,x=o.once,E=o.snap,P=o.pinReparent,N=o.pinSpacer,O=o.containerAnimation,I=o.fastScrollEnd,D=o.preventOverlaps,B=r.horizontal||r.containerAnimation&&r.horizontal!==!1?Ln:Ft,W=!m&&m!==0,$=$n(r.scroller||Ce),ne=ie.core.getCache($),Y=qo($),de=("pinType"in r?r.pinType:Vs($,"pinType")||Y&&"fixed")==="fixed",G=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],ee=W&&r.toggleActions.split(" "),M="markers"in r?r.markers:Sh.markers,Z=Y?0:parseFloat(Mr($)["border"+B.p2+_l])||0,j=this,X=r.onRefreshInit&&function(){return r.onRefreshInit(j)},ae=x4($,Y,B),V=b4($,Y),K=0,le=0,se=0,be=Ks($,B),$e,_t,xr,Rt,yt,je,ot,Qt,un,U,Vt,Wr,Vr,He,br,Hr,Ci,Tt,kr,et,Mn,In,Sr,ls,pt,ro,Qn,Pi,us,zn,ji,ke,ui,Dn,Bn,er,Li,cs,Zr;if(j._startClamp=j._endClamp=!1,j._dir=B,C*=45,j.scroller=$,j.scroll=O?O.time.bind(O):be,Rt=be(),j.vars=r,i=i||r.animation,"refreshPriority"in r&&(TS=1,r.refreshPriority===-9999&&(Nu=j)),ne.tweenScroll=ne.tweenScroll||{top:Vw($,Ft),left:Vw($,Ln)},j.tweenTo=$e=ne.tweenScroll[B.p],j.scrubDuration=function(J){ui=ou(J)&&J,ui?ke?ke.duration(J):ke=ie.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:ui,paused:!0,onComplete:function(){return S&&S(j)}}):(ke&&ke.progress(1).kill(),ke=0)},i&&(i.vars.lazy=!1,i._initted&&!j.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),j.animation=i.pause(),i.scrollTrigger=j,j.scrubDuration(m),zn=0,c||(c=i.vars.id)),E&&((!So(E)||E.push)&&(E={snapTo:E}),"scrollBehavior"in De.style&&ie.set(Y?[De,ar]:$,{scrollBehavior:"auto"}),Pe.forEach(function(J){return vn(J)&&J.target===(Y?Ye.scrollingElement||ar:$)&&(J.smooth=!1)}),xr=vn(E.snapTo)?E.snapTo:E.snapTo==="labels"?S4(i):E.snapTo==="labelsDirectional"?T4(i):E.directional!==!1?function(J,ve){return c_(E.snapTo)(J,pn()-le<500?0:ve.direction)}:ie.utils.snap(E.snapTo),Dn=E.duration||{min:.1,max:2},Dn=So(Dn)?Tu(Dn.min,Dn.max):Tu(Dn,Dn),Bn=ie.delayedCall(E.delay||ui/2||.1,function(){var J=be(),ve=pn()-le<500,ue=$e.tween;if((ve||Math.abs(j.getVelocity())<10)&&!ue&&!yf&&K!==J){var ce=(J-je)/He,Q=i&&!W?i.totalProgress():ce,Te=ve?0:(Q-ji)/(pn()-ru)*1e3||0,tt=ie.utils.clamp(-ce,1-ce,xa(Te/2)*Te/.185),Ot=ce+(E.inertia===!1?0:tt),Xe,Ue,Ie=E,Ht=Ie.onStart,Ze=Ie.onInterrupt,wn=Ie.onComplete;if(Xe=xr(Ot,j),ou(Xe)||(Xe=Ot),Ue=Math.max(0,Math.round(je+Xe*He)),J<=ot&&J>=je&&Ue!==J){if(ue&&!ue._initted&&ue.data<=xa(Ue-J))return;E.inertia===!1&&(tt=Xe-ce),$e(Ue,{duration:Dn(xa(Math.max(xa(Ot-Q),xa(Xe-Q))*.185/Te/.05||0)),ease:E.ease||"power3",data:xa(Ue-J),onInterrupt:function(){return Bn.restart(!0)&&Ze&&Ze(j)},onComplete:function(){j.update(),K=be(),i&&!W&&(ke?ke.resetTo("totalProgress",Xe,i._tTime/i._tDur):i.progress(Xe)),zn=ji=i&&!W?i.totalProgress():j.progress,b&&b(j),wn&&wn(j)}},J,tt*He,Ue-J-tt*He),Ht&&Ht(j,$e.tween)}}else j.isActive&&K!==J&&Bn.restart(!0)}).pause()),c&&(jg[c]=j),_=j.trigger=$n(_||v!==!0&&v),Zr=_&&_._gsap&&_._gsap.stRevert,Zr&&(Zr=Zr(j)),v=v===!0?_:$n(v),sr(u)&&(u={targets:_,className:u}),v&&(k===!1||k===Ar||(k=!k&&v.parentNode&&v.parentNode.style&&Mr(v.parentNode).display==="flex"?!1:jt),j.pin=v,_t=ie.core.getCache(v),_t.spacer?br=_t.pinState:(N&&(N=$n(N),N&&!N.nodeType&&(N=N.current||N.nativeElement),_t.spacerIsNative=!!N,N&&(_t.spacerState=Eh(N))),_t.spacer=Tt=N||Ye.createElement("div"),Tt.classList.add("pin-spacer"),c&&Tt.classList.add("pin-spacer-"+c),_t.pinState=br=Eh(v)),r.force3D!==!1&&ie.set(v,{force3D:!0}),j.spacer=Tt=_t.spacer,us=Mr(v),ls=us[k+B.os2],et=ie.getProperty(v),Mn=ie.quickSetter(v,B.a,Dt),Hp(v,Tt,us),Ci=Eh(v)),M){Wr=So(M)?zw(M,Dw):Dw,U=Th("scroller-start",c,$,B,Wr,0),Vt=Th("scroller-end",c,$,B,Wr,0,U),kr=U["offset"+B.op.d2];var io=$n(Vs($,"content")||$);Qt=this.markerStart=Th("start",c,io,B,Wr,kr,0,O),un=this.markerEnd=Th("end",c,io,B,Wr,kr,0,O),O&&(cs=ie.quickSetter([Qt,un],B.a,Dt)),!de&&!(Si.length&&Vs($,"fixedMarkers")===!0)&&(k4(Y?De:$),ie.set([U,Vt],{force3D:!0}),ro=ie.quickSetter(U,B.a,Dt),Pi=ie.quickSetter(Vt,B.a,Dt))}if(O){var _e=O.vars.onUpdate,he=O.vars.onUpdateParams;O.eventCallback("onUpdate",function(){j.update(0,0,1),_e&&_e.apply(O,he||[])})}if(j.previous=function(){return Se[Se.indexOf(j)-1]},j.next=function(){return Se[Se.indexOf(j)+1]},j.revert=function(J,ve){if(!ve)return j.kill(!0);var ue=J!==!1||!j.enabled,ce=fn;ue!==j.isReverted&&(ue&&(er=Math.max(be(),j.scroll.rec||0),se=j.progress,Li=i&&i.progress()),Qt&&[Qt,un,U,Vt].forEach(function(Q){return Q.style.display=ue?"none":"block"}),ue&&(fn=j,j.update(ue)),v&&(!P||!j.isActive)&&(ue?P4(v,Tt,br):Hp(v,Tt,Mr(v),pt)),ue||j.update(ue),fn=ce,j.isReverted=ue)},j.refresh=function(J,ve,ue,ce){if(!((fn||!j.enabled)&&!ve)){if(v&&J&&Fr){Yt(t,"scrollEnd",IS);return}!Pn&&X&&X(j),fn=j,$e.tween&&!ue&&($e.tween.kill(),$e.tween=0),ke&&ke.pause(),w&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren?i.getChildren(!0,!0,!1).forEach(function(Fn){return Fn.vars.immediateRender&&Fn.render(0,!0,!0)}):i.vars.immediateRender&&i.render(0,!0,!0)),j.isReverted||j.revert(!0,!0),j._subPinOffset=!1;var Q=ae(),Te=V(),tt=O?O.duration():xi($,B),Ot=He<=.01||!He,Xe=0,Ue=ce||0,Ie=So(ue)?ue.end:r.end,Ht=r.endTrigger||_,Ze=So(ue)?ue.start:r.start||(r.start===0||!_?0:v?"0 0":"0 100%"),wn=j.pinnedContainer=r.pinnedContainer&&$n(r.pinnedContainer,j),Tr=_&&Math.max(0,Se.indexOf(j))||0,At=Tr,Mt,It,Ni,Ri,Zt,wt,Er,El,Ec,Oi,cn,hs,so;for(M&&So(ue)&&(hs=ie.getProperty(U,B.p),so=ie.getProperty(Vt,B.p));At-- >0;)wt=Se[At],wt.end||wt.refresh(0,1)||(fn=j),Er=wt.pin,Er&&(Er===_||Er===v||Er===wn)&&!wt.isReverted&&(Oi||(Oi=[]),Oi.unshift(wt),wt.revert(!0,!0)),wt!==Se[At]&&(Tr--,At--);for(vn(Ze)&&(Ze=Ze(j)),Ze=Ow(Ze,"start",j),je=$w(Ze,_,Q,B,be(),Qt,U,j,Te,Z,de,tt,O,j._startClamp&&"_startClamp")||(v?-.001:0),vn(Ie)&&(Ie=Ie(j)),sr(Ie)&&!Ie.indexOf("+=")&&(~Ie.indexOf(" ")?Ie=(sr(Ze)?Ze.split(" ")[0]:"")+Ie:(Xe=Yh(Ie.substr(2),Q),Ie=sr(Ze)?Ze:(O?ie.utils.mapRange(0,O.duration(),O.scrollTrigger.start,O.scrollTrigger.end,je):je)+Xe,Ht=_)),Ie=Ow(Ie,"end",j),ot=Math.max(je,$w(Ie||(Ht?"100% 0":tt),Ht,Q,B,be()+Xe,un,Vt,j,Te,Z,de,tt,O,j._endClamp&&"_endClamp"))||-.001,Xe=0,At=Tr;At--;)wt=Se[At]||{},Er=wt.pin,Er&&wt.start-wt._pinPush<=je&&!O&&wt.end>0&&(Mt=wt.end-(j._startClamp?Math.max(0,wt.start):wt.start),(Er===_&&wt.start-wt._pinPush<je||Er===wn)&&isNaN(Ze)&&(Xe+=Mt*(1-wt.progress)),Er===v&&(Ue+=Mt));if(je+=Xe,ot+=Xe,j._startClamp&&(j._startClamp+=Xe),j._endClamp&&!Pn&&(j._endClamp=ot||-.001,ot=Math.min(ot,xi($,B))),He=ot-je||(je-=.01)&&.001,Ot&&(se=ie.utils.clamp(0,1,ie.utils.normalize(je,ot,er))),j._pinPush=Ue,Qt&&Xe&&(Mt={},Mt[B.a]="+="+Xe,wn&&(Mt[B.p]="-="+be()),ie.set([Qt,un],Mt)),v&&!(Pg&&j.end>=xi($,B)))Mt=Mr(v),Ri=B===Ft,Ni=be(),In=parseFloat(et(B.a))+Ue,!tt&&ot>1&&(cn=(Y?Ye.scrollingElement||ar:$).style,cn={style:cn,value:cn["overflow"+B.a.toUpperCase()]},Y&&Mr(De)["overflow"+B.a.toUpperCase()]!=="scroll"&&(cn.style["overflow"+B.a.toUpperCase()]="scroll")),Hp(v,Tt,Mt),Ci=Eh(v),It=Zi(v,!0),El=de&&Ks($,Ri?Ln:Ft)(),k?(pt=[k+B.os2,He+Ue+Dt],pt.t=Tt,At=k===jt?Bd(v,B)+He+Ue:0,At&&(pt.push(B.d,At+Dt),Tt.style.flexBasis!=="auto"&&(Tt.style.flexBasis=At+Dt)),rl(pt),wn&&Se.forEach(function(Fn){Fn.pin===wn&&Fn.vars.pinSpacing!==!1&&(Fn._subPinOffset=!0)}),de&&be(er)):(At=Bd(v,B),At&&Tt.style.flexBasis!=="auto"&&(Tt.style.flexBasis=At+Dt)),de&&(Zt={top:It.top+(Ri?Ni-je:El)+Dt,left:It.left+(Ri?El:Ni-je)+Dt,boxSizing:"border-box",position:"fixed"},Zt[Fo]=Zt["max"+_l]=Math.ceil(It.width)+Dt,Zt[Uo]=Zt["max"+u_]=Math.ceil(It.height)+Dt,Zt[Ar]=Zt[Ar+ju]=Zt[Ar+Cu]=Zt[Ar+Lu]=Zt[Ar+Pu]="0",Zt[jt]=Mt[jt],Zt[jt+ju]=Mt[jt+ju],Zt[jt+Cu]=Mt[jt+Cu],Zt[jt+Lu]=Mt[jt+Lu],Zt[jt+Pu]=Mt[jt+Pu],Hr=L4(br,Zt,P),Pn&&be(0)),i?(Ec=i._initted,Fp(1),i.render(i.duration(),!0,!0),Sr=et(B.a)-In+He+Ue,Qn=Math.abs(He-Sr)>1,de&&Qn&&Hr.splice(Hr.length-2,2),i.render(0,!0,!0),Ec||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Fp(0)):Sr=He,cn&&(cn.value?cn.style["overflow"+B.a.toUpperCase()]=cn.value:cn.style.removeProperty("overflow-"+B.a));else if(_&&be()&&!O)for(It=_.parentNode;It&&It!==De;)It._pinOffset&&(je-=It._pinOffset,ot-=It._pinOffset),It=It.parentNode;Oi&&Oi.forEach(function(Fn){return Fn.revert(!1,!0)}),j.start=je,j.end=ot,Rt=yt=Pn?er:be(),!O&&!Pn&&(Rt<er&&be(er),j.scroll.rec=0),j.revert(!1,!0),le=pn(),Bn&&(K=-1,Bn.restart(!0)),fn=0,i&&W&&(i._initted||Li)&&i.progress()!==Li&&i.progress(Li||0,!0).render(i.time(),!0,!0),(Ot||se!==j.progress||O||w||i&&!i._initted)&&(i&&!W&&(i._initted||se||i.vars.immediateRender!==!1)&&i.totalProgress(O&&je<-.001&&!se?ie.utils.normalize(je,ot,0):se,!0),j.progress=Ot||(Rt-je)/He===se?0:se),v&&k&&(Tt._pinOffset=Math.round(j.progress*Sr)),ke&&ke.invalidate(),isNaN(hs)||(hs-=ie.getProperty(U,B.p),so-=ie.getProperty(Vt,B.p),Ch(U,B,hs),Ch(Qt,B,hs-(ce||0)),Ch(Vt,B,so),Ch(un,B,so-(ce||0))),Ot&&!Pn&&j.update(),p&&!Pn&&!Vr&&(Vr=!0,p(j),Vr=!1)}},j.getVelocity=function(){return(be()-yt)/(pn()-ru)*1e3||0},j.endAnimation=function(){Yl(j.callbackAnimation),i&&(ke?ke.progress(1):i.paused()?W||Yl(i,j.direction<0,1):Yl(i,i.reversed()))},j.labelToScroll=function(J){return i&&i.labels&&(je||j.refresh()||je)+i.labels[J]/i.duration()*He||0},j.getTrailing=function(J){var ve=Se.indexOf(j),ue=j.direction>0?Se.slice(0,ve).reverse():Se.slice(ve+1);return(sr(J)?ue.filter(function(ce){return ce.vars.preventOverlaps===J}):ue).filter(function(ce){return j.direction>0?ce.end<=je:ce.start>=ot})},j.update=function(J,ve,ue){if(!(O&&!ue&&!J)){var ce=Pn===!0?er:j.scroll(),Q=J?0:(ce-je)/He,Te=Q<0?0:Q>1?1:Q||0,tt=j.progress,Ot,Xe,Ue,Ie,Ht,Ze,wn,Tr;if(ve&&(yt=Rt,Rt=O?be():ce,E&&(ji=zn,zn=i&&!W?i.totalProgress():Te)),C&&v&&!fn&&!wh&&Fr&&(!Te&&je<ce+(ce-yt)/(pn()-ru)*C?Te=1e-4:Te===1&&ot>ce+(ce-yt)/(pn()-ru)*C&&(Te=.9999)),Te!==tt&&j.enabled){if(Ot=j.isActive=!!Te&&Te<1,Xe=!!tt&&tt<1,Ze=Ot!==Xe,Ht=Ze||!!Te!=!!tt,j.direction=Te>tt?1:-1,j.progress=Te,Ht&&!fn&&(Ue=Te&&!tt?0:Te===1?1:tt===1?2:3,W&&(Ie=!Ze&&ee[Ue+1]!=="none"&&ee[Ue+1]||ee[Ue],Tr=i&&(Ie==="complete"||Ie==="reset"||Ie in i))),D&&(Ze||Tr)&&(Tr||m||!i)&&(vn(D)?D(j):j.getTrailing(D).forEach(function(Ni){return Ni.endAnimation()})),W||(ke&&!fn&&!wh?(ke._dp._time-ke._start!==ke._time&&ke.render(ke._dp._time-ke._start),ke.resetTo?ke.resetTo("totalProgress",Te,i._tTime/i._tDur):(ke.vars.totalProgress=Te,ke.invalidate().restart())):i&&i.totalProgress(Te,!!(fn&&(le||J)))),v){if(J&&k&&(Tt.style[k+B.os2]=ls),!de)Mn(su(In+Sr*Te));else if(Ht){if(wn=!J&&Te>tt&&ot+1>ce&&ce+1>=xi($,B),P)if(!J&&(Ot||wn)){var At=Zi(v,!0),Mt=ce-je;Ww(v,De,At.top+(B===Ft?Mt:0)+Dt,At.left+(B===Ft?0:Mt)+Dt)}else Ww(v,Tt);rl(Ot||wn?Hr:Ci),Qn&&Te<1&&Ot||Mn(In+(Te===1&&!wn?Sr:0))}}E&&!$e.tween&&!fn&&!wh&&Bn.restart(!0),u&&(Ze||x&&Te&&(Te<1||!Up))&&hc(u.targets).forEach(function(Ni){return Ni.classList[Ot||x?"add":"remove"](u.className)}),a&&!W&&!J&&a(j),Ht&&!fn?(W&&(Tr&&(Ie==="complete"?i.pause().totalProgress(1):Ie==="reset"?i.restart(!0).pause():Ie==="restart"?i.restart(!0):i[Ie]()),a&&a(j)),(Ze||!Up)&&(d&&Ze&&Wp(j,d),G[Ue]&&Wp(j,G[Ue]),x&&(Te===1?j.kill(!1,1):G[Ue]=0),Ze||(Ue=Te===1?1:3,G[Ue]&&Wp(j,G[Ue]))),I&&!Ot&&Math.abs(j.getVelocity())>(ou(I)?I:2500)&&(Yl(j.callbackAnimation),ke?ke.progress(1):Yl(i,Ie==="reverse"?1:!Te,1))):W&&a&&!fn&&a(j)}if(Pi){var It=O?ce/O.duration()*(O._caScrollDist||0):ce;ro(It+(U._isFlipped?1:0)),Pi(It)}cs&&cs(-ce/O.duration()*(O._caScrollDist||0))}},j.enable=function(J,ve){j.enabled||(j.enabled=!0,Yt($,"resize",au),Y||Yt($,"scroll",ba),X&&Yt(t,"refreshInit",X),J!==!1&&(j.progress=se=0,Rt=yt=K=be()),ve!==!1&&j.refresh())},j.getTween=function(J){return J&&$e?$e.tween:ke},j.setPositions=function(J,ve,ue,ce){if(O){var Q=O.scrollTrigger,Te=O.duration(),tt=Q.end-Q.start;J=Q.start+tt*J/Te,ve=Q.start+tt*ve/Te}j.refresh(!1,!1,{start:Aw(J,ue&&!!j._startClamp),end:Aw(ve,ue&&!!j._endClamp)},ce),j.update()},j.adjustPinSpacing=function(J){if(pt&&J){var ve=pt.indexOf(B.d)+1;pt[ve]=parseFloat(pt[ve])+J+Dt,pt[1]=parseFloat(pt[1])+J+Dt,rl(pt)}},j.disable=function(J,ve){if(J!==!1&&j.revert(!0,!0),j.enabled&&(j.enabled=j.isActive=!1,ve||ke&&ke.pause(),er=0,_t&&(_t.uncache=1),X&&qt(t,"refreshInit",X),Bn&&(Bn.pause(),$e.tween&&$e.tween.kill()&&($e.tween=0)),!Y)){for(var ue=Se.length;ue--;)if(Se[ue].scroller===$&&Se[ue]!==j)return;qt($,"resize",au),Y||qt($,"scroll",ba)}},j.kill=function(J,ve){j.disable(J,ve),ke&&!ve&&ke.kill(),c&&delete jg[c];var ue=Se.indexOf(j);ue>=0&&Se.splice(ue,1),ue===Cn&&Xh>0&&Cn--,ue=0,Se.forEach(function(ce){return ce.scroller===j.scroller&&(ue=1)}),ue||Pn||(j.scroll.rec=0),i&&(i.scrollTrigger=null,J&&i.revert({kill:!1}),ve||i.kill()),Qt&&[Qt,un,U,Vt].forEach(function(ce){return ce.parentNode&&ce.parentNode.removeChild(ce)}),Nu===j&&(Nu=0),v&&(_t&&(_t.uncache=1),ue=0,Se.forEach(function(ce){return ce.pin===v&&ue++}),ue||(_t.spacer=0)),r.onKill&&r.onKill(j)},Se.push(j),j.enable(!1,!1),Zr&&Zr(j),i&&i.add&&!He){var Oe=j.update;j.update=function(){j.update=Oe,Pe.cache++,je||ot||j.refresh()},ie.delayedCall(.01,j.update),He=.01,je=ot=0}else j.refresh();v&&C4()},t.register=function(r){return Ea||(ie=r||LS(),jS()&&window.document&&t.enable(),Ea=iu),Ea},t.defaults=function(r){if(r)for(var i in r)Sh[i]=r[i];return Sh},t.disable=function(r,i){iu=0,Se.forEach(function(a){return a[i?"kill":"disable"](r)}),qt(Ce,"wheel",ba),qt(Ye,"scroll",ba),clearInterval(yh),qt(Ye,"touchcancel",gi),qt(De,"touchstart",gi),bh(qt,Ye,"pointerdown,touchstart,mousedown",Mw),bh(qt,Ye,"pointerup,touchend,mouseup",Iw),Dd.kill(),xh(qt);for(var o=0;o<Pe.length;o+=3)kh(qt,Pe[o],Pe[o+1]),kh(qt,Pe[o],Pe[o+2])},t.enable=function(){if(Ce=window,Ye=document,ar=Ye.documentElement,De=Ye.body,ie&&(hc=ie.utils.toArray,Tu=ie.utils.clamp,Cg=ie.core.context||gi,Fp=ie.core.suppressOverwrites||gi,s_=Ce.history.scrollRestoration||"auto",Lg=Ce.pageYOffset||0,ie.core.globals("ScrollTrigger",t),De)){iu=1,nl=document.createElement("div"),nl.style.height="100vh",nl.style.position="absolute",FS(),w4(),St.register(ie),t.isTouch=St.isTouch,_s=St.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Eg=St.isTouch===1,Yt(Ce,"wheel",ba),i_=[Ce,Ye,ar,De],ie.matchMedia?(t.matchMedia=function(d){var p=ie.matchMedia(),m;for(m in d)p.add(m,d[m]);return p},ie.addEventListener("matchMediaInit",function(){DS(),h_()}),ie.addEventListener("matchMediaRevert",function(){return zS()}),ie.addEventListener("matchMedia",function(){Ro(0,1),Ko("matchMedia")}),ie.matchMedia().add("(orientation: portrait)",function(){return Vp(),Vp})):console.warn("Requires GSAP 3.11.0 or later"),Vp(),Yt(Ye,"scroll",ba);var r=De.hasAttribute("style"),i=De.style,o=i.borderTopStyle,a=ie.core.Animation.prototype,u,c;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",u=Zi(De),Ft.m=Math.round(u.top+Ft.sc())||0,Ln.m=Math.round(u.left+Ln.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(De.setAttribute("style",""),De.removeAttribute("style")),yh=setInterval(Bw,250),ie.delayedCall(.5,function(){return wh=0}),Yt(Ye,"touchcancel",gi),Yt(De,"touchstart",gi),bh(Yt,Ye,"pointerdown,touchstart,mousedown",Mw),bh(Yt,Ye,"pointerup,touchend,mouseup",Iw),Tg=ie.utils.checkPrefix("transform"),Jh.push(Tg),Ea=pn(),Dd=ie.delayedCall(.2,Ro).pause(),Ca=[Ye,"visibilitychange",function(){var d=Ce.innerWidth,p=Ce.innerHeight;Ye.hidden?(Nw=d,Rw=p):(Nw!==d||Rw!==p)&&au()},Ye,"DOMContentLoaded",Ro,Ce,"load",Ro,Ce,"resize",au],xh(Yt),Se.forEach(function(d){return d.enable(0,1)}),c=0;c<Pe.length;c+=3)kh(qt,Pe[c],Pe[c+1]),kh(qt,Pe[c],Pe[c+2])}},t.config=function(r){"limitCallbacks"in r&&(Up=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(yh)||(yh=i)&&setInterval(Bw,i),"ignoreMobileResize"in r&&(Eg=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(xh(qt)||xh(Yt,r.autoRefreshEvents||"none"),ES=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var o=$n(r),a=Pe.indexOf(o),u=qo(o);~a&&Pe.splice(a,u?6:2),i&&(u?Si.unshift(Ce,i,De,i,ar,i):Si.unshift(o,i))},t.clearMatchMedia=function(r){Se.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,o){var a=(sr(r)?$n(r):r).getBoundingClientRect(),u=a[o?Fo:Uo]*i||0;return o?a.right-u>0&&a.left+u<Ce.innerWidth:a.bottom-u>0&&a.top+u<Ce.innerHeight},t.positionInViewport=function(r,i,o){sr(r)&&(r=$n(r));var a=r.getBoundingClientRect(),u=a[o?Fo:Uo],c=i==null?u/2:i in Fd?Fd[i]*u:~i.indexOf("%")?parseFloat(i)*u/100:parseFloat(i)||0;return o?(a.left+c)/Ce.innerWidth:(a.top+c)/Ce.innerHeight},t.killAll=function(r){if(Se.slice(0).forEach(function(o){return o.vars.id!=="ScrollSmoother"&&o.kill()}),r!==!0){var i=Yo.killAll||[];Yo={},i.forEach(function(o){return o()})}},t}();we.version="3.14.2";we.saveStyles=function(t){return t?hc(t).forEach(function(e){if(e&&e.style){var n=rr.indexOf(e);n>=0&&rr.splice(n,5),rr.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ie.core.getCache(e),Cg())}}):rr};we.revert=function(t,e){return h_(!t,e)};we.create=function(t,e){return new we(t,e)};we.refresh=function(t){return t?au(!0):(Ea||we.register())&&Ro(!0)};we.update=function(t){return++Pe.cache&&Ji(t===!0?2:0)};we.clearScrollMemory=BS;we.maxScroll=function(t,e){return xi(t,e?Ln:Ft)};we.getScrollFunc=function(t,e){return Ks($n(t),e?Ln:Ft)};we.getById=function(t){return jg[t]};we.getAll=function(){return Se.filter(function(t){return t.vars.id!=="ScrollSmoother"})};we.isScrolling=function(){return!!Fr};we.snapDirectional=c_;we.addEventListener=function(t,e){var n=Yo[t]||(Yo[t]=[]);~n.indexOf(e)||n.push(e)};we.removeEventListener=function(t,e){var n=Yo[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};we.batch=function(t,e){var n=[],r={},i=e.interval||.016,o=e.batchMax||1e9,a=function(d,p){var m=[],_=[],v=ie.delayedCall(i,function(){p(m,_),m=[],_=[]}).pause();return function(k){m.length||v.restart(!0),m.push(k.trigger),_.push(k),o<=m.length&&v.progress(1)}},u;for(u in e)r[u]=u.substr(0,2)==="on"&&vn(e[u])&&u!=="onRefreshInit"?a(u,e[u]):e[u];return vn(o)&&(o=o(),Yt(we,"refresh",function(){return o=e.batchMax()})),hc(t).forEach(function(c){var d={};for(u in r)d[u]=r[u];d.trigger=c,n.push(we.create(d))}),n};var Hw=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},Zp=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(St.isTouch?" pinch-zoom":""):"none",e===ar&&t(De,n)},Ph={auto:1,scroll:1},R4=function(e){var n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,a=o._gsap||ie.core.getCache(o),u=pn(),c;if(!a._isScrollT||u-a._isScrollT>2e3){for(;o&&o!==De&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!(Ph[(c=Mr(o)).overflowY]||Ph[c.overflowX]));)o=o.parentNode;a._isScroll=o&&o!==r&&!qo(o)&&(Ph[(c=Mr(o)).overflowY]||Ph[c.overflowX]),a._isScrollT=u}(a._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},$S=function(e,n,r,i){return St.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&R4,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Yt(Ye,St.eventTypes[0],Gw,!1,!0)},onDisable:function(){return qt(Ye,St.eventTypes[0],Gw,!0)}})},O4=/(input|label|select|textarea)/i,Zw,Gw=function(e){var n=O4.test(e.target.tagName);(n||Zw)&&(e._gsapAllow=!0,Zw=n)},A4=function(e){So(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,o=n.allowNestedScroll,a=n.onRelease,u,c,d=$n(e.target)||ar,p=ie.core.globals().ScrollSmoother,m=p&&p.get(),_=_s&&(e.content&&$n(e.content)||m&&e.content!==!1&&!m.smooth()&&m.content()),v=Ks(d,Ft),k=Ks(d,Ln),w=1,C=(St.isTouch&&Ce.visualViewport?Ce.visualViewport.scale*Ce.visualViewport.width:Ce.outerWidth)/Ce.innerWidth,S=0,b=vn(i)?function(){return i(u)}:function(){return i||2.8},x,E,P=$S(d,e.type,!0,o),N=function(){return E=!1},O=gi,I=gi,D=function(){c=xi(d,Ft),I=Tu(_s?1:0,c),r&&(O=Tu(0,xi(d,Ln))),x=$o},B=function(){_._gsap.y=su(parseFloat(_._gsap.y)+v.offset)+"px",_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(_._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},W=function(){if(E){requestAnimationFrame(N);var M=su(u.deltaY/2),Z=I(v.v-M);if(_&&Z!==v.v+v.offset){v.offset=Z-v.v;var j=su((parseFloat(_&&_._gsap.y)||0)-v.offset);_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+j+", 0, 1)",_._gsap.y=j+"px",v.cacheID=Pe.cache,Ji()}return!0}v.offset&&B(),E=!0},$,ne,Y,de,G=function(){D(),$.isActive()&&$.vars.scrollY>c&&(v()>c?$.progress(1)&&v(c):$.resetTo("scrollY",c))};return _&&ie.set(_,{y:"+=0"}),e.ignoreCheck=function(ee){return _s&&ee.type==="touchmove"&&W()||w>1.05&&ee.type!=="touchstart"||u.isGesturing||ee.touches&&ee.touches.length>1},e.onPress=function(){E=!1;var ee=w;w=su((Ce.visualViewport&&Ce.visualViewport.scale||1)/C),$.pause(),ee!==w&&Zp(d,w>1.01?!0:r?!1:"x"),ne=k(),Y=v(),D(),x=$o},e.onRelease=e.onGestureStart=function(ee,M){if(v.offset&&B(),!M)de.restart(!0);else{Pe.cache++;var Z=b(),j,X;r&&(j=k(),X=j+Z*.05*-ee.velocityX/.227,Z*=Hw(k,j,X,xi(d,Ln)),$.vars.scrollX=O(X)),j=v(),X=j+Z*.05*-ee.velocityY/.227,Z*=Hw(v,j,X,xi(d,Ft)),$.vars.scrollY=I(X),$.invalidate().duration(Z).play(.01),(_s&&$.vars.scrollY>=c||j>=c-1)&&ie.to({},{onUpdate:G,duration:Z})}a&&a(ee)},e.onWheel=function(){$._ts&&$.pause(),pn()-S>1e3&&(x=0,S=pn())},e.onChange=function(ee,M,Z,j,X){if($o!==x&&D(),M&&r&&k(O(j[2]===M?ne+(ee.startX-ee.x):k()+M-j[1])),Z){v.offset&&B();var ae=X[2]===Z,V=ae?Y+ee.startY-ee.y:v()+Z-X[1],K=I(V);ae&&V!==K&&(Y+=K-V),v(K)}(Z||M)&&Ji()},e.onEnable=function(){Zp(d,r?!1:"x"),we.addEventListener("refresh",G),Yt(Ce,"resize",G),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=k.smooth=!1),P.enable()},e.onDisable=function(){Zp(d,!0),qt(Ce,"resize",G),we.removeEventListener("refresh",G),P.kill()},e.lockAxis=e.lockAxis!==!1,u=new St(e),u.iOS=_s,_s&&!v()&&v(1),_s&&ie.ticker.add(gi),de=u._dc,$=ie.to(u,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:US(v,v(),function(){return $.pause()})},onUpdate:Ji,onComplete:de.vars.onComplete}),u};we.sort=function(t){if(vn(t))return Se.sort(t);var e=Ce.pageYOffset||0;return we.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+Ce.innerHeight}),Se.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};we.observe=function(t){return new St(t)};we.normalizeScroll=function(t){if(typeof t>"u")return Tn;if(t===!0&&Tn)return Tn.enable();if(t===!1){Tn&&Tn.kill(),Tn=t;return}var e=t instanceof St?t:A4(t);return Tn&&Tn.target===e.target&&Tn.kill(),qo(e.target)&&(Tn=e),e};we.core={_getVelocityProp:Sg,_inputObserver:$S,_scrollers:Pe,_proxies:Si,bridge:{ss:function(){Fr||Ko("scrollStart"),Fr=pn()},ref:function(){return fn}}};LS()&&ie.registerPlugin(we);/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let qw=typeof document<"u"?R.useLayoutEffect:R.useEffect,Yw=t=>t&&!Array.isArray(t)&&typeof t=="object",jh=[],M4={},WS=ge;const Tl=(t,e=jh)=>{let n=M4;Yw(t)?(n=t,t=null,e="dependencies"in n?n.dependencies:jh):Yw(e)&&(n=e,e="dependencies"in n?n.dependencies:jh),t&&typeof t!="function"&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:i}=n,o=R.useRef(!1),a=R.useRef(WS.context(()=>{},r)),u=R.useRef(d=>a.current.add(null,d)),c=e&&e.length&&!i;return c&&qw(()=>(o.current=!0,()=>a.current.revert()),jh),qw(()=>{if(t&&a.current.add(t,r),!c||!o.current)return()=>a.current.revert()},e),{context:a.current,contextSafe:u.current}};Tl.register=t=>{WS=t};Tl.headless=!0;var Kw=typeof window<"u"&&new class{constructor(){this.raf=t=>{requestAnimationFrame(this.raf);const e=t-this.now;this.now=t;for(let n=0;n<this.callbacks.length;n++)this.callbacks[n].callback(t,e)},this.callbacks=[],this.now=performance.now(),requestAnimationFrame(this.raf)}add(t,e=0){return this.callbacks.push({callback:t,priority:e}),this.callbacks.sort((n,r)=>n.priority-r.priority),()=>this.remove(t)}remove(t){this.callbacks=this.callbacks.filter(({callback:e})=>t!==e)}};function I4(t,e=0){R.useEffect(()=>{if(t)return Kw.add(t,e),()=>Kw.remove(t)},[t,e])}function VS(t,e,n){return Math.max(t,Math.min(e,n))}class z4{advance(e){var u;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,i=this.to,o=60*this.lerp,a=e,function(c,d,p){return(1-p)*c+p*d}(r,i,1-Math.exp(-o*a))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const c=VS(0,this.currentTime/this.duration,1);n=c>=1;const d=n?1:this.easing(c);this.value=this.from+(this.to-this.from)*d}var r,i,o,a;(u=this.onUpdate)==null||u.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:r=.1,duration:i=1,easing:o=c=>c,onStart:a,onUpdate:u}){this.from=this.value=e,this.to=n,this.lerp=r,this.duration=i,this.easing=o,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=u}}class D4{constructor({wrapper:e,content:n,autoResize:r=!0,debounce:i=250}={}){Di(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});Di(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});Di(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=n,r&&(this.debouncedResize=function(o,a){let u;return function(){let c=arguments,d=this;clearTimeout(u),u=setTimeout(function(){o.apply(d,c)},a)}}(this.resize,i),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,n;(e=this.wrapperResizeObserver)==null||e.disconnect(),(n=this.contentResizeObserver)==null||n.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class HS{constructor(){this.events={}}emit(e,...n){let r=this.events[e]||[];for(let i=0,o=r.length;i<o;i++)r[i](...n)}on(e,n){var r;return(r=this.events[e])!=null&&r.push(n)||(this.events[e]=[n]),()=>{var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(o=>n!==o)}}off(e,n){var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(i=>n!==i)}destroy(){this.events={}}}const Xw=100/6;class B4{constructor(e,{wheelMultiplier:n=1,touchMultiplier:r=1}){Di(this,"onTouchStart",e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});Di(this,"onTouchMove",e=>{const{clientX:n,clientY:r}=e.targetTouches?e.targetTouches[0]:e,i=-(n-this.touchStart.x)*this.touchMultiplier,o=-(r-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=r,this.lastDelta={x:i,y:o},this.emitter.emit("scroll",{deltaX:i,deltaY:o,event:e})});Di(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});Di(this,"onWheel",e=>{let{deltaX:n,deltaY:r,deltaMode:i}=e;n*=i===1?Xw:i===2?this.windowWidth:1,r*=i===1?Xw:i===2?this.windowHeight:1,n*=this.wheelMultiplier,r*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:r,event:e})});Di(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new HS,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class F4{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:r=e,eventsTarget:i=r,smoothWheel:o=!0,syncTouch:a=!1,syncTouchLerp:u=.075,touchInertiaMultiplier:c=35,duration:d,easing:p=x=>Math.min(1,1.001-Math.pow(2,-10*x)),lerp:m=!d&&.1,infinite:_=!1,orientation:v="vertical",gestureOrientation:k="vertical",touchMultiplier:w=1,wheelMultiplier:C=1,autoResize:S=!0,__experimental__naiveDimensions:b=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:x,deltaY:E,event:P})=>{if(P.ctrlKey)return;const N=P.type.includes("touch"),O=P.type.includes("wheel");if(this.options.syncTouch&&N&&P.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const I=x===0&&E===0,D=this.options.gestureOrientation==="vertical"&&E===0||this.options.gestureOrientation==="horizontal"&&x===0;if(I||D)return;let B=P.composedPath();if(B=B.slice(0,B.indexOf(this.rootElement)),B.find(Y=>{var de,G,ee,M,Z;return((de=Y.hasAttribute)===null||de===void 0?void 0:de.call(Y,"data-lenis-prevent"))||N&&((G=Y.hasAttribute)===null||G===void 0?void 0:G.call(Y,"data-lenis-prevent-touch"))||O&&((ee=Y.hasAttribute)===null||ee===void 0?void 0:ee.call(Y,"data-lenis-prevent-wheel"))||((M=Y.classList)===null||M===void 0?void 0:M.contains("lenis"))&&!(!((Z=Y.classList)===null||Z===void 0)&&Z.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void P.preventDefault();if(this.isSmooth=this.options.syncTouch&&N||this.options.smoothWheel&&O,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();P.preventDefault();let W=E;this.options.gestureOrientation==="both"?W=Math.abs(E)>Math.abs(x)?E:x:this.options.gestureOrientation==="horizontal"&&(W=x);const $=N&&this.options.syncTouch,ne=N&&P.type==="touchend"&&Math.abs(W)>5;ne&&(W=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+W,Object.assign({programmatic:!1},$?{lerp:ne?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const x=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-x),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:r,eventsTarget:i,smoothWheel:o,syncTouch:a,syncTouchLerp:u,touchInertiaMultiplier:c,duration:d,easing:p,lerp:m,infinite:_,gestureOrientation:k,orientation:v,touchMultiplier:w,wheelMultiplier:C,autoResize:S,__experimental__naiveDimensions:b},this.animate=new z4,this.emitter=new HS,this.dimensions=new D4({wrapper:e,content:n,autoResize:S}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=a||o,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new B4(i,{touchMultiplier:w,wheelMultiplier:C}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:r=!1,lock:i=!1,duration:o=this.options.duration,easing:a=this.options.easing,lerp:u=!o&&this.options.lerp,onComplete:c,force:d=!1,programmatic:p=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let m;if(typeof e=="string"?m=document.querySelector(e):e!=null&&e.nodeType&&(m=e),m){if(this.options.wrapper!==window){const v=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?v.left:v.top}const _=m.getBoundingClientRect();e=(this.isHorizontal?_.left:_.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?p&&(this.targetScroll=this.animatedScroll=this.scroll):e=VS(0,e,this.limit),r)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!p){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:o,easing:a,lerp:u,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(m,_)=>{this.isScrolling=!0,this.velocity=m-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=m,this.setScroll(this.scroll),p&&(this.targetScroll=m),_||this.emit(),_&&(this.reset(),this.emit(),c==null||c(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}function ZS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jw(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZS(t))&&(r&&(r+=" "),r+=e);return r}typeof window<"u"&&(window.reactLenisVersion="0.0.47");const U4=R.createContext(null),$4=t_(()=>({})),wf=R.forwardRef((t,e)=>{var{children:n,root:r=!1,options:i={},autoRaf:o=!0,rafPriority:a=0,className:u}=t,c=function(b,x){var E={};for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&x.indexOf(P)<0&&(E[P]=b[P]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var N=0;for(P=Object.getOwnPropertySymbols(b);N<P.length;N++)x.indexOf(P[N])<0&&Object.prototype.propertyIsEnumerable.call(b,P[N])&&(E[P[N]]=b[P[N]])}return E}(t,["children","root","options","autoRaf","rafPriority","className"]);const d=R.useRef(null),p=R.useRef(null),[m,_]=R.useState(void 0),v=R.useRef([]),k=R.useCallback((b,x)=>{v.current.push({callback:b,priority:x}),v.current.sort((E,P)=>E.priority-P.priority)},[]),w=R.useCallback(b=>{v.current=v.current.filter(x=>x.callback!==b)},[]);R.useImperativeHandle(e,()=>({wrapper:d.current,content:p.current,lenis:m}),[m]),R.useEffect(()=>{const b=new F4(Object.assign(Object.assign({},i),!r&&{wrapper:d.current,content:p.current}));return _(b),()=>{b.destroy(),_(void 0)}},[r,JSON.stringify(i)]),I4(b=>{o&&(m==null||m.raf(b))},a),R.useEffect(()=>{r&&m&&$4.setState({lenis:m,addCallback:k,removeCallback:w})},[r,m,k,w]);const C=R.useCallback(b=>{for(let x=0;x<v.current.length;x++)v.current[x].callback(b)},[]);R.useEffect(()=>(m==null||m.on("scroll",C),()=>{m==null||m.off("scroll",C)}),[m,C]);const S=R.useCallback(()=>{d.current&&(d.current.className=Jw(m==null?void 0:m.className,u))},[m,u]);return R.useEffect(()=>(S(),m==null||m.on("className change",S),()=>{m==null||m.off("className change",S)}),[m,S]),Ki.createElement(U4.Provider,{value:{lenis:m,addCallback:k,removeCallback:w}},r?n:Ki.createElement("div",Object.assign({ref:d,className:Jw(m==null?void 0:m.className,u)},c),Ki.createElement("div",{ref:p},n)))});ge.registerPlugin(we);function W4(){const t=R.useRef(null),e=R.useRef(null),n=R.useRef(null),r=R.useRef(null),i=R.useRef(null),o=R.useRef(null),a=R.useRef(null);return Tl(()=>{if(!t.current||!e.current||!n.current)return;const u=t.current,c=e.current,d=n.current,p=r.current,m=i.current,_=o.current,v=a.current;ge.set([c,d,p,m,_,v],{force3D:!0});const k=window.innerHeight,w=c.offsetHeight,C=d.offsetHeight,S=w-k,b=C-k,x=P=>P<.5?2*P*P:-1+(4-2*P)*P,E=(P,N,O)=>{if(P<N)return 0;if(P>O)return 1;const I=(P-N)/(O-N);return x(I)};we.create({trigger:u,start:"top top",end:"+=3000",pin:!0,pinSpacing:!0,scrub:.5,onUpdate:P=>{const N=P.progress;u.style&&u.style.setProperty("--progress",N.toString()),ge.set(c,{y:-N*S,overwrite:"auto"}),ge.set(d,{y:-N*b,overwrite:"auto"});const O=.25,I=.35,D=.65,B=.75;let W=0;N<O?W=0:N<I?W=E(N,O,I):N<D?W=1:N<B?W=1-E(N,D,B):W=0;const ne=`${300-250*W}%`;p&&ge.set(p,{maskSize:ne,webkitMaskSize:ne,overwrite:"auto"}),u&&u.style.setProperty("--hero-overlay-opacity",(W*.8).toString()),d&&ge.set(d,{filter:`saturate(${1-W})`,overwrite:"auto"});let Y=0;const de=.35,G=.4,ee=.6,M=.65;N<de?Y=0:N<G?Y=E(N,de,G):N<ee?Y=1:N<M?Y=1-E(N,ee,M):Y=0,m&&ge.set(m,{opacity:Y,overwrite:"auto"});let Z=0;N>.4&&N<.6&&(N<.45?Z=E(N,.4,.45):N>.55?Z=1-E(N,.55,.6):Z=1),_&&ge.set(_,{opacity:Z,overwrite:"auto"});let j=0;N>.45&&N<.6&&(N<.5?j=E(N,.45,.5):N>.55?j=1-E(N,.55,.6):j=1),v&&ge.set(v,{opacity:j,overwrite:"auto"})}})},{scope:t}),f.jsx(wf,{root:!0,options:{lerp:.1,duration:1.5,smoothTouch:!0},children:f.jsxs("main",{className:"landing-page-main",children:[f.jsx(Sc,{}),f.jsxs("section",{className:"hero",ref:t,children:[f.jsx("div",{className:"hero-image-wrapper",ref:n,children:f.jsx("img",{src:"/hero.jpg",alt:"Background",className:"hero-img"})}),f.jsx("div",{className:"hero-mask",ref:r}),f.jsx("div",{className:"hero-grid-overlay",ref:i,children:f.jsx("img",{src:"/grid.svg",alt:"Grid",className:"grid-img"})}),f.jsxs("div",{className:"marker marker-1",ref:o,children:[f.jsx("span",{className:"marker-icon"}),f.jsx("p",{className:"marker-label",children:"POTHOLE"})]}),f.jsxs("div",{className:"marker marker-2",ref:a,children:[f.jsx("span",{className:"marker-icon"}),f.jsx("p",{className:"marker-label",children:"DEBRIS"})]}),f.jsxs("div",{className:"hero-content",ref:e,children:[f.jsx("div",{className:"hero-content-block hero-center",children:f.jsxs("div",{className:"hero-content-copy",children:[f.jsxs("h1",{children:["ROAD",f.jsx("br",{}),"PATROL"]}),f.jsx("p",{className:"hero-tagline",children:"Report. Track. Resolve."})]})}),f.jsx("div",{className:"hero-content-block",children:f.jsxs("div",{className:"hero-content-copy",children:[f.jsx("h2",{children:"Report Issues"}),f.jsx("p",{children:"Spot potholes, debris, and hazards in your community. Capture photos and locations instantly."})]})}),f.jsx("div",{className:"hero-content-block",children:f.jsxs("div",{className:"hero-content-copy",children:[f.jsx("h2",{children:"Track Progress"}),f.jsx("p",{children:"Monitor issue status in real-time. See how your reports drive change in your neighborhood."})]})}),f.jsx("div",{className:"hero-content-block",children:f.jsxs("div",{className:"hero-content-copy",children:[f.jsx("h2",{children:"Make Impact"}),f.jsx("p",{children:"Join thousands of citizens making cities safer. Your voice matters in civic improvement."})]})})]})]})]})})}ge.registerPlugin(we);const vo=[{title:"Report road hazards instantly with photo, location, and detailed descriptions.",image:"https://images.unsplash.com/photo-1515162816999-a0c47dc192f7?q=80&w=2070&auto=format&fit=crop"},{title:"Track issue status in real-time on our interactive community map.",image:"https://images.unsplash.com/photo-1524813686514-a57563d77965?q=80&w=2669&auto=format&fit=crop"},{title:"Vote on community reports to prioritize the most critical issues.",image:"https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=2070&auto=format&fit=crop"},{title:"Connect directly with local authorities for faster resolution times.",image:"https://images.unsplash.com/photo-1577495508048-b635879837f1?q=80&w=2574&auto=format&fit=crop"},{title:"Build your civic reputation by actively contributing to your community.",image:"https://images.unsplash.com/photo-1559136555-9303baea8ebd?q=80&w=2070&auto=format&fit=crop"},{title:"Anonymous reporting keeps you safe while making a real difference.",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop"}];function V4(){const t=R.useRef(null),e=R.useRef(null),n=R.useRef(null),r=R.useRef(null),i=R.useRef(null),o=R.useRef(0);return Tl(()=>{if(!t.current||!e.current)return;const a=window.innerHeight*vo.length,u=e.current.children;ge.set(u[0],{opacity:1,scale:1});for(let p=1;p<u.length;p++)ge.set(u[p],{opacity:0,scale:1.1});const c=r.current.children;ge.set(c[0].querySelector(".feat-index"),{opacity:1}),ge.set(c[0].querySelector(".feat-marker"),{scaleX:1});const d=p=>{const m=u[p];ge.fromTo(m,{opacity:0,scale:1.1},{opacity:1,scale:1,duration:1,ease:"power2.out",overwrite:!0});for(let v=0;v<u.length;v++)v!==p&&ge.to(u[v],{opacity:0,duration:.5,ease:"power2.out"});const _=n.current.querySelector("h1");ge.to(_,{y:-20,opacity:0,duration:.3,onComplete:()=>{_.innerText=vo[p].title,ge.fromTo(_,{y:20,opacity:0},{y:0,opacity:1,duration:.5,ease:"power3.out"})}});for(let v=0;v<c.length;v++){const k=c[v].querySelector(".feat-marker"),w=c[v].querySelector(".feat-index");v===p?(ge.to(w,{opacity:1,duration:.3}),ge.to(k,{scaleX:1,duration:.3})):(ge.to(w,{opacity:.35,duration:.3}),ge.to(k,{scaleX:0,duration:.3}))}};we.create({trigger:t.current,start:"top top",end:`+=${a}`,scrub:1,pin:!0,pinSpacing:!0,onUpdate:p=>{i.current&&ge.set(i.current,{scaleY:p.progress});const m=Math.min(Math.floor(p.progress*vo.length),vo.length-1);o.current!==m&&(o.current=m,d(m))}})},{scope:t}),f.jsx(wf,{root:!0,options:{lerp:.1,duration:1.5,smoothTouch:!0},children:f.jsxs("main",{className:"features-page-main",children:[f.jsx(Sc,{showLogo:!1}),f.jsxs("section",{className:"feat-intro",children:[f.jsxs("h1",{children:["Powerful Features",f.jsx("br",{}),"Built for Communities"]}),f.jsx("p",{children:"Scroll to explore how Road Patrol empowers citizens to improve their neighborhoods."})]}),f.jsxs("section",{className:"feat-slider",ref:t,children:[f.jsx("div",{className:"feat-slider-images",ref:e,children:vo.map((a,u)=>f.jsx("img",{src:a.image,alt:`Feature ${u+1}`,style:{zIndex:u}},u))}),f.jsx("div",{className:"feat-slider-title",ref:n,children:f.jsx("h1",{children:vo[0].title})}),f.jsxs("div",{className:"feat-slider-indicator",children:[f.jsx("div",{className:"feat-slider-indices",ref:r,children:vo.map((a,u)=>f.jsxs("div",{className:"feat-indicator-item",children:[f.jsx("span",{className:"feat-marker"}),f.jsx("span",{className:"feat-index",children:(u+1).toString().padStart(2,"0")})]},u))}),f.jsx("div",{className:"feat-slider-progress-bar",children:f.jsx("div",{className:"feat-slider-progress",ref:i})})]})]}),f.jsxs("section",{className:"feat-outro",children:[f.jsxs("h1",{children:["Ready to make",f.jsx("br",{}),"your city better?"]}),f.jsx("a",{href:"/login",className:"feat-cta-btn",children:"Get Started"})]})]})})}ge.registerPlugin(we);const H4=[{value:"10K+",label:"Reports Filed"},{value:"500+",label:"Issues Resolved"},{value:"50+",label:"Cities Active"},{value:"98%",label:"User Satisfaction"}],Z4=[{name:"Community",role:"Reporting Issues"},{name:"Authorities",role:"Taking Action"},{name:"Technology",role:"Connecting Both"}];function G4(){const t=R.useRef(null),e=R.useRef(null),n=eo();return Tl(()=>{ge.from(".about-hero-title span",{y:100,opacity:0,duration:1,stagger:.1,ease:"power3.out"}),ge.from(".about-hero-subtitle",{y:30,opacity:0,duration:.8,delay:.5,ease:"power2.out"}),ge.from(".about-stat",{scrollTrigger:{trigger:".about-stats",start:"top 80%",toggleActions:"play none none reverse"},y:50,opacity:0,duration:.8,stagger:.15,ease:"power3.out"}),ge.from(".about-mission-content",{scrollTrigger:{trigger:".about-mission",start:"top 70%",toggleActions:"play none none reverse"},y:60,opacity:0,duration:1,ease:"power3.out"}),ge.from(".about-team-card",{scrollTrigger:{trigger:".about-team",start:"top 70%",toggleActions:"play none none reverse"},y:80,opacity:0,duration:.8,stagger:.2,ease:"power3.out"})},{scope:t}),f.jsx(wf,{root:!0,options:{lerp:.1,duration:1.5,smoothTouch:!0},children:f.jsxs("main",{className:"about-page-main",ref:t,children:[f.jsx(Sc,{showLogo:!1}),f.jsxs("section",{className:"about-hero",ref:e,children:[f.jsx("div",{className:"about-hero-bg"}),f.jsxs("div",{className:"about-hero-content",children:[f.jsxs("h1",{className:"about-hero-title",children:[f.jsx("span",{children:"Building"}),f.jsx("span",{children:"Safer"}),f.jsx("span",{children:"Cities"})]}),f.jsx("p",{className:"about-hero-subtitle",children:"Road Patrol empowers communities to identify, report, and resolve civic issues together."})]})]}),f.jsx("section",{className:"about-stats",children:f.jsx("div",{className:"about-stats-grid",children:H4.map((r,i)=>f.jsxs("div",{className:"about-stat",children:[f.jsx("span",{className:"about-stat-value",children:r.value}),f.jsx("span",{className:"about-stat-label",children:r.label})]},i))})}),f.jsx("section",{className:"about-mission",children:f.jsxs("div",{className:"about-mission-content",children:[f.jsx("h2",{children:"Our Mission"}),f.jsx("p",{children:"We believe that every citizen deserves safe roads and well-maintained public infrastructure. Road Patrol bridges the gap between communities and local authorities, making it easier than ever to report issues and track their resolution."}),f.jsx("p",{children:"Through real-time reporting, community voting, and transparent tracking, we're transforming how civic issues are handled  one pothole at a time."})]})}),f.jsxs("section",{className:"about-team",children:[f.jsx("h2",{children:"How It Works"}),f.jsx("div",{className:"about-team-grid",children:Z4.map((r,i)=>f.jsxs("div",{className:"about-team-card",children:[f.jsx("div",{className:"about-team-number",children:(i+1).toString().padStart(2,"0")}),f.jsx("h3",{children:r.name}),f.jsx("p",{children:r.role})]},i))})]}),f.jsxs("section",{className:"about-cta",children:[f.jsx("h2",{children:"Join the Movement"}),f.jsx("p",{children:"Start making a difference in your community today."}),f.jsx("button",{className:"about-cta-btn",onClick:()=>n("/login"),children:"Get Started"})]})]})})}const Qw=[{name:"Nithish",role:"Full Stack Developer",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=500&fit=crop"},{name:"Arun",role:"Backend Developer",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=500&fit=crop"},{name:"Karthik",role:"UI/UX Designer",image:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&h=500&fit=crop"},{name:"Vignesh",role:"Mobile Developer",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=500&fit=crop"}],q4=[{name:"React",desc:"UI Framework"},{name:"Supabase",desc:"Backend & Auth"},{name:"Leaflet",desc:"Interactive Maps"},{name:"GSAP",desc:"Animations"}];function Y4(){const t=R.useRef(null),e=R.useRef(null),[n,r]=R.useState(Qw[0].image);Tl(()=>{ge.from(".dev-team-link",{y:60,opacity:0,duration:.8,stagger:.1,delay:.3,ease:"power3.out"}),ge.from(".dev-preview-img img",{scale:1.2,opacity:0,duration:1,delay:.5,ease:"power2.out"}),ge.from(".dev-section-label",{y:20,opacity:0,duration:.6,delay:.2,ease:"power2.out"})},{scope:t});const i=o=>{if(o===n)return;const a=e.current;if(!a)return;const u=document.createElement("img");u.src=o,u.style.opacity="0",u.style.transform="scale(1.15) rotate(3deg)",a.appendChild(u),ge.to(u,{opacity:1,scale:1,rotation:0,duration:.6,ease:"power2.out"}),setTimeout(()=>{const c=a.querySelectorAll("img");c.length>2&&c[0].remove()},700),r(o)};return f.jsx(wf,{root:!0,options:{lerp:.1,duration:1.5,smoothTouch:!0},children:f.jsxs("main",{className:"dev-page-main",ref:t,children:[f.jsx(Sc,{showLogo:!1}),f.jsxs("section",{className:"dev-team-section",children:[f.jsxs("div",{className:"dev-team-content",children:[f.jsx("div",{className:"dev-team-left",children:f.jsx("div",{className:"dev-preview-img",ref:e,children:f.jsx("img",{src:n,alt:"Team member"})})}),f.jsxs("div",{className:"dev-team-right",children:[f.jsx("span",{className:"dev-section-label",children:"THE TEAM"}),f.jsx("div",{className:"dev-team-links",children:Qw.map((o,a)=>f.jsxs("div",{className:"dev-team-link",onMouseEnter:()=>i(o.image),children:[f.jsx("a",{href:"#",children:o.name}),f.jsx("span",{className:"dev-team-role",children:o.role})]},a))}),f.jsxs("div",{className:"dev-tech-list",children:[f.jsx("span",{className:"dev-section-label",children:"BUILT WITH"}),f.jsx("div",{className:"dev-tech-items",children:q4.map((o,a)=>f.jsx("span",{className:"dev-tech-item",children:o.name},a))})]})]})]}),f.jsxs("div",{className:"dev-footer",children:[f.jsx("div",{className:"dev-footer-left",children:f.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"dev-github-link",children:"View Source Code"})}),f.jsxs("div",{className:"dev-footer-right",children:[f.jsx("a",{href:"mailto:hello@roadpatrol.app",children:"Contact"}),f.jsx("a",{href:"#",children:"Documentation"})]})]})]})]})})}function GS(t,e){const n=R.useRef(e);R.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const K4=1;function X4(t){return Object.freeze({__version:K4,map:t})}function J4(t,e){return Object.freeze({...t,...e})}const qS=R.createContext(null),YS=qS.Provider;function d_(){const t=R.useContext(qS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Q4(t){function e(n,r){const{instance:i,context:o}=t(n).current;return R.useImperativeHandle(r,()=>i),n.children==null?null:Ki.createElement(YS,{value:o},n.children)}return R.forwardRef(e)}function eM(t){function e(n,r){const[i,o]=R.useState(!1),{instance:a}=t(n,o).current;R.useImperativeHandle(r,()=>a),R.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?gb.createPortal(n.children,u):null}return R.forwardRef(e)}function tM(t){function e(n,r){const{instance:i}=t(n).current;return R.useImperativeHandle(r,()=>i),null}return R.forwardRef(e)}function KS(t,e){const n=R.useRef();R.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function f_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function nM(t,e){return function(r,i){const o=d_(),a=t(f_(r,o),o);return GS(o.map,r.attribution),KS(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var Rg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(J2,function(n){var r="1.9.4";function i(s){var l,h,g,y;for(h=1,g=arguments.length;h<g;h++){y=arguments[h];for(l in y)s[l]=y[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var g=h.call(arguments,2);return function(){return s.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var u=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function d(s,l,h){var g,y,T,A;return A=function(){g=!1,y&&(T.apply(h,y),y=!1)},T=function(){g?y=arguments:(s.apply(h,arguments),setTimeout(A,l),g=!0)},T}function p(s,l,h){var g=l[1],y=l[0],T=g-y;return s===g&&h?s:((s-y)%T+T)%T+y}function m(){return!1}function _(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function v(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return v(s).split(/\s+/)}function w(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function C(s,l,h){var g=[];for(var y in s)g.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function b(s,l){return s.replace(S,function(h,g){var y=l[g];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var x=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function E(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var O=0;function I(s){var l=+new Date,h=Math.max(0,16-(l-O));return O=l+h,window.setTimeout(s,h)}var D=window.requestAnimationFrame||N("RequestAnimationFrame")||I,B=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function W(s,l,h){if(h&&D===I)s.call(l);else return D.call(window,a(s,l))}function $(s){s&&B.call(window,s)}var ne={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:c,throttle:d,wrapNum:p,falseFn:m,formatNum:_,trim:v,splitWords:k,setOptions:w,getParamString:C,template:b,isArray:x,indexOf:E,emptyImageUrl:P,requestFn:D,cancelFn:B,requestAnimFrame:W,cancelAnimFrame:$};function Y(){}Y.extend=function(s){var l=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=o(h);g.constructor=l,l.prototype=g;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&i(l,s.statics),s.includes&&(de(s.includes),i.apply(null,[g].concat(s.includes))),i(g,s),delete g.statics,delete g.includes,g.options&&(g.options=h.options?o(h.options):{},i(g.options,s.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,A=g._initHooks.length;T<A;T++)g._initHooks[T].call(this)}},l},Y.include=function(s){var l=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Y.mergeOptions=function(s){return i(this.prototype.options,s),this},Y.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function de(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=x(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l);else{s=k(s);for(var y=0,T=s.length;y<T;y++)this._on(s[y],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var g in s)this._off(g,s[g],l);else{s=k(s);for(var y=arguments.length===1,T=0,A=s.length;T<A;T++)y?this._off(s[T]):this._off(s[T],l,h)}return this},_on:function(s,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};g&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,h){var g,y,T;if(this._events&&(g=this._events[s],!!g)){if(arguments.length===1){if(this._firingCount)for(y=0,T=g.length;y<T;y++)g[y].fn=m;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var A=this._listens(s,l,h);if(A!==!1){var z=g[A];this._firingCount&&(z.fn=m,this._events[s]=g=g.slice()),g.splice(A,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var g=i({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var T=0,A=y.length;T<A;T++){var z=y[T],F=z.fn;z.once&&this.off(s,F,z.ctx),F.call(z.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(s,l,h,g){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(g=!!l,y=void 0,h=void 0);var T=this._events&&this._events[s];if(T&&T.length&&this._listens(s,y,h)!==!1)return!0;if(g){for(var A in this._eventParents)if(this._eventParents[A].listens(s,l,h,g))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var g=this._events[s]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var y=0,T=g.length;y<T;y++)if(g[y].fn===l&&g[y].ctx===h)return y;return!1},once:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l,!0);else{s=k(s);for(var y=0,T=s.length;y<T;y++)this._on(s[y],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ee=Y.extend(G);function M(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var Z=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(s){return this.clone()._add(j(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(j(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new M(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new M(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(s){s=j(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=j(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=j(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function j(s,l,h){return s instanceof M?s:x(s)?new M(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new M(s.x,s.y):new M(s,l,h)}function X(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}X.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof M||typeof s[0]=="number"||"x"in s)l=h=j(s);else if(s=ae(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof M?s=j(s):s=ae(s),s instanceof X?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=ae(s);var l=this.min,h=this.max,g=s.min,y=s.max,T=y.x>=l.x&&g.x<=h.x,A=y.y>=l.y&&g.y<=h.y;return T&&A},overlaps:function(s){s=ae(s);var l=this.min,h=this.max,g=s.min,y=s.max,T=y.x>l.x&&g.x<h.x,A=y.y>l.y&&g.y<h.y;return T&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*s,y=Math.abs(l.y-h.y)*s;return ae(j(l.x-g,l.y-y),j(h.x+g,h.y+y))},equals:function(s){return s?(s=ae(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ae(s,l){return!s||s instanceof X?s:new X(s,l)}function V(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}V.prototype={extend:function(s){var l=this._southWest,h=this._northEast,g,y;if(s instanceof le)g=s,y=s;else if(s instanceof V){if(g=s._southWest,y=s._northEast,!g||!y)return this}else return s?this.extend(se(s)||K(s)):this;return!l&&!h?(this._southWest=new le(g.lat,g.lng),this._northEast=new le(y.lat,y.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new V(new le(l.lat-g,l.lng-y),new le(h.lat+g,h.lng+y))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof le||"lat"in s?s=se(s):s=K(s);var l=this._southWest,h=this._northEast,g,y;return s instanceof V?(g=s.getSouthWest(),y=s.getNorthEast()):g=y=s,g.lat>=l.lat&&y.lat<=h.lat&&g.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=K(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),T=y.lat>=l.lat&&g.lat<=h.lat,A=y.lng>=l.lng&&g.lng<=h.lng;return T&&A},overlaps:function(s){s=K(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),T=y.lat>l.lat&&g.lat<h.lat,A=y.lng>l.lng&&g.lng<h.lng;return T&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=K(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(s,l){return s instanceof V?s:new V(s,l)}function le(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}le.prototype={equals:function(s,l){if(!s)return!1;s=se(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+_(this.lat,s)+", "+_(this.lng,s)+")"},distanceTo:function(s){return $e.distance(this,se(s))},wrap:function(){return $e.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return K([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function se(s,l,h){return s instanceof le?s:x(s)&&typeof s[0]!="object"?s.length===3?new le(s[0],s[1],s[2]):s.length===2?new le(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new le(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new le(s,l,h)}var be={latLngToPoint:function(s,l){var h=this.projection.project(s),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(s,l){var h=this.scale(l),g=this.transformation.untransform(s,h);return this.projection.unproject(g)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),g=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new X(g,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,g=s.alt;return new le(h,l,g)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,y=l.lng-h.lng;if(g===0&&y===0)return s;var T=s.getSouthWest(),A=s.getNorthEast(),z=new le(T.lat-g,T.lng-y),F=new le(A.lat-g,A.lng-y);return new V(z,F)}},$e=i({},be,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,g=s.lat*h,y=l.lat*h,T=Math.sin((l.lat-s.lat)*h/2),A=Math.sin((l.lng-s.lng)*h/2),z=T*T+Math.cos(g)*Math.cos(y)*A*A,F=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*F}}),_t=6378137,xr={R:_t,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,s.lat),-h),y=Math.sin(g*l);return new M(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new le((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=_t*Math.PI;return new X([-s,-s],[s,s])}()};function Rt(s,l,h,g){if(x(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=g}Rt.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new M((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function yt(s,l,h,g){return new Rt(s,l,h,g)}var je=i({},$e,{code:"EPSG:3857",projection:xr,transformation:function(){var s=.5/(Math.PI*xr.R);return yt(s,.5,-s,.5)}()}),ot=i({},je,{code:"EPSG:900913"});function Qt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function un(s,l){var h="",g,y,T,A,z,F;for(g=0,T=s.length;g<T;g++){for(z=s[g],y=0,A=z.length;y<A;y++)F=z[y],h+=(y?"L":"M")+F.x+" "+F.y;h+=l?Q.svg?"z":"x":""}return h||"M0 0"}var U=document.documentElement.style,Vt="ActiveXObject"in window,Wr=Vt&&!document.addEventListener,Vr="msLaunchUri"in navigator&&!("documentMode"in document),He=ce("webkit"),br=ce("android"),Hr=ce("android 2")||ce("android 3"),Ci=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tt=br&&ce("Google")&&Ci<537&&!("AudioNode"in window),kr=!!window.opera,et=!Vr&&ce("chrome"),Mn=ce("gecko")&&!He&&!kr&&!Vt,In=!et&&ce("safari"),Sr=ce("phantom"),ls="OTransition"in U,pt=navigator.platform.indexOf("Win")===0,ro=Vt&&"transition"in U,Qn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hr,Pi="MozPerspective"in U,us=!window.L_DISABLE_3D&&(ro||Qn||Pi)&&!ls&&!Sr,zn=typeof orientation<"u"||ce("mobile"),ji=zn&&He,ke=zn&&Qn,ui=!window.PointerEvent&&window.MSPointerEvent,Dn=!!(window.PointerEvent||ui),Bn="ontouchstart"in window||!!window.TouchEvent,er=!window.L_NO_TOUCH&&(Bn||Dn),Li=zn&&kr,cs=zn&&Mn,Zr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,io=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return s}(),_e=function(){return!!document.createElement("canvas").getContext}(),he=!!(document.createElementNS&&Qt("svg").createSVGRect),Oe=!!he&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),J=!he&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ve=navigator.platform.indexOf("Mac")===0,ue=navigator.platform.indexOf("Linux")===0;function ce(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Q={ie:Vt,ielt9:Wr,edge:Vr,webkit:He,android:br,android23:Hr,androidStock:Tt,opera:kr,chrome:et,gecko:Mn,safari:In,phantom:Sr,opera12:ls,win:pt,ie3d:ro,webkit3d:Qn,gecko3d:Pi,any3d:us,mobile:zn,mobileWebkit:ji,mobileWebkit3d:ke,msPointer:ui,pointer:Dn,touch:er,touchNative:Bn,mobileOpera:Li,mobileGecko:cs,retina:Zr,passiveEvents:io,canvas:_e,svg:he,vml:J,inlineSvg:Oe,mac:ve,linux:ue},Te=Q.msPointer?"MSPointerDown":"pointerdown",tt=Q.msPointer?"MSPointerMove":"pointermove",Ot=Q.msPointer?"MSPointerUp":"pointerup",Xe=Q.msPointer?"MSPointerCancel":"pointercancel",Ue={touchstart:Te,touchmove:tt,touchend:Ot,touchcancel:Xe},Ie={touchstart:Zt,touchmove:Ri,touchend:Ri,touchcancel:Ri},Ht={},Ze=!1;function wn(s,l,h){return l==="touchstart"&&Ni(),Ie[l]?(h=Ie[l].bind(this,h),s.addEventListener(Ue[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function Tr(s,l,h){if(!Ue[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Ue[l],h,!1)}function At(s){Ht[s.pointerId]=s}function Mt(s){Ht[s.pointerId]&&(Ht[s.pointerId]=s)}function It(s){delete Ht[s.pointerId]}function Ni(){Ze||(document.addEventListener(Te,At,!0),document.addEventListener(tt,Mt,!0),document.addEventListener(Ot,It,!0),document.addEventListener(Xe,It,!0),Ze=!0)}function Ri(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ht)l.touches.push(Ht[h]);l.changedTouches=[l],s(l)}}function Zt(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&en(l),Ri(s,l)}function wt(s){var l={},h,g;for(g in s)h=s[g],l[g]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Er=200;function El(s,l){s.addEventListener("dblclick",l);var h=0,g;function y(T){if(T.detail!==1){g=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var A=y_(T);if(!(A.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!A.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var z=Date.now();z-h<=Er?(g++,g===2&&l(wt(T))):g=1,h=z}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Ec(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Oi=jc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cn=jc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),hs=cn==="webkitTransition"||cn==="OTransition"?cn+"End":"transitionend";function so(s){return typeof s=="string"?document.getElementById(s):s}function Fn(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(s,null);h=g?g[l]:null}return h==="auto"?null:h}function Me(s,l,h){var g=document.createElement(s);return g.className=l||"",h&&h.appendChild(g),g}function at(s){var l=s.parentNode;l&&l.removeChild(s)}function Cc(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ta(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function na(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function bf(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Pc(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function xe(s,l){if(s.classList!==void 0)for(var h=k(l),g=0,y=h.length;g<y;g++)s.classList.add(h[g]);else if(!bf(s,l)){var T=Pc(s);kf(s,(T?T+" ":"")+l)}}function xt(s,l){s.classList!==void 0?s.classList.remove(l):kf(s,v((" "+Pc(s)+" ").replace(" "+l+" "," ")))}function kf(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Pc(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Cr(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&e2(s,l)}function e2(s,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+g+"(opacity="+l+")"}function jc(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function oo(s,l,h){var g=l||new M(0,0);s.style[Oi]=(Q.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Et(s,l){s._leaflet_pos=l,Q.any3d?oo(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ao(s){return s._leaflet_pos||new M(0,0)}var Cl,Pl,Sf;if("onselectstart"in document)Cl=function(){ye(window,"selectstart",en)},Pl=function(){Ge(window,"selectstart",en)};else{var jl=jc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cl=function(){if(jl){var s=document.documentElement.style;Sf=s[jl],s[jl]="none"}},Pl=function(){jl&&(document.documentElement.style[jl]=Sf,Sf=void 0)}}function Tf(){ye(window,"dragstart",en)}function Ef(){Ge(window,"dragstart",en)}var Lc,Cf;function Pf(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Nc(),Lc=s,Cf=s.style.outlineStyle,s.style.outlineStyle="none",ye(window,"keydown",Nc))}function Nc(){Lc&&(Lc.style.outlineStyle=Cf,Lc=void 0,Cf=void 0,Ge(window,"keydown",Nc))}function v_(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function jf(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var t2={__proto__:null,TRANSFORM:Oi,TRANSITION:cn,TRANSITION_END:hs,get:so,getStyle:Fn,create:Me,remove:at,empty:Cc,toFront:ta,toBack:na,hasClass:bf,addClass:xe,removeClass:xt,setClass:kf,getClass:Pc,setOpacity:Cr,testProp:jc,setTransform:oo,setPosition:Et,getPosition:ao,get disableTextSelection(){return Cl},get enableTextSelection(){return Pl},disableImageDrag:Tf,enableImageDrag:Ef,preventOutline:Pf,restoreOutline:Nc,getSizedParentNode:v_,getScale:jf};function ye(s,l,h,g){if(l&&typeof l=="object")for(var y in l)Nf(s,y,l[y],h);else{l=k(l);for(var T=0,A=l.length;T<A;T++)Nf(s,l[T],h,g)}return this}var ci="_leaflet_events";function Ge(s,l,h,g){if(arguments.length===1)__(s),delete s[ci];else if(l&&typeof l=="object")for(var y in l)Rf(s,y,l[y],h);else if(l=k(l),arguments.length===2)__(s,function(z){return E(l,z)!==-1});else for(var T=0,A=l.length;T<A;T++)Rf(s,l[T],h,g);return this}function __(s,l){for(var h in s[ci]){var g=h.split(/\d/)[0];(!l||l(g))&&Rf(s,g,null,null,h)}}var Lf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Nf(s,l,h,g){var y=l+c(h)+(g?"_"+c(g):"");if(s[ci]&&s[ci][y])return this;var T=function(z){return h.call(g||s,z||window.event)},A=T;!Q.touchNative&&Q.pointer&&l.indexOf("touch")===0?T=wn(s,l,T):Q.touch&&l==="dblclick"?T=El(s,T):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Lf[l]||l,T,Q.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(z){z=z||window.event,Af(s,z)&&A(z)},s.addEventListener(Lf[l],T,!1)):s.addEventListener(l,A,!1):s.attachEvent("on"+l,T),s[ci]=s[ci]||{},s[ci][y]=T}function Rf(s,l,h,g,y){y=y||l+c(h)+(g?"_"+c(g):"");var T=s[ci]&&s[ci][y];if(!T)return this;!Q.touchNative&&Q.pointer&&l.indexOf("touch")===0?Tr(s,l,T):Q.touch&&l==="dblclick"?Ec(s,T):"removeEventListener"in s?s.removeEventListener(Lf[l]||l,T,!1):s.detachEvent("on"+l,T),s[ci][y]=null}function lo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Of(s){return Nf(s,"wheel",lo),this}function Ll(s){return ye(s,"mousedown touchstart dblclick contextmenu",lo),s._leaflet_disable_click=!0,this}function en(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function uo(s){return en(s),lo(s),this}function y_(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function w_(s,l){if(!l)return new M(s.clientX,s.clientY);var h=jf(l),g=h.boundingClientRect;return new M((s.clientX-g.left)/h.x-l.clientLeft,(s.clientY-g.top)/h.y-l.clientTop)}var n2=Q.linux&&Q.chrome?window.devicePixelRatio:Q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function x_(s){return Q.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/n2:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Af(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var r2={__proto__:null,on:ye,off:Ge,stopPropagation:lo,disableScrollPropagation:Of,disableClickPropagation:Ll,preventDefault:en,stop:uo,getPropagationPath:y_,getMousePosition:w_,getWheelDelta:x_,isExternalTarget:Af,addListener:ye,removeListener:Ge},b_=ee.extend({run:function(s,l,h,g){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=ao(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Et(this._el,h),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Re=ee.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=w(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(se(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cn&&Q.any3d&&!Q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,hs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(se(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=i({animate:h.animate},h.zoom),h.pan=i({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),T=s instanceof M?s:this.latLngToContainerPoint(s),A=T.subtract(y).multiplyBy(1-1/g),z=this.containerPointToLatLng(y.add(A));return this.setView(z,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():K(s);var h=j(l.paddingTopLeft||l.padding||[0,0]),g=j(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(g));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var T=g.subtract(h).divideBy(2),A=this.project(s.getSouthWest(),y),z=this.project(s.getNorthEast(),y),F=this.unproject(A.add(z).divideBy(2).add(T),y);return{center:F,zoom:y}},fitBounds:function(s,l){if(s=K(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=j(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new b_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!Q.any3d)return this.setView(s,l,h);this._stop();var g=this.project(this.getCenter()),y=this.project(s),T=this.getSize(),A=this._zoom;s=se(s),l=l===void 0?A:l;var z=Math.max(T.x,T.y),F=z*this.getZoomScale(A,l),H=y.distanceTo(g)||1,te=1.42,pe=te*te;function Ee(Ct){var Wc=Ct?-1:1,H2=Ct?F:z,Z2=F*F-z*z+Wc*pe*pe*H*H,G2=2*H2*pe*H,Hf=Z2/G2,n0=Math.sqrt(Hf*Hf+1)-Hf,q2=n0<1e-9?-18:Math.log(n0);return q2}function xn(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function Gt(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}function jr(Ct){return xn(Ct)/Gt(Ct)}var Un=Ee(0);function la(Ct){return z*(Gt(Un)/Gt(Un+te*Ct))}function U2(Ct){return z*(Gt(Un)*jr(Un+te*Ct)-xn(Un))/pe}function $2(Ct){return 1-Math.pow(1-Ct,1.5)}var W2=Date.now(),e0=(Ee(1)-Un)/te,V2=h.duration?1e3*h.duration:1e3*e0*.8;function t0(){var Ct=(Date.now()-W2)/V2,Wc=$2(Ct)*e0;Ct<=1?(this._flyToFrame=W(t0,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(U2(Wc)/H)),A),this.getScaleZoom(z/la(Wc),A),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),t0.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=K(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,K(s));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=j(l.paddingTopLeft||l.padding||[0,0]),g=j(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),T=this.project(s),A=this.getPixelBounds(),z=ae([A.min.add(h),A.max.subtract(g)]),F=z.getSize();if(!z.contains(T)){this._enforcingBounds=!0;var H=T.subtract(z.getCenter()),te=z.extend(T).getSize().subtract(F);y.x+=H.x<0?-te.x:te.x,y.y+=H.y<0?-te.y:te.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),y=h.divideBy(2).round(),T=g.subtract(y);return!T.x&&!T.y?this:(s.animate&&s.pan?this.panBy(T):(s.pan&&this._rawPanBy(T),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,g=new le(l,h),y=g.toBounds(s.coords.accuracy*2),T=this._locateOptions;if(T.setView){var A=this.getBoundsZoom(y);this.setView(g,T.maxZoom?Math.min(A,T.maxZoom):A)}var z={latlng:g,bounds:y,timestamp:s.timestamp};for(var F in s.coords)typeof s.coords[F]=="number"&&(z[F]=s.coords[F]);this.fire("locationfound",z)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)at(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),g=Me("div",h,l||this._mapPane);return s&&(this._panes[s]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new V(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=K(s),h=j(h||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),T=this.getMaxZoom(),A=s.getNorthWest(),z=s.getSouthEast(),F=this.getSize().subtract(h),H=ae(this.project(z,g),this.project(A,g)).getSize(),te=Q.any3d?this.options.zoomSnap:1,pe=F.x/H.x,Ee=F.y/H.y,xn=l?Math.max(pe,Ee):Math.min(pe,Ee);return g=this.getScaleZoom(xn,g),te&&(g=Math.round(g/(te/100))*(te/100),g=l?Math.ceil(g/te)*te:Math.floor(g/te)*te),Math.max(y,Math.min(T,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new X(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(s*h.scale(l));return isNaN(g)?1/0:g},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(se(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(j(s),l)},layerPointToLatLng:function(s){var l=j(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(se(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(se(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(K(s))},distance:function(s,l){return this.options.crs.distance(se(s),se(l))},containerPointToLayerPoint:function(s){return j(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return j(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(j(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(s)))},mouseEventToContainerPoint:function(s){return w_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=so(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Q.any3d,xe(s,"leaflet-container"+(Q.touch?" leaflet-touch":"")+(Q.retina?" leaflet-retina":"")+(Q.ielt9?" leaflet-oldie":"")+(Q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Fn(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(s.markerPane,"leaflet-zoom-hide"),xe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Et(this._mapPane,new M(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(s,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,g){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),g?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Et(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var l=s?Ge:ye;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Q.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],g,y=l==="mouseout"||l==="mouseover",T=s.target||s.srcElement,A=!1;T;){if(g=this._targets[c(T)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){A=!0;break}if(g&&g.listens(l,!0)&&(y&&!Af(T,s)||(h.push(g),y))||T===this._container)break;T=T.parentNode}return!h.length&&!A&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&Pf(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var g=i({},s);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var y=this._findEventTargets(s,l);if(h){for(var T=[],A=0;A<h.length;A++)h[A].listens(l,!0)&&T.push(h[A]);y=T.concat(y)}if(y.length){l==="contextmenu"&&en(s);var z=y[0],F={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var H=z.getLatLng&&(!z._radius||z._radius<=10);F.containerPoint=H?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(s),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=H?z.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(A=0;A<y.length;A++)if(y[A].fire(l,F,!0),F.originalEvent._stopped||y[A].options.bubblingMouseEvents===!1&&E(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ao(this._mapPane)||new M(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return ae([this.project(s.getSouthWest(),l)._subtract(g),this.project(s.getNorthWest(),l)._subtract(g),this.project(s.getSouthEast(),l)._subtract(g),this.project(s.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var g=this.project(s,l),y=this.getSize().divideBy(2),T=new X(g.subtract(y),g.add(y)),A=this._getBoundsOffset(T,h,l);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?s:this.unproject(g.add(A),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),g=new X(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(s,l,h){var g=ae(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=g.min.subtract(s.min),T=g.max.subtract(s.max),A=this._rebound(y.x,-T.x),z=this._rebound(y.y,-T.y);return new M(A,z)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),g=Q.any3d?this.options.zoomSnap:1;return g&&(s=Math.round(s/g)*g),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Oi,g=this._proxy.style[h];oo(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();oo(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(y)?!1:(W(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function i2(s,l){return new Re(s,l)}var Gr=Y.extend({options:{position:"topright"},initialize:function(s){w(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),g=s._controlCorners[h];return xe(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Nl=function(s){return new Gr(s)};Re.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Me("div",l+"control-container",this._container);function g(y,T){var A=l+y+" "+l+T;s[y+T]=Me("div",A,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)at(this._controlCorners[s]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var k_=Gr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(s,l,h){w(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in s)this._addLayer(s[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Gr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Me("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ll(l),Of(l);var g=this._section=Me("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ye(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Me("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),ye(y,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){en(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Me("div",s+"-base",g),this._separator=Me("div",s+"-separator",g),this._overlaysList=Me("div",s+"-overlays",g),l.appendChild(g)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cc(this._baseLayersList),Cc(this._overlaysList),this._layerControlInputs=[];var s,l,h,g,y=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,s=s||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(c(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),g;s.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(g),g.layerId=c(s.layer),ye(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(g),T.appendChild(y);var A=s.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,g=[],y=[];this._handlingClick=!0;for(var T=s.length-1;T>=0;T--)l=s[T],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||y.push(h);for(T=0;T<y.length;T++)this._map.hasLayer(y[T])&&this._map.removeLayer(y[T]);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])||this._map.addLayer(g[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,g=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ye(s,"click",en),this.expand();var l=this;setTimeout(function(){Ge(s,"click",en),l._preventClick=!1})}}),s2=function(s,l,h){return new k_(s,l,h)},Mf=Gr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Me("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,g,y){var T=Me("a",h,g);return T.innerHTML=s,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),Ll(T),ye(T,"click",uo),ye(T,"click",y,this),ye(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";xt(this._zoomInButton,l),xt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Re.mergeOptions({zoomControl:!0}),Re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mf,this.addControl(this.zoomControl))});var o2=function(s){return new Mf(s)},S_=Gr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Me("div",l),g=this.options;return this._addScales(g,l+"-line",h),s.on(g.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Me("div",l,h)),s.imperial&&(this._iScale=Me("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,g,y;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),a2=function(s){return new S_(s)},l2='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',If=Gr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Q.inlineSvg?l2+" ":"")+"Leaflet</a>"},initialize:function(s){w(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),Ll(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Re.mergeOptions({attributionControl:!0}),Re.addInitHook(function(){this.options.attributionControl&&new If().addTo(this)});var u2=function(s){return new If(s)};Gr.Layers=k_,Gr.Zoom=Mf,Gr.Scale=S_,Gr.Attribution=If,Nl.layers=s2,Nl.zoom=o2,Nl.scale=a2,Nl.attribution=u2;var hi=Y.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(s,l){return s.addHandler(l,this),this};var c2={Events:G},T_=Q.touch?"touchstart mousedown":"mousedown",ds=ee.extend({options:{clickTolerance:3},initialize:function(s,l,h,g){w(this,g),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(ye(this._dragStartTarget,T_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ds._dragging===this&&this.finishDrag(!0),Ge(this._dragStartTarget,T_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!bf(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ds._dragging===this&&this.finishDrag();return}if(!(ds._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ds._dragging=this,this._preventOutline&&Pf(this._element),Tf(),Cl(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=v_(this._element);this._startPoint=new M(l.clientX,l.clientY),this._startPos=ao(this._element),this._parentScale=jf(h);var g=s.type==="mousedown";ye(document,g?"mousemove":"touchmove",this._onMove,this),ye(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new M(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,en(s),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Et(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ge(document,"mousemove touchmove",this._onMove,this),Ge(document,"mouseup touchend touchcancel",this._onUp,this),Ef(),Pl();var l=this._moved&&this._moving;this._moving=!1,ds._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function E_(s,l,h){var g,y=[1,4,2,8],T,A,z,F,H,te,pe,Ee;for(T=0,te=s.length;T<te;T++)s[T]._code=co(s[T],l);for(z=0;z<4;z++){for(pe=y[z],g=[],T=0,te=s.length,A=te-1;T<te;A=T++)F=s[T],H=s[A],F._code&pe?H._code&pe||(Ee=Rc(H,F,pe,l,h),Ee._code=co(Ee,l),g.push(Ee)):(H._code&pe&&(Ee=Rc(H,F,pe,l,h),Ee._code=co(Ee,l),g.push(Ee)),g.push(F));s=g}return s}function C_(s,l){var h,g,y,T,A,z,F,H,te;if(!s||s.length===0)throw new Error("latlngs not passed");Pr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var pe=se([0,0]),Ee=K(s),xn=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());xn<1700&&(pe=zf(s));var Gt=s.length,jr=[];for(h=0;h<Gt;h++){var Un=se(s[h]);jr.push(l.project(se([Un.lat-pe.lat,Un.lng-pe.lng])))}for(z=F=H=0,h=0,g=Gt-1;h<Gt;g=h++)y=jr[h],T=jr[g],A=y.y*T.x-T.y*y.x,F+=(y.x+T.x)*A,H+=(y.y+T.y)*A,z+=A*3;z===0?te=jr[0]:te=[F/z,H/z];var la=l.unproject(j(te));return se([la.lat+pe.lat,la.lng+pe.lng])}function zf(s){for(var l=0,h=0,g=0,y=0;y<s.length;y++){var T=se(s[y]);l+=T.lat,h+=T.lng,g++}return se([l/g,h/g])}var h2={__proto__:null,clipPolygon:E_,polygonCenter:C_,centroid:zf};function P_(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=p2(s,h),s=f2(s,h),s}function j_(s,l,h){return Math.sqrt(Rl(s,l,h,!0))}function d2(s,l,h){return Rl(s,l,h)}function f2(s,l){var h=s.length,g=typeof Uint8Array<"u"?Uint8Array:Array,y=new g(h);y[0]=y[h-1]=1,Df(s,y,l,0,h-1);var T,A=[];for(T=0;T<h;T++)y[T]&&A.push(s[T]);return A}function Df(s,l,h,g,y){var T=0,A,z,F;for(z=g+1;z<=y-1;z++)F=Rl(s[z],s[g],s[y],!0),F>T&&(A=z,T=F);T>h&&(l[A]=1,Df(s,l,h,g,A),Df(s,l,h,A,y))}function p2(s,l){for(var h=[s[0]],g=1,y=0,T=s.length;g<T;g++)m2(s[g],s[y])>l&&(h.push(s[g]),y=g);return y<T-1&&h.push(s[T-1]),h}var L_;function N_(s,l,h,g,y){var T=g?L_:co(s,h),A=co(l,h),z,F,H;for(L_=A;;){if(!(T|A))return[s,l];if(T&A)return!1;z=T||A,F=Rc(s,l,z,h,y),H=co(F,h),z===T?(s=F,T=H):(l=F,A=H)}}function Rc(s,l,h,g,y){var T=l.x-s.x,A=l.y-s.y,z=g.min,F=g.max,H,te;return h&8?(H=s.x+T*(F.y-s.y)/A,te=F.y):h&4?(H=s.x+T*(z.y-s.y)/A,te=z.y):h&2?(H=F.x,te=s.y+A*(F.x-s.x)/T):h&1&&(H=z.x,te=s.y+A*(z.x-s.x)/T),new M(H,te,y)}function co(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function m2(s,l){var h=l.x-s.x,g=l.y-s.y;return h*h+g*g}function Rl(s,l,h,g){var y=l.x,T=l.y,A=h.x-y,z=h.y-T,F=A*A+z*z,H;return F>0&&(H=((s.x-y)*A+(s.y-T)*z)/F,H>1?(y=h.x,T=h.y):H>0&&(y+=A*H,T+=z*H)),A=s.x-y,z=s.y-T,g?A*A+z*z:new M(y,T)}function Pr(s){return!x(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function R_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pr(s)}function O_(s,l){var h,g,y,T,A,z,F,H;if(!s||s.length===0)throw new Error("latlngs not passed");Pr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var te=se([0,0]),pe=K(s),Ee=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());Ee<1700&&(te=zf(s));var xn=s.length,Gt=[];for(h=0;h<xn;h++){var jr=se(s[h]);Gt.push(l.project(se([jr.lat-te.lat,jr.lng-te.lng])))}for(h=0,g=0;h<xn-1;h++)g+=Gt[h].distanceTo(Gt[h+1])/2;if(g===0)H=Gt[0];else for(h=0,T=0;h<xn-1;h++)if(A=Gt[h],z=Gt[h+1],y=A.distanceTo(z),T+=y,T>g){F=(T-g)/y,H=[z.x-F*(z.x-A.x),z.y-F*(z.y-A.y)];break}var Un=l.unproject(j(H));return se([Un.lat+te.lat,Un.lng+te.lng])}var g2={__proto__:null,simplify:P_,pointToSegmentDistance:j_,closestPointOnSegment:d2,clipSegment:N_,_getEdgeIntersection:Rc,_getBitCode:co,_sqClosestPointOnSegment:Rl,isFlat:Pr,_flat:R_,polylineCenter:O_},Bf={project:function(s){return new M(s.lng,s.lat)},unproject:function(s){return new le(s.y,s.x)},bounds:new X([-180,-90],[180,90])},Ff={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,g=s.lat*l,y=this.R_MINOR/h,T=Math.sqrt(1-y*y),A=T*Math.sin(g),z=Math.tan(Math.PI/4-g/2)/Math.pow((1-A)/(1+A),T/2);return g=-h*Math.log(Math.max(z,1e-10)),new M(s.lng*l*h,g)},unproject:function(s){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,y=Math.sqrt(1-g*g),T=Math.exp(-s.y/h),A=Math.PI/2-2*Math.atan(T),z=0,F=.1,H;z<15&&Math.abs(F)>1e-7;z++)H=y*Math.sin(A),H=Math.pow((1-H)/(1+H),y/2),F=Math.PI/2-2*Math.atan(T*H)-A,A+=F;return new le(A*l,s.x*l/h)}},v2={__proto__:null,LonLat:Bf,Mercator:Ff,SphericalMercator:xr},_2=i({},$e,{code:"EPSG:3395",projection:Ff,transformation:function(){var s=.5/(Math.PI*Ff.R);return yt(s,.5,-s,.5)}()}),A_=i({},$e,{code:"EPSG:4326",projection:Bf,transformation:yt(1/180,1,-1/180,.5)}),y2=i({},be,{projection:Bf,transformation:yt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,g=l.lat-s.lat;return Math.sqrt(h*h+g*g)},infinite:!0});be.Earth=$e,be.EPSG3395=_2,be.EPSG3857=je,be.EPSG900913=ot,be.EPSG4326=A_,be.Simple=y2;var qr=ee.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Re.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=c(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?x(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=c(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ra=qr.extend({initialize:function(s,l){w(this,l),this._layers={};var h,g;if(s)for(h=0,g=s.length;h<g;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[s]&&g[s].apply(g,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),w2=function(s,l){return new ra(s,l)},Ai=ra.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ra.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ra.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new V;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),x2=function(s,l){return new Ai(s,l)},ia=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){w(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(s,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var y=j(g),T=j(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),T&&(s.style.marginLeft=-T.x+"px",s.style.marginTop=-T.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Q.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function b2(s){return new ia(s)}var Ol=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ol.imagePath!="string"&&(Ol.imagePath=this._detectIconPath()),(this.options.imagePath||Ol.imagePath)+ia.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,g,y){var T=g.exec(h);return T&&T[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Me("div","leaflet-default-icon-path",document.body),l=Fn(s,"background-image")||Fn(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),M_=hi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ds(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,T=ao(l._icon),A=h.getPixelBounds(),z=h.getPixelOrigin(),F=ae(A.min._subtract(z).add(y),A.max._subtract(z).subtract(y));if(!F.contains(T)){var H=j((Math.max(F.max.x,T.x)-F.max.x)/(A.max.x-F.max.x)-(Math.min(F.min.x,T.x)-F.min.x)/(A.min.x-F.min.x),(Math.max(F.max.y,T.y)-F.max.y)/(A.max.y-F.max.y)-(Math.min(F.min.y,T.y)-F.min.y)/(A.min.y-F.min.y)).multiplyBy(g);h.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),Et(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=W(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,g=ao(l._icon),y=l._map.layerPointToLatLng(g);h&&Et(h,g),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Oc=qr.extend({options:{icon:new Ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){w(this,l),this._latlng=se(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),xe(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(h,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),T=!1;y!==this._shadow&&(this._removeShadow(),T=!0),y&&(xe(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&T&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Et(this._icon,s),this._shadow&&Et(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),M_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new M_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Cr(this._icon,s),this._shadow&&Cr(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?j(l.iconSize):j(0,0),g=l.iconAnchor?j(l.iconAnchor):j(0,0);s.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function k2(s,l){return new Oc(s,l)}var fs=qr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return w(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ac=fs.extend({options:{fill:!0,radius:10},initialize:function(s,l){w(this,l),this._latlng=se(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=se(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return fs.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),g=[s+h,l+h];this._pxBounds=new X(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function S2(s,l){return new Ac(s,l)}var Uf=Ac.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=i({},h,{radius:l})),w(this,l),this._latlng=se(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:fs.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===$e.distance){var y=Math.PI/180,T=this._mRadius/$e.R/y,A=h.project([l+T,s]),z=h.project([l-T,s]),F=A.add(z).divideBy(2),H=h.unproject(F).lat,te=Math.acos((Math.cos(T*y)-Math.sin(l*y)*Math.sin(H*y))/(Math.cos(l*y)*Math.cos(H*y)))/y;(isNaN(te)||te===0)&&(te=T/Math.cos(Math.PI/180*l)),this._point=F.subtract(h.getPixelOrigin()),this._radius=isNaN(te)?0:F.x-h.project([H,s-te]).x,this._radiusY=F.y-A.y}else{var pe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(pe).x}this._updateBounds()}});function T2(s,l,h){return new Uf(s,l,h)}var Mi=fs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){w(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,g=Rl,y,T,A=0,z=this._parts.length;A<z;A++)for(var F=this._parts[A],H=1,te=F.length;H<te;H++){y=F[H-1],T=F[H];var pe=g(s,y,T,!0);pe<l&&(l=pe,h=g(s,y,T))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return O_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=se(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new V,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Pr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=Pr(s),g=0,y=s.length;g<y;g++)h?(l[g]=se(s[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(s[g]);return l},_project:function(){var s=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new M(s,s);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var g=s[0]instanceof le,y=s.length,T,A;if(g){for(A=[],T=0;T<y;T++)A[T]=this._map.latLngToLayerPoint(s[T]),h.extend(A[T]);l.push(A)}else for(T=0;T<y;T++)this._projectLatlngs(s[T],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,y,T,A,z,F;for(h=0,y=0,T=this._rings.length;h<T;h++)for(F=this._rings[h],g=0,A=F.length;g<A-1;g++)z=N_(F[g],F[g+1],s,g,!0),z&&(l[y]=l[y]||[],l[y].push(z[0]),(z[1]!==F[g+1]||g===A-2)&&(l[y].push(z[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,g=s.length;h<g;h++)s[h]=P_(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,g,y,T,A,z,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,T=this._parts.length;h<T;h++)for(z=this._parts[h],g=0,A=z.length,y=A-1;g<A;y=g++)if(!(!l&&g===0)&&j_(s,z[y],z[g])<=F)return!0;return!1}});function E2(s,l){return new Mi(s,l)}Mi._flat=R_;var sa=Mi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Mi.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof le&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Mi.prototype._setLatLngs.call(this,s),Pr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new M(l,l);if(s=new X(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,y=this._rings.length,T;g<y;g++)T=E_(this._rings[g],s,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,g,y,T,A,z,F,H;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(T=0,F=this._parts.length;T<F;T++)for(h=this._parts[T],A=0,H=h.length,z=H-1;A<H;z=A++)g=h[A],y=h[z],g.y>s.y!=y.y>s.y&&s.x<(y.x-g.x)*(s.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||Mi.prototype._containsPoint.call(this,s,!0)}});function C2(s,l){return new sa(s,l)}var Ii=Ai.extend({initialize:function(s,l){w(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=x(s)?s:s.features,h,g,y;if(l){for(h=0,g=l.length;h<g;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var T=this.options;if(T.filter&&!T.filter(s))return this;var A=Mc(s,T);return A?(A.feature=Dc(s),A.defaultOptions=A.options,this.resetStyle(A),T.onEachFeature&&T.onEachFeature(s,A),this.addLayer(A)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Mc(s,l){var h=s.type==="Feature"?s.geometry:s,g=h?h.coordinates:null,y=[],T=l&&l.pointToLayer,A=l&&l.coordsToLatLng||$f,z,F,H,te;if(!g&&!h)return null;switch(h.type){case"Point":return z=A(g),I_(T,s,z,l);case"MultiPoint":for(H=0,te=g.length;H<te;H++)z=A(g[H]),y.push(I_(T,s,z,l));return new Ai(y);case"LineString":case"MultiLineString":return F=Ic(g,h.type==="LineString"?0:1,A),new Mi(F,l);case"Polygon":case"MultiPolygon":return F=Ic(g,h.type==="Polygon"?1:2,A),new sa(F,l);case"GeometryCollection":for(H=0,te=h.geometries.length;H<te;H++){var pe=Mc({geometry:h.geometries[H],type:"Feature",properties:s.properties},l);pe&&y.push(pe)}return new Ai(y);case"FeatureCollection":for(H=0,te=h.features.length;H<te;H++){var Ee=Mc(h.features[H],l);Ee&&y.push(Ee)}return new Ai(y);default:throw new Error("Invalid GeoJSON object.")}}function I_(s,l,h,g){return s?s(l,h):new Oc(h,g&&g.markersInheritOptions&&g)}function $f(s){return new le(s[1],s[0],s[2])}function Ic(s,l,h){for(var g=[],y=0,T=s.length,A;y<T;y++)A=l?Ic(s[y],l-1,h):(h||$f)(s[y]),g.push(A);return g}function Wf(s,l){return s=se(s),s.alt!==void 0?[_(s.lng,l),_(s.lat,l),_(s.alt,l)]:[_(s.lng,l),_(s.lat,l)]}function zc(s,l,h,g){for(var y=[],T=0,A=s.length;T<A;T++)y.push(l?zc(s[T],Pr(s[T])?0:l-1,h,g):Wf(s[T],g));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function oa(s,l){return s.feature?i({},s.feature,{geometry:l}):Dc(l)}function Dc(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Vf={toGeoJSON:function(s){return oa(this,{type:"Point",coordinates:Wf(this.getLatLng(),s)})}};Oc.include(Vf),Uf.include(Vf),Ac.include(Vf),Mi.include({toGeoJSON:function(s){var l=!Pr(this._latlngs),h=zc(this._latlngs,l?1:0,!1,s);return oa(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),sa.include({toGeoJSON:function(s){var l=!Pr(this._latlngs),h=l&&!Pr(this._latlngs[0]),g=zc(this._latlngs,h?2:l?1:0,!0,s);return l||(g=[g]),oa(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),ra.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),oa(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var T=y.toGeoJSON(s);if(h)g.push(T.geometry);else{var A=Dc(T);A.type==="FeatureCollection"?g.push.apply(g,A.features):g.push(A)}}}),h?oa(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function z_(s,l){return new Ii(s,l)}var P2=z_,Bc=qr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=K(l),w(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ta(this._image),this},bringToBack:function(){return this._map&&na(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=K(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Me("img");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;oo(this._image,h,l)},_reset:function(){var s=this._image,l=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Et(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Cr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),j2=function(s,l,h){return new Bc(s,l,h)},D_=Bc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Me("video");if(xe(l,"leaflet-image-layer"),this._zoomAnimated&&xe(l,"leaflet-zoom-animated"),this.options.className&&xe(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),g=[],y=0;y<h.length;y++)g.push(h[y].src);this._url=h.length>0?g:[l.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var A=Me("source");A.src=this._url[T],l.appendChild(A)}}});function L2(s,l,h){return new D_(s,l,h)}var B_=Bc.extend({_initImage:function(){var s=this._image=this._url;xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function N2(s,l,h){return new B_(s,l,h)}var di=qr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof le||x(s))?(this._latlng=se(s),w(this,l)):(w(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Cr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Cr(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Cr(this._container,0),this._removeTimeout=setTimeout(a(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=se(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ta(this._container),this},bringToBack:function(){return this._map&&na(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Ai){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=j(this.options.offset),h=this._getAnchor();this._zoomAnimated?Et(this._container,s.add(h)):l=l.add(s).add(h);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Re.include({_initOverlay:function(s,l,h,g){var y=l;return y instanceof s||(y=new s(g).setContent(l)),h&&y.setLatLng(h),y}}),qr.include({_initOverlay:function(s,l,h,g){var y=h;return y instanceof s?(w(y,g),y._source=this):(y=l&&!g?l:new s(g,this),y.setContent(h)),y}});var Fc=di.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,di.prototype.openOn.call(this,s)},onAdd:function(s){di.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fs||this._source.on("preclick",lo))},onRemove:function(s){di.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fs||this._source.off("preclick",lo))},getEvents:function(){var s=di.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Me("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Me("div",s+"-content-wrapper",l);if(this._contentNode=Me("div",s+"-content",h),Ll(l),Of(this._contentNode),ye(l,"contextmenu",lo),this._tipContainer=Me("div",s+"-tip-container",l),this._tip=Me("div",s+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Me("a",s+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ye(g,"click",function(y){en(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=s.offsetHeight,y=this.options.maxHeight,T="leaflet-popup-scrolled";y&&g>y?(l.height=y+"px",xe(s,T)):xt(s,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Et(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Fn(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,y=new M(this._containerLeft,-h-this._containerBottom);y._add(ao(this._container));var T=s.layerPointToContainerPoint(y),A=j(this.options.autoPanPadding),z=j(this.options.autoPanPaddingTopLeft||A),F=j(this.options.autoPanPaddingBottomRight||A),H=s.getSize(),te=0,pe=0;T.x+g+F.x>H.x&&(te=T.x+g-H.x+F.x),T.x-te-z.x<0&&(te=T.x-z.x),T.y+h+F.y>H.y&&(pe=T.y+h-H.y+F.y),T.y-pe-z.y<0&&(pe=T.y-z.y),(te||pe)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([te,pe]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),R2=function(s,l){return new Fc(s,l)};Re.mergeOptions({closePopupOnClick:!0}),Re.include({openPopup:function(s,l,h){return this._initOverlay(Fc,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),qr.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Fc,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){uo(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof fs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Uc=di.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){di.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){di.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=di.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,g=this._map,y=this._container,T=g.latLngToContainerPoint(g.getCenter()),A=g.layerPointToContainerPoint(s),z=this.options.direction,F=y.offsetWidth,H=y.offsetHeight,te=j(this.options.offset),pe=this._getAnchor();z==="top"?(l=F/2,h=H):z==="bottom"?(l=F/2,h=0):z==="center"?(l=F/2,h=H/2):z==="right"?(l=0,h=H/2):z==="left"?(l=F,h=H/2):A.x<T.x?(z="right",l=0,h=H/2):(z="left",l=F+(te.x+pe.x)*2,h=H/2),s=s.subtract(j(l,h,!0)).add(te).add(pe),xt(y,"leaflet-tooltip-right"),xt(y,"leaflet-tooltip-left"),xt(y,"leaflet-tooltip-top"),xt(y,"leaflet-tooltip-bottom"),xe(y,"leaflet-tooltip-"+z),Et(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Cr(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),O2=function(s,l){return new Uc(s,l)};Re.include({openTooltip:function(s,l,h){return this._initOverlay(Uc,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),qr.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Uc,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(ye(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ye(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,g;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var F_=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Cc(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=j(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function A2(s){return new F_(s)}ia.Default=Ol;var Al=qr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){w(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),at(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ta(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(na(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof M?s:new M(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),g=0,y=l.length,T;g<y;g++)T=l[g].style.zIndex,l[g]!==this._container&&T&&(h=s(h,+T));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q.ielt9){Cr(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var g in this._tiles){var y=this._tiles[g];if(!(!y.current||!y.loaded)){var T=Math.min(1,(s-y.loaded)/200);Cr(y.el,T),T<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&($(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(at(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[s],y=this._map;return g||(g=this._levels[s]={},g.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),g.zoom=s,this._setZoomTransform(g,y.getCenter(),y.getZoom()),m(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)at(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,g){var y=Math.floor(s/2),T=Math.floor(l/2),A=h-1,z=new M(+y,+T);z.z=+A;var F=this._tileCoordsToKey(z),H=this._tiles[F];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),A>g?this._retainParent(y,T,A,g):!1)},_retainChildren:function(s,l,h,g){for(var y=2*s;y<2*s+2;y++)for(var T=2*l;T<2*l+2;T++){var A=new M(y,T);A.z=h+1;var z=this._tileCoordsToKey(A),F=this._tiles[z];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);h+1<g&&this._retainChildren(y,T,h+1,g)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,g){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var T=this.options.updateWhenZooming&&y!==this._tileZoom;(!g||T)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var g=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();Q.any3d?oo(s.el,y,g):Et(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),T=l.getSize().divideBy(g*2);return new X(y.subtract(T),y.add(T))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(g),T=y.getCenter(),A=[],z=this.options.keepBuffer,F=new X(y.getBottomLeft().subtract([z,-z]),y.getTopRight().add([z,-z]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var te=this._tiles[H].coords;(te.z!==this._tileZoom||!F.contains(new M(te.x,te.y)))&&(this._tiles[H].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var pe=y.min.y;pe<=y.max.y;pe++)for(var Ee=y.min.x;Ee<=y.max.x;Ee++){var xn=new M(Ee,pe);if(xn.z=this._tileZoom,!!this._isValidTile(xn)){var Gt=this._tiles[this._tileCoordsToKey(xn)];Gt?Gt.current=!0:A.push(xn)}}if(A.sort(function(Un,la){return Un.distanceTo(T)-la.distanceTo(T)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jr=document.createDocumentFragment();for(Ee=0;Ee<A.length;Ee++)this._addTile(A[Ee],jr);this._level.el.appendChild(jr)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(s);return K(this.options.bounds).overlaps(g)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),g=s.scaleBy(h),y=g.add(h),T=l.unproject(g,s.z),A=l.unproject(y,s.z);return[T,A]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new V(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new M(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(at(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xe(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=m,s.onmousemove=m,Q.ielt9&&this.options.opacity<1&&Cr(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),g=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&W(a(this._tileReady,this,s,null,y)),Et(y,h),this._tiles[g]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var g=this._tileCoordsToKey(s);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Cr(h.el,0),$(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(xe(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new M(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new X(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function M2(s){return new Al(s)}var aa=Al.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=w(this,l),l.detectRetina&&Q.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return ye(h,"load",a(this._tileOnLoad,this,l,h)),ye(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:Q.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return b(this._url,i(l,this.options))},_tileOnLoad:function(s,l){Q.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(s=l-s),s+g},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=m,l.onerror=m,!l.complete)){l.src=P;var h=this._tiles[s].coords;at(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",P),Al.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===P))return Al.prototype._tileReady.call(this,s,l,h)}});function U_(s,l){return new aa(s,l)}var $_=aa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=i({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=w(this,l);var y=l.detectRetina&&Q.retina?2:1,T=this.getTileSize();h.width=T.x*y,h.height=T.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,aa.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,g=ae(h.project(l[0]),h.project(l[1])),y=g.min,T=g.max,A=(this._wmsVersion>=1.3&&this._crs===A_?[y.y,y.x,T.y,T.x]:[y.x,y.y,T.x,T.y]).join(","),z=aa.prototype.getTileUrl.call(this,s);return z+C(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(s,l){return i(this.wmsParams,s),l||this.redraw(),this}});function I2(s,l){return new $_(s,l)}aa.WMS=$_,U_.wms=I2;var zi=qr.extend({options:{padding:.1},initialize:function(s){w(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),T=g.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(s,l));Q.any3d?oo(this._container,T,h):Et(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new X(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),W_=zi.extend({options:{tolerance:0},getEvents:function(){var s=zi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ye(s,"mousemove",this._onMouseMove,this),ye(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,at(this._container),Ge(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),g=Q.retina?2:1;Et(l,s.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Q.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],g,y;for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;h.push(g)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)s=g.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,g,y,T,A=s._parts,z=A.length,F=this._ctx;if(z){for(F.beginPath(),h=0;h<z;h++){for(g=0,y=A[h].length;g<y;g++)T=A[h][g],F[g?"lineTo":"moveTo"](T.x,T.y);l&&F.closePath()}this._fillStroke(F,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,g=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||g)/g;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,g,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(xt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(s),g&&(xe(this._container,"leaflet-interactive"),this._fireEvent([g],s,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function V_(s){return Q.canvas?new W_(s):null}var Ml=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),z2={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Ml("shape");xe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Ml("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;at(l),s.removeInteractiveTarget(l),delete this._layers[c(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,g=s.options,y=s._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=s._stroke=Ml("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=x(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),s._stroke=null),g.fill?(h||(h=s._fill=Ml("fill")),y.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),g=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){ta(s._container)},_bringToBack:function(s){na(s._container)}},$c=Q.vml?Ml:Qt,Il=zi.extend({_initContainer:function(){this._container=$c("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$c("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Ge(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Et(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=$c("path");s.options.className&&xe(l,s.options.className),s.options.interactive&&xe(l,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){at(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,un(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),g=Math.max(Math.round(s._radiusY),1)||h,y="a"+h+","+g+" 0 1,0 ",T=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(s,T)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){ta(s._path)},_bringToBack:function(s){na(s._path)}});Q.vml&&Il.include(z2);function H_(s){return Q.svg||Q.vml?new Il(s):null}Re.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&V_(s)||H_(s)}});var Z_=sa.extend({initialize:function(s,l){sa.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=K(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function D2(s,l){return new Z_(s,l)}Il.create=$c,Il.pointsToPath=un,Ii.geometryToLayer=Mc,Ii.coordsToLatLng=$f,Ii.coordsToLatLngs=Ic,Ii.latLngToCoords=Wf,Ii.latLngsToCoords=zc,Ii.getFeature=oa,Ii.asFeature=Dc,Re.mergeOptions({boxZoom:!0});var G_=hi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cl(),Tf(),this._startPoint=this._map.mouseEventToContainerPoint(s),ye(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new X(this._point,this._startPoint),h=l.getSize();Et(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(at(this._box),xt(this._container,"leaflet-crosshair")),Pl(),Ef(),Ge(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Re.addInitHook("addHandler","boxZoom",G_),Re.mergeOptions({doubleClickZoom:!0});var q_=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});Re.addInitHook("addHandler","doubleClickZoom",q_),Re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Y_=hi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ds(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=K(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+h)%s+l-h,T=(g+l+h)%s-l-h,A=Math.abs(y+h)<Math.abs(T+h)?y:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(s){var l=this._map,h=l.options,g=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,A=h.easeLinearity,z=y.multiplyBy(A/T),F=z.distanceTo([0,0]),H=Math.min(h.inertiaMaxSpeed,F),te=z.multiplyBy(H/F),pe=H/(h.inertiaDeceleration*A),Ee=te.multiplyBy(-pe/2).round();!Ee.x&&!Ee.y?l.fire("moveend"):(Ee=l._limitOffset(Ee,l.options.maxBounds),W(function(){l.panBy(Ee,{duration:pe,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Re.addInitHook("addHandler","dragging",Y_),Re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var K_=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ye(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ge(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,g=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,g,y;for(g=0,y=h.left.length;g<y;g++)l[h.left[g]]=[-1*s,0];for(g=0,y=h.right.length;g<y;g++)l[h.right[g]]=[s,0];for(g=0,y=h.down.length;g<y;g++)l[h.down[g]]=[0,s];for(g=0,y=h.up.length;g<y;g++)l[h.up[g]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,g,y;for(g=0,y=h.zoomIn.length;g<y;g++)l[h.zoomIn[g]]=s;for(g=0,y=h.zoomOut.length;g<y;g++)l[h.zoomOut[g]]=-s},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],s.shiftKey&&(g=j(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(j(g),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(y)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;uo(s)}}});Re.addInitHook("addHandler","keyboard",K_),Re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var X_=hi.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=x_(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),g),uo(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,T=h?Math.ceil(y/h)*h:y,A=s._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,A&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+A):s.setZoomAround(this._lastMousePos,l+A))}});Re.addInitHook("addHandler","scrollWheelZoom",X_);var B2=600;Re.mergeOptions({tapHold:Q.touchNative&&Q.safari&&Q.mobile,tapTolerance:15});var J_=hi.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new M(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",en),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),B2),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Ge(document,"touchend",en),Ge(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new M(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Re.addInitHook("addHandler","tapHold",J_),Re.mergeOptions({touchZoom:Q.touch,bounceAtZoomLimits:!0});var Q_=hi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),en(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var T=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(y===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var A=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(A,this,!0),en(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Re.addInitHook("addHandler","touchZoom",Q_),Re.BoxZoom=G_,Re.DoubleClickZoom=q_,Re.Drag=Y_,Re.Keyboard=K_,Re.ScrollWheelZoom=X_,Re.TapHold=J_,Re.TouchZoom=Q_,n.Bounds=X,n.Browser=Q,n.CRS=be,n.Canvas=W_,n.Circle=Uf,n.CircleMarker=Ac,n.Class=Y,n.Control=Gr,n.DivIcon=F_,n.DivOverlay=di,n.DomEvent=r2,n.DomUtil=t2,n.Draggable=ds,n.Evented=ee,n.FeatureGroup=Ai,n.GeoJSON=Ii,n.GridLayer=Al,n.Handler=hi,n.Icon=ia,n.ImageOverlay=Bc,n.LatLng=le,n.LatLngBounds=V,n.Layer=qr,n.LayerGroup=ra,n.LineUtil=g2,n.Map=Re,n.Marker=Oc,n.Mixin=c2,n.Path=fs,n.Point=M,n.PolyUtil=h2,n.Polygon=sa,n.Polyline=Mi,n.Popup=Fc,n.PosAnimation=b_,n.Projection=v2,n.Rectangle=Z_,n.Renderer=zi,n.SVG=Il,n.SVGOverlay=B_,n.TileLayer=aa,n.Tooltip=Uc,n.Transformation=Rt,n.Util=ne,n.VideoOverlay=D_,n.bind=a,n.bounds=ae,n.canvas=V_,n.circle=T2,n.circleMarker=S2,n.control=Nl,n.divIcon=A2,n.extend=i,n.featureGroup=x2,n.geoJSON=z_,n.geoJson=P2,n.gridLayer=M2,n.icon=b2,n.imageOverlay=j2,n.latLng=se,n.latLngBounds=K,n.layerGroup=w2,n.map=i2,n.marker=k2,n.point=j,n.polygon=C2,n.polyline=E2,n.popup=R2,n.rectangle=D2,n.setOptions=w,n.stamp=c,n.svg=H_,n.svgOverlay=N2,n.tileLayer=U_,n.tooltip=O2,n.transformation=yt,n.version=r,n.videoOverlay=L2;var F2=window.L;n.noConflict=function(){return window.L=F2,this},window.L=n})})(Rg,Rg.exports);var Tc=Rg.exports;const xf=Ag(Tc);function p_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function m_(t,e){return e==null?function(r,i){const o=R.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=R.useRef();o.current||(o.current=t(r,i));const a=R.useRef(r),{instance:u}=o.current;return R.useEffect(function(){a.current!==r&&(e(u,r,a.current),a.current=r)},[u,r,i]),o}}function rM(t,e){R.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function XS(t){return function(n){const r=d_(),i=t(f_(n,r),r);return GS(r.map,n.attribution),KS(i.current,n.eventHandlers),rM(i.current,r),i}}function iM(t,e){const n=m_(t,e),r=XS(n);return Q4(r)}function sM(t,e){const n=m_(t),r=nM(n,e);return eM(r)}function oM(t,e){const n=m_(t,e),r=XS(n);return tM(r)}function aM(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function JS(){return d_().map}function lM(t){const e=JS();return R.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function Og(){return Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function uM({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:u,whenReady:c,zoom:d,...p},m){const[_]=R.useState({className:i,id:o,style:u}),[v,k]=R.useState(null);R.useImperativeHandle(m,()=>(v==null?void 0:v.map)??null,[v]);const w=R.useCallback(S=>{if(S!==null&&v===null){const b=new Tc.Map(S,p);n!=null&&d!=null?b.setView(n,d):t!=null&&b.fitBounds(t,e),c!=null&&b.whenReady(c),k(X4(b))}},[]);R.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const C=v?Ki.createElement(YS,{value:v},r):a??null;return Ki.createElement("div",Og({},_,{ref:w}),C)}const cM=R.forwardRef(uM),Gp=iM(function({position:e,...n},r){const i=new Tc.Marker(e,n);return p_(i,J4(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),qp=sM(function(e,n){const r=new Tc.Popup(e,n.overlayContainer);return p_(r,n)},function(e,n,{position:r},i){R.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),i(!0))}function c(d){d.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:u,popupclose:c}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),hM=oM(function({url:e,...n},r){const i=new Tc.TileLayer(e,f_(n,r));return p_(i,r)},function(e,n,r){aM(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),ex=(t,e=8e3)=>Promise.race([t,new Promise((n,r)=>setTimeout(()=>r(new Error("Request timeout")),e))]),g_=t_((t,e)=>({reports:[],selectedReport:null,filters:{status:"all",category:"all",priority:"all"},votedReports:[],isLoading:!1,error:null,lastFetched:null,fetchReports:async(n={},r=!1)=>{const i=Date.now(),o=e().lastFetched,a=e().reports;if(!(!r&&o&&i-o<5e3&&Object.keys(n).length===0)){t({isLoading:!0,error:null});try{const u={...e().filters,...n,limit:100},c=await ex(vA(u),8e3);t({reports:c||[],isLoading:!1,lastFetched:i})}catch(u){console.error("Error fetching reports:",u),t({error:u.message,isLoading:!1,reports:a.length>0?a:[]})}}},fetchReportsInBounds:async n=>{try{const r=e().filters,i=await ex(_A(n,{status:r.status!=="all"?r.status:null,category:r.category!=="all"?r.category:null}),8e3);t({reports:i||[]})}catch(r){console.error("Error fetching reports in bounds:",r)}},setFilters:n=>{const r={...e().filters,...n};t({filters:r,lastFetched:null}),e().fetchReports(r)},resetFilters:()=>{const n={status:"all",category:"all",priority:"all"};t({filters:n}),e().fetchReports(n)},selectReport:n=>{t({selectedReport:n})},clearSelectedReport:()=>{t({selectedReport:null})},addReport:n=>{const r=[n,...e().reports];t({reports:r})},updateReport:n=>{var i;const r=e().reports.map(o=>o.id===n.id?n:o);t({reports:r}),((i=e().selectedReport)==null?void 0:i.id)===n.id&&t({selectedReport:n})},removeReport:n=>{var i;const r=e().reports.filter(o=>o.id!==n);t({reports:r}),((i=e().selectedReport)==null?void 0:i.id)===n&&t({selectedReport:null})},loadVotedReports:async()=>{try{const n=await EA();t({votedReports:n})}catch(n){console.error("Error loading voted reports:",n)}},addVotedReport:n=>{const r=[...e().votedReports,n];t({votedReports:r})},removeVotedReport:n=>{const r=e().votedReports.filter(i=>i!==n);t({votedReports:r})},isReportVoted:n=>e().votedReports.includes(n),subscribeToUpdates:()=>bA(n=>{const{eventType:r,new:i,old:o}=n;r==="INSERT"?(Dp(),e().addReport(i)):r==="UPDATE"?(xg(i.id),Dp(),e().updateReport(i)):r==="DELETE"&&(xg(o.id),Dp(),e().removeReport(o.id))})})),dM={lat:parseFloat("37.7749")||37.7749,lng:parseFloat("-122.4194")||-122.4194},fM=()=>new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation is not supported by your browser"));return}navigator.geolocation.getCurrentPosition(n=>{t({lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy,timestamp:n.timestamp})},n=>{let r;switch(n.code){case n.PERMISSION_DENIED:r="Location permission denied. Please enable location access.";break;case n.POSITION_UNAVAILABLE:r="Location information unavailable.";break;case n.TIMEOUT:r="Location request timed out.";break;default:r="An unknown error occurred while getting location."}e(new Error(r))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),pM=async(t,e)=>{try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${t}&lon=${e}&format=json&addressdetails=1`,{headers:{"User-Agent":"RoadPatrol/1.0"}});if(!n.ok)throw new Error("Geocoding request failed");const r=await n.json();if(r.error)throw new Error(r.error);const i=r.address,o=[];return i.house_number&&o.push(i.house_number),i.road&&o.push(i.road),i.suburb&&o.push(i.suburb),(i.city||i.town||i.village)&&o.push(i.city||i.town||i.village),i.state&&o.push(i.state),{displayName:r.display_name,formattedAddress:o.join(", ")||r.display_name,address:{road:i.road,suburb:i.suburb,city:i.city||i.town||i.village,state:i.state,postcode:i.postcode,country:i.country}}}catch(n){return console.error("Reverse geocoding error:",n),{displayName:`${t.toFixed(6)}, ${e.toFixed(6)}`,formattedAddress:`${t.toFixed(6)}, ${e.toFixed(6)}`,address:null}}},mM=()=>dM;delete xf.Icon.Default.prototype._getIconUrl;xf.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const tx=t=>{const e={low:"#22c55e",medium:"#f59e0b",high:"#f97316",urgent:"#ef4444"},n=e[t]||e.medium;return xf.divIcon({className:"custom-marker-wrapper",html:`
      <div class="custom-marker priority-${t}" style="
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(135deg, ${n}, ${n}dd);
        border: 3px solid white;
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
        display: flex;
        align-items: center;
        justify-content: center;
      ">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="white">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
        </svg>
      </div>
    `,iconSize:[36,36],iconAnchor:[18,36],popupAnchor:[0,-36]})},gM=xf.divIcon({className:"user-location-marker",html:`
    <div style="
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #3b82f6;
      border: 3px solid white;
      box-shadow: 0 0 0 8px rgba(59, 130, 246, 0.3), 0 4px 12px rgba(0,0,0,0.2);
    "></div>
  `,iconSize:[20,20],iconAnchor:[10,10]}),vM=({onMapClick:t,onBoundsChange:e})=>{const n=lM({click:r=>{t&&t(r.latlng)},moveend:()=>{if(e){const r=n.getBounds();e({north:r.getNorth(),south:r.getSouth(),east:r.getEast(),west:r.getWest()})}}});return null},_M=({location:t})=>{const e=JS();return R.useEffect(()=>{t&&e.flyTo([t.lat,t.lng],15,{duration:1.5})},[t,e]),null},QS=({onLocationSelect:t,selectionMode:e=!1,initialLocation:n=null})=>{const r=eo(),{reports:i,fetchReports:o,fetchReportsInBounds:a,selectReport:u}=g_(),[c,d]=R.useState(null),[p,m]=R.useState(n),_=R.useRef(null),v=mM(),k=parseInt("13")||13;R.useEffect(()=>{o({excludeResolved:!0}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>{d({lat:x.coords.latitude,lng:x.coords.longitude})},x=>{console.log("Geolocation error:",x.message)},{enableHighAccuracy:!0,timeout:1e4})},[]),R.useEffect(()=>{_.current&&ge.fromTo(_.current,{opacity:0,scale:.98},{opacity:1,scale:1,duration:.5,ease:"power2.out"})},[]);const w=x=>{e&&t&&(m({lat:x.lat,lng:x.lng}),t({lat:x.lat,lng:x.lng}))},C=x=>{},S=x=>{u(x),r(`/report/${x.id}`)},b=c||v;return f.jsxs("div",{ref:_,className:"w-full h-full relative",children:[f.jsxs(cM,{center:[b.lat,b.lng],zoom:k,className:"w-full h-full",zoomControl:!1,children:[f.jsx(hM,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(vM,{onMapClick:w,onBoundsChange:C}),c&&f.jsx(Gp,{position:[c.lat,c.lng],icon:gM,children:f.jsx(qp,{children:f.jsx("div",{className:"text-center p-2",children:f.jsx("p",{className:"font-semibold text-gray-900",children:"Your Location"})})})}),e&&p&&f.jsx(Gp,{position:[p.lat,p.lng],icon:tx("medium"),children:f.jsx(qp,{children:f.jsxs("div",{className:"text-center p-2",children:[f.jsx("p",{className:"font-semibold text-gray-900",children:"Selected Location"}),f.jsxs("p",{className:"text-sm text-gray-500",children:[p.lat.toFixed(6),", ",p.lng.toFixed(6)]})]})})}),!e&&i.map(x=>{var E;return f.jsx(Gp,{position:[x.latitude,x.longitude],icon:tx(x.priority),eventHandlers:{click:()=>S(x)},children:f.jsx(qp,{children:f.jsxs("div",{className:"p-3 min-w-[200px]",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[x.photo_url&&f.jsx("img",{src:x.photo_url,alt:x.title,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0",onError:P=>P.target.style.display="none"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2 mb-1",children:x.title}),f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x.priority==="urgent"?"bg-red-100 text-red-700":x.priority==="high"?"bg-orange-100 text-orange-700":x.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:x.priority}),f.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x.status==="open"?"bg-blue-100 text-blue-700":x.status==="in_progress"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:(E=x.status)==null?void 0:E.replace("_"," ")})]}),f.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6z"})}),x.vote_count||0]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),x.view_count||0]})]})]})]}),f.jsx("button",{onClick:()=>S(x),className:"w-full mt-3 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:"View Details "})]})})},x.id)}),c&&f.jsx(_M,{location:c})]}),f.jsx("div",{className:"absolute bottom-6 right-6 z-[1000] hidden md:flex flex-col space-y-2",children:f.jsx("button",{onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>{d({lat:x.coords.latitude,lng:x.coords.longitude})},x=>console.log("Error:",x))},className:"w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",title:"Find my location",children:f.jsxs("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),e&&f.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-[1000]",children:f.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm font-medium text-gray-700",children:"Tap on the map to select location"})})]})},yM=()=>f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),wM=()=>f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),xM=()=>f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),bM=({activePage:t,onPageChange:e})=>{const[n,r]=R.useState(!1),[i,o]=R.useState(!1),a=R.useRef(null),u=R.useRef(null),c=R.useRef(null),d=[{id:"reports",icon:yM,label:"Reports",tooltip:"Community Reports"},{id:"chat",icon:wM,label:"Chat",tooltip:"Global Chat"},{id:"profile",icon:xM,label:"Profile",tooltip:"My Account"}];R.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]);const p=()=>{c.current&&clearTimeout(c.current),r(!0),a.current&&ge.to(a.current,{x:0,duration:.3,ease:"power2.out"})},m=()=>{c.current=setTimeout(()=>{r(!1),a.current&&ge.to(a.current,{x:-60,duration:.3,ease:"power2.in"})},200)},_=v=>{e(t===v?null:v)};return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:u,className:"fixed left-0 top-0 bottom-0 w-4 z-[100]",onMouseEnter:p}),f.jsx("div",{ref:a,className:"fixed left-0 top-1/2 -translate-y-1/2 z-[99] transform -translate-x-[60px]",onMouseEnter:p,onMouseLeave:m,children:f.jsx("div",{className:"sidebar-glass rounded-r-2xl p-2 flex flex-col gap-2",children:d.map(v=>{const k=v.icon,w=t===v.id;return f.jsxs("button",{onClick:()=>_(v.id),className:`sidebar-item group relative ${w?"active":""}`,title:v.tooltip,children:[f.jsx("div",{className:`sidebar-icon ${w?"text-white":"text-gray-600"}`,children:f.jsx(k,{})}),f.jsx("div",{className:"sidebar-tooltip",children:v.tooltip})]},v.id)})})})]})},kM=[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"resolved",label:"Resolved"}],SM=[{value:"all",label:"All Categories"},{value:"pothole",label:"Pothole"},{value:"trash",label:"Trash/Garbage"},{value:"streetlight",label:"Streetlight"},{value:"hazard",label:"Safety Hazard"},{value:"graffiti",label:"Graffiti"},{value:"road_damage",label:"Road Damage"},{value:"other",label:"Other"}],TM=[{value:"all",label:"All Priorities"},{value:"urgent",label:"Urgent"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],Yp=[{value:"pothole",label:"Pothole",icon:"",description:"Road surface damage"},{value:"trash",label:"Trash/Garbage",icon:"",description:"Overflowing bins or litter"},{value:"streetlight",label:"Streetlight",icon:"",description:"Broken or flickering lights"},{value:"hazard",label:"Safety Hazard",icon:"",description:"Dangerous conditions"},{value:"graffiti",label:"Graffiti",icon:"",description:"Vandalism or tagging"},{value:"road_damage",label:"Road Damage",icon:"",description:"Cracks, sinkholes, etc."},{value:"other",label:"Other",icon:"",description:"Other civic issues"}],nx=[{value:"low",label:"Low",color:"bg-green-100 text-green-800",description:"Minor issue"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800",description:"Should be addressed"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800",description:"Needs attention soon"},{value:"urgent",label:"Urgent",color:"bg-red-100 text-red-800",description:"Safety risk!"}],EM=({isOpen:t,onClose:e})=>{var j,X,ae;const n=eo(),{reports:r,filters:i,setFilters:o,isLoading:a,loadVotedReports:u,fetchReports:c,subscribeToUpdates:d}=g_(),{user:p,isAuthenticated:m}=Sl(),[_,v]=R.useState("feed"),[k,w]=R.useState(!1),[C,S]=R.useState(1),[b,x]=R.useState(!1),[E,P]=R.useState({title:"",description:"",category:"",priority:"medium",latitude:null,longitude:null,address:"",photo:null,photoPreview:null}),[N,O]=R.useState({}),I=R.useRef(null),D=R.useRef(null),B=R.useRef(null);R.useEffect(()=>{I.current&&t&&ge.fromTo(I.current,{opacity:0,x:-50},{opacity:1,x:0,duration:.4,ease:"power2.out"})},[t]),R.useEffect(()=>{if(t)return c(),u(),B.current=d(),()=>{B.current&&B.current.unsubscribe()}},[t]),R.useEffect(()=>{_==="create"&&(async()=>{try{const K=await fM();$({lat:K.lat,lng:K.lng})}catch(K){console.log("Location error:",K.message)}})()},[_]);const W=(V,K)=>{o({[V]:K})},$=async V=>{P(K=>({...K,latitude:V.lat,longitude:V.lng}));try{const K=await pM(V.lat,V.lng);P(le=>({...le,address:K.formattedAddress}))}catch(K){console.error("Reverse geocoding error:",K)}},ne=async V=>{var le;const K=(le=V.target.files)==null?void 0:le[0];if(K){if(!K.type.startsWith("image/")){rt.error("Please select an image file");return}if(K.size>5*1024*1024){rt.error("Image must be less than 5MB");return}try{const se=await h4(K),be=new FileReader;be.onloadend=()=>{P(_t=>({..._t,photo:se,photoPreview:be.result}))},be.readAsDataURL(se);const $e=await d4(K);$e&&(rt.success("Location extracted from photo"),$($e))}catch(se){console.error("Photo processing error:",se),rt.error("Error processing photo")}}},Y=V=>{const K={};return V===1&&(E.photo||(K.photo="Photo is required"),(!E.latitude||!E.longitude)&&(K.location="Location is required")),V===2&&(E.title.trim()||(K.title="Title is required"),E.category||(K.category="Category is required")),O(K),Object.keys(K).length===0},de=()=>{Y(C)&&C<3&&S(C+1)},G=()=>{C>1&&S(C-1)},ee=async()=>{if(Y(2)){x(!0);try{const V={title:E.title.trim(),description:E.description.trim()||null,category:E.category,priority:E.priority,latitude:E.latitude,longitude:E.longitude,address:E.address,created_by:(p==null?void 0:p.id)||null},K=await mA(V,E.photo);rt.success("Report submitted successfully!"),P({title:"",description:"",category:"",priority:"medium",latitude:null,longitude:null,address:"",photo:null,photoPreview:null}),S(1),v("feed"),c()}catch(V){console.error("Submit error:",V),rt.error(V.message||"Failed to submit report")}finally{x(!1)}}},M=()=>{P({title:"",description:"",category:"",priority:"medium",latitude:null,longitude:null,address:"",photo:null,photoPreview:null}),S(1),O({})},Z={total:r.length,open:r.filter(V=>V.status==="open").length,inProgress:r.filter(V=>V.status==="in_progress").length,urgent:r.filter(V=>V.priority==="urgent").length};return t?f.jsxs("div",{ref:I,className:"reports-panel-container flex flex-col",children:[f.jsxs("div",{className:"p-4 pb-0",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-lg shadow-orange-500/20",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Reports"}),f.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[Z.total," community reports"]})]})]}),f.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition-colors mt-0.5",children:f.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex bg-gray-100/80 rounded-xl p-1.5 mb-4",children:[f.jsx("button",{onClick:()=>{v("feed"),M()},className:`flex-1 py-2.5 px-4 rounded-lg text-sm font-semibold transition-all ${_==="feed"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Feed"]})}),f.jsx("button",{onClick:()=>v("create"),className:`flex-1 py-2.5 px-4 rounded-lg text-sm font-semibold transition-all ${_==="create"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:f.jsxs("span",{className:`flex items-center justify-center gap-2 ${_==="create"?"":"text-blue-600"}`,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Report Issue"]})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:_==="feed"?f.jsxs("div",{className:"px-4 pb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 -mx-1 px-1",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-blue-50 rounded-xl text-sm whitespace-nowrap border border-blue-100",children:[f.jsx("span",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"}),f.jsxs("span",{className:"text-blue-700 font-semibold",children:[Z.open," Open"]})]}),f.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-amber-50 rounded-xl text-sm whitespace-nowrap border border-amber-100",children:[f.jsx("span",{className:"w-2.5 h-2.5 bg-amber-500 rounded-full"}),f.jsxs("span",{className:"text-amber-700 font-semibold",children:[Z.inProgress," In Progress"]})]}),Z.urgent>0&&f.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2 bg-red-50 rounded-xl text-sm whitespace-nowrap border border-red-100 animate-pulse",children:[f.jsx("span",{className:"w-2.5 h-2.5 bg-red-500 rounded-full"}),f.jsxs("span",{className:"text-red-700 font-semibold",children:[Z.urgent," Urgent"]})]})]}),f.jsxs("button",{onClick:()=>w(!k),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border mb-4 transition-all ${k?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300"}`,children:[f.jsxs("div",{className:"flex items-center gap-2.5",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),f.jsx("span",{className:"font-medium",children:"Filters"})]}),f.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${k?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&f.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-gray-50/80 rounded-xl border border-gray-100",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Status"}),f.jsx("select",{value:i.status,onChange:V=>W("status",V.target.value),className:"w-full px-3.5 py-2.5 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:kM.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Category"}),f.jsx("select",{value:i.category,onChange:V=>W("category",V.target.value),className:"w-full px-3.5 py-2.5 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:SM.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Priority"}),f.jsx("select",{value:i.priority,onChange:V=>W("priority",V.target.value),className:"w-full px-3.5 py-2.5 bg-white border border-gray-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:TM.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsx("button",{onClick:()=>{o({status:"all",category:"all",priority:"all"}),c({status:"all",category:"all",priority:"all"})},className:"w-full py-2.5 text-sm text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-xl font-semibold transition-colors",children:"Clear All Filters"})]}),a?f.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(V=>f.jsx("div",{className:"report-card-mini animate-pulse",children:f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-200"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]})},V))}):r.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[f.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsxs("p",{className:"text-center",children:["No reports found.",f.jsx("br",{}),"Be the first to report an issue!"]})]}):f.jsx("div",{className:"space-y-3",children:r.map(V=>f.jsx("div",{onClick:()=>n(`/report/${V.id}`),className:"report-card-mini cursor-pointer group",children:f.jsxs("div",{className:"flex gap-3.5",children:[f.jsx("div",{className:"w-[88px] h-[88px] rounded-xl overflow-hidden flex-shrink-0 bg-gray-100 shadow-sm",children:V.photo_url?f.jsx("img",{src:V.photo_url,alt:V.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:K=>{K.target.onerror=null,K.target.style.display="none",K.target.parentElement.innerHTML='<div class="w-full h-full flex items-center justify-center text-2xl bg-gray-50"></div>'}}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl bg-gray-50",children:""})}),f.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[f.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-1 group-hover:text-primary-600 transition-colors",children:V.title}),f.jsx("span",{className:`badge text-xs flex-shrink-0 ${r_(V.status)}`,children:V.status.replace("_"," ")})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:`badge text-xs ${vS(V.priority)}`,children:V.priority}),f.jsx("span",{className:"text-xs text-gray-500 font-medium",children:n_(V.category)})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"})}),f.jsx("span",{className:"font-medium",children:V.vote_count})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.jsx("span",{className:"font-medium",children:V.view_count})]})]}),f.jsx("span",{className:"font-medium",children:Id(V.created_at)})]})]})]})},V.id))})]}):f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2",children:[f.jsxs("span",{children:["Step ",C," of 3"]}),f.jsxs("span",{children:[Math.round(C/3*100),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:f.jsx("div",{className:"bg-primary-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${C/3*100}%`}})})]}),C===1&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{onClick:()=>{var V;return(V=D.current)==null?void 0:V.click()},className:`photo-preview-compact ${E.photoPreview?"has-image":""} ${N.photo?"border-red-300":""}`,children:[E.photoPreview?f.jsx("img",{src:E.photoPreview,alt:"Preview",className:"w-full h-full object-cover"}):f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"w-10 h-10 mx-auto text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Tap to capture photo"})]}),f.jsx("input",{ref:D,type:"file",accept:"image/*",capture:"environment",onChange:ne,className:"hidden"})]}),N.photo&&f.jsx("p",{className:"text-red-500 text-sm",children:N.photo}),f.jsxs("div",{className:"bg-white rounded-xl p-3",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:" Select Location"}),f.jsx("div",{className:`h-40 rounded-xl overflow-hidden ${N.location?"ring-2 ring-red-300":""}`,children:f.jsx(QS,{selectionMode:!0,onLocationSelect:$,initialLocation:E.latitude&&E.longitude?{lat:E.latitude,lng:E.longitude}:null})}),E.address&&f.jsx("div",{className:"mt-2 p-2 bg-green-50 rounded-lg",children:f.jsx("p",{className:"text-xs text-green-700",children:E.address})}),N.location&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.location})]})]}),C===2&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),f.jsx("input",{type:"text",value:E.title,onChange:V=>P({...E,title:V.target.value}),placeholder:"Brief description",className:`input text-sm ${N.title?"input-error":""}`,maxLength:100}),N.title&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.title})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:Yp.map(V=>f.jsxs("button",{onClick:()=>P({...E,category:V.value}),className:`p-2 rounded-xl border-2 text-left transition-all ${E.category===V.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[f.jsx("span",{className:"text-lg",children:V.icon}),f.jsx("p",{className:"font-medium text-gray-900 text-xs mt-0.5",children:V.label})]},V.value))}),N.category&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.category})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:nx.map(V=>f.jsx("button",{onClick:()=>P({...E,priority:V.value}),className:`p-2 rounded-xl border-2 text-center transition-all ${E.priority===V.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:f.jsx("span",{className:`badge text-xs ${V.color}`,children:V.label})},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details (optional)"}),f.jsx("textarea",{value:E.description,onChange:V=>P({...E,description:V.target.value}),placeholder:"Additional details...",rows:3,className:"input text-sm resize-none",maxLength:500})]})]}),C===3&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-xl overflow-hidden",children:[E.photoPreview&&f.jsxs("div",{className:"h-32 relative",children:[f.jsx("img",{src:E.photoPreview,alt:"Preview",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute top-2 left-2",children:f.jsx("span",{className:`badge text-xs ${(j=nx.find(V=>V.value===E.priority))==null?void 0:j.color}`,children:E.priority})})]}),f.jsxs("div",{className:"p-3",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:E.title}),f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-2",children:[f.jsx("span",{children:(X=Yp.find(V=>V.value===E.category))==null?void 0:X.icon}),f.jsx("span",{children:(ae=Yp.find(V=>V.value===E.category))==null?void 0:ae.label})]}),E.description&&f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.description}),f.jsx("p",{className:"text-xs text-gray-400",children:E.address})]})]}),!m&&f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:f.jsx("p",{className:"text-sm text-blue-700",children:"Submitting anonymously. Sign in to track your reports."})})]}),f.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[f.jsx("button",{onClick:C===1?()=>v("feed"):G,className:"btn-secondary text-sm py-2 px-4",children:C===1?"Cancel":"Back"}),C<3?f.jsx("button",{onClick:de,className:"btn-primary text-sm py-2 px-4",children:"Continue"}):f.jsx("button",{onClick:ee,disabled:b,className:"btn-primary text-sm py-2 px-4",children:b?f.jsxs("span",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),f.jsx("span",{children:"Submitting..."})]}):"Submit Report"})]})]})})]}):null};let _o=[],rx=0;const CM=1e4,PM=(t,e=5e3)=>Promise.race([t,new Promise((n,r)=>setTimeout(()=>r(new Error("Request timeout")),e))]),jM=async(t=50,e=null,n=!1)=>{if(!n&&!e&&_o.length>0&&Date.now()-rx<CM)return _o;try{let r=Fe.from("global_chat").select("id, user_id, username, content, created_at").order("created_at",{ascending:!1}).limit(t);e&&(r=r.lt("created_at",e));const{data:i,error:o}=await PM(r,5e3);if(o)return console.error("Chat fetch error:",o),_o.length>0?_o:[];const a=(i==null?void 0:i.reverse())||[];return e||(_o=a,rx=Date.now()),a}catch(r){return console.error("Chat service error:",r),_o.length>0?_o:[]}},LM=async(t,e,n="Anonymous")=>{if(!e||e.trim().length===0)throw new Error("Message cannot be empty");if(e.length>500)throw new Error("Message cannot exceed 500 characters");const{data:r,error:i}=await Fe.from("global_chat").insert({user_id:t,content:e.trim(),username:n}).select("id, user_id, username, content, created_at").single();if(i)throw console.error("Send message error:",i),i;return r},NM=t=>Fe.channel("global-chat").on("postgres_changes",{event:"*",schema:"public",table:"global_chat"},e=>{t(e)}).subscribe(),RM=async()=>{try{const t=new Date(Date.now()-3e5).toISOString(),{count:e,error:n}=await Fe.from("global_chat").select("user_id",{count:"exact",head:!0}).gte("created_at",t);return n?0:e||0}catch{return 0}},OM=async()=>{try{const{count:t,error:e}=await Fe.from("global_chat").select("*",{count:"exact",head:!0});return e?0:t||0}catch{return 0}},AM=({isOpen:t,onClose:e})=>{const{user:n,profile:r,isAuthenticated:i,signIn:o}=Sl(),[a,u]=R.useState([]),[c,d]=R.useState(""),[p,m]=R.useState(!0),[_,v]=R.useState(!1),[k,w]=R.useState({totalMessages:0,activeUsers:0}),[C,S]=R.useState(null),b=R.useRef(null),x=R.useRef(null),E=R.useRef(null),P=R.useRef(null);R.useEffect(()=>{x.current&&t&&ge.fromTo(x.current,{opacity:0,x:-50},{opacity:1,x:0,duration:.4,ease:"power2.out"})},[t]),R.useEffect(()=>{if(t)return N(),O(),P.current=NM(W=>{W.eventType==="INSERT"?(u($=>[...$,W.new]),I()):W.eventType==="DELETE"&&u($=>$.filter(ne=>ne.id!==W.old.id))}),()=>{P.current&&P.current.unsubscribe()}},[t]),R.useEffect(()=>{I()},[a]);const N=async()=>{m(!0),S(null);try{const W=await jM(50);u(W||[])}catch(W){console.error("Error loading messages:",W),S("Unable to load messages. Try refreshing."),u([])}finally{m(!1)}},O=async()=>{Promise.all([OM().catch(()=>0),RM().catch(()=>0)]).then(([W,$])=>{w({totalMessages:W,activeUsers:$})})},I=()=>{setTimeout(()=>{var W;(W=b.current)==null||W.scrollIntoView({behavior:"smooth"})},100)},D=async W=>{var $;if(W.preventDefault(),!i){rt.error("Please sign in to send messages"),o();return}if(c.trim()){v(!0);try{await LM(n.id,c,(r==null?void 0:r.display_name)||"Anonymous"),d(""),($=E.current)==null||$.focus()}catch(ne){console.error("Error sending message:",ne),rt.error(ne.message||"Failed to send message")}finally{v(!1)}}},B=W=>{const $=new Date(W),Y=new Date-$;return Y<6e4?"now":Y<36e5?`${Math.floor(Y/6e4)}m`:Y<864e5?`${Math.floor(Y/36e5)}h`:$.toLocaleDateString()};return t?f.jsxs("div",{ref:x,className:"chat-panel-container flex flex-col",children:[f.jsxs("div",{className:"chat-header p-4 pb-0",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Community Chat"}),f.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[f.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),k.activeUsers," online"]}),f.jsx("span",{className:"text-sm text-gray-400",children:""}),f.jsxs("span",{className:"text-sm text-gray-500",children:[k.totalMessages," messages"]})]})]})]}),f.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition-colors mt-0.5",children:f.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"border-b border-gray-100 mb-4"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 chat-background",children:[p?f.jsx("div",{className:"flex items-center justify-center h-full",children:f.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Loading messages..."})]})}):C?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[f.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-blue-50 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),f.jsx("p",{className:"text-center font-medium text-gray-700 mb-2",children:"Community Chat"}),f.jsxs("p",{className:"text-center text-sm text-gray-500 mb-4",children:["Chat feature is coming soon!",f.jsx("br",{}),"Stay tuned for real-time discussions."]}),f.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:"Try Again"})]}):a.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[f.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),f.jsx("p",{className:"text-center font-medium text-gray-700",children:"No messages yet"}),f.jsx("p",{className:"text-center text-sm text-gray-500",children:"Be the first to start the conversation!"})]}):a.map(W=>{var Y;const $=(n==null?void 0:n.id)===W.user_id,ne=((Y=W.profiles)==null?void 0:Y.display_name)||W.username||"Anonymous";return f.jsx("div",{className:`flex ${$?"justify-end":"justify-start"} mb-3`,children:f.jsxs("div",{className:`${$?"text-right":"text-left"}`,style:{maxWidth:"80%"},children:[!$&&f.jsxs("div",{className:"flex items-center gap-2 mb-1 ml-1",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-xs font-bold",children:ne.charAt(0).toUpperCase()}),f.jsx("span",{className:"text-xs font-medium text-gray-600",children:ne})]}),f.jsx("div",{className:`${$?"chat-bubble-own":"chat-bubble-other"} chat-bubble`,children:f.jsx("span",{className:"text-sm",children:W.content})}),f.jsx("div",{className:`mt-1 ${$?"mr-1":"ml-1"}`,children:f.jsx("span",{className:"text-xs text-gray-400",children:B(W.created_at)})})]})},W.id)}),f.jsx("div",{ref:b})]}),f.jsx("div",{className:"chat-input-container p-3 border-t border-gray-200/50",children:i?f.jsxs("form",{onSubmit:D,className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex-1",children:f.jsx("input",{ref:E,type:"text",value:c,onChange:W=>d(W.target.value),placeholder:"Type a message...",className:"w-full bg-gray-100 md:bg-gray-50 border-0 rounded-full py-3 px-5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 transition-all placeholder-gray-400",maxLength:500,disabled:_})}),f.jsx("button",{type:"submit",disabled:_||!c.trim(),className:"w-11 h-11 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:shadow-none active:scale-95 flex-shrink-0",children:_?f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]}):f.jsx("button",{onClick:o,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold py-3 rounded-2xl hover:shadow-lg hover:shadow-blue-500/25 transition-all active:scale-[0.98]",children:"Sign in to chat"})})]}):null},MM=({isOpen:t,onClose:e})=>{var ne,Y,de;const n=eo(),{user:r,profile:i,isAuthenticated:o,signIn:a,signOut:u,updateProfile:c}=Sl(),[d,p]=R.useState([]),[m,_]=R.useState(!1),[v,k]=R.useState("reports"),[w,C]=R.useState(!1),[S,b]=R.useState(""),[x,E]=R.useState(!1),[P,N]=R.useState(null),O=R.useRef(null),I=R.useRef(!1);R.useEffect(()=>{O.current&&t&&ge.fromTo(O.current,{opacity:0,x:-50},{opacity:1,x:0,duration:.4,ease:"power2.out"})},[t]),R.useEffect(()=>{if(!t){I.current=!1;return}o&&!I.current?(I.current=!0,D(),b((i==null?void 0:i.display_name)||"")):o||_(!1)},[t,o]),R.useEffect(()=>{i!=null&&i.display_name&&b(i.display_name)},[i]);const D=async()=>{if(r!=null&&r.id){_(!0),N(null);try{const G=await SA(r.id);p(G||[])}catch(G){console.error("Error loading reports:",G),N("Could not load your reports"),p([])}finally{_(!1)}}},B=async()=>{if(!S.trim()){rt.error("Display name cannot be empty");return}E(!0);try{await c({display_name:S.trim()}),C(!1),rt.success("Profile updated successfully")}catch(G){rt.error(G.message||"Failed to update profile")}finally{E(!1)}},W=async()=>{try{await u(),rt.success("Signed out successfully"),e()}catch{rt.error("Failed to sign out")}},$={total:d.length,open:d.filter(G=>G.status==="open").length,resolved:d.filter(G=>G.status==="resolved").length,totalVotes:d.reduce((G,ee)=>G+(ee.vote_count||0),0)};return t?f.jsxs("div",{ref:O,className:"profile-panel-container flex flex-col",children:[f.jsxs("div",{className:"p-4 pb-0",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg shadow-purple-500/20",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Profile"}),f.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Account & Settings"})]})]}),f.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-xl hover:bg-gray-100 transition-colors mt-0.5",children:f.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"border-b border-gray-100 mb-4"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:o?f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:"bg-white rounded-xl p-4 mb-4",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[i!=null&&i.avatar_url?f.jsx("img",{src:i.avatar_url,alt:i.display_name,className:"w-14 h-14 rounded-full object-cover"}):f.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",children:f.jsx("span",{className:"text-xl font-bold text-white",children:((ne=i==null?void 0:i.display_name)==null?void 0:ne.charAt(0).toUpperCase())||((Y=r==null?void 0:r.email)==null?void 0:Y.charAt(0).toUpperCase())})}),f.jsx("div",{className:"flex-1",children:w?f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",value:S,onChange:G=>b(G.target.value),className:"input text-sm py-2",placeholder:"Display name",maxLength:50}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:B,disabled:x,className:"btn-primary text-xs py-1.5 px-3",children:x?"Saving...":"Save"}),f.jsx("button",{onClick:()=>{C(!1),b((i==null?void 0:i.display_name)||"")},className:"btn-secondary text-xs py-1.5 px-3",children:"Cancel"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h3",{className:"font-bold text-gray-900",children:(i==null?void 0:i.display_name)||"User"}),f.jsx("button",{onClick:()=>C(!0),className:"p-1 text-gray-400 hover:text-gray-600",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),f.jsx("p",{className:"text-sm text-gray-500",children:r==null?void 0:r.email}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Member since ",new Date(i==null?void 0:i.created_at).toLocaleDateString()]})]})})]})}),f.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[f.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xl font-bold text-primary-600",children:$.total}),f.jsx("p",{className:"text-xs text-gray-500",children:"Reports"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xl font-bold text-green-600",children:$.resolved}),f.jsx("p",{className:"text-xs text-gray-500",children:"Resolved"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xl font-bold text-blue-600",children:$.open}),f.jsx("p",{className:"text-xs text-gray-500",children:"Open"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-3 text-center",children:[f.jsx("p",{className:"text-xl font-bold text-gray-700",children:$.totalVotes}),f.jsx("p",{className:"text-xs text-gray-500",children:"Votes"})]})]}),f.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1 mb-4",children:[f.jsx("button",{onClick:()=>k("reports"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${v==="reports"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"My Reports"}),f.jsx("button",{onClick:()=>k("settings"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${v==="settings"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Settings"})]}),v==="reports"?f.jsx("div",{className:"space-y-3",children:m?f.jsx("div",{className:"space-y-3",children:[1,2,3].map(G=>f.jsx("div",{className:"report-card-mini animate-pulse",children:f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},G))}):P?f.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[f.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-gray-500 text-sm mb-3",children:P}),f.jsx("button",{onClick:D,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Try Again"})]}):d.length===0?f.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[f.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-300 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("p",{className:"text-gray-500 text-sm",children:"No reports yet"}),f.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Your submitted reports will appear here"})]}):d.map(G=>f.jsx("div",{onClick:()=>n(`/report/${G.id}`),className:"report-card-mini cursor-pointer",children:f.jsxs("div",{className:"flex space-x-3",children:[G.photo_url?f.jsx("img",{src:G.photo_url,alt:G.title,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0",onError:ee=>{ee.target.onerror=null,ee.target.src="https://via.placeholder.com/64?text="}}):f.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-2xl",children:""})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-start justify-between mb-1",children:[f.jsx("h4",{className:"font-medium text-gray-900 text-sm line-clamp-1",children:G.title}),f.jsx("span",{className:`badge text-xs ${r_(G.status)}`,children:G.status.replace("_"," ")})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[f.jsx("span",{children:n_(G.category)}),f.jsx("span",{children:Id(G.created_at)})]})]})]})},G.id))}):f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"bg-white rounded-xl p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Account"}),f.jsxs("div",{className:"space-y-3 text-sm",children:[f.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[f.jsx("span",{className:"text-gray-500",children:"Email"}),f.jsx("span",{className:"text-gray-900",children:r==null?void 0:r.email})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsx("span",{className:"text-gray-500",children:"Account ID"}),f.jsxs("span",{className:"text-gray-900 font-mono text-xs",children:[(de=r==null?void 0:r.id)==null?void 0:de.slice(0,8),"..."]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4",children:[f.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Notifications"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-gray-600 text-sm",children:"Push Notifications"}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),f.jsx("div",{className:"w-10 h-5 bg-gray-200 rounded-full peer peer-checked:after:translate-x-5 peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-primary-600"})]})]})]}),f.jsx("button",{onClick:W,className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-semibold text-sm hover:bg-red-100 transition-colors",children:"Sign Out"})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center mb-6",children:f.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Welcome to Road Patrol"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Sign in to track your reports, earn reputation, and join the community."}),f.jsx("button",{onClick:a,className:"btn-primary w-full",children:f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Sign in with Google"})]})})]})})]}):null},IM=()=>{const t=R.useRef(null);return R.useEffect(()=>{ge.fromTo(t.current,{y:-50,opacity:0},{y:0,opacity:1,duration:.3,ease:"power2.out"})},[]),f.jsx("div",{ref:t,className:"fixed top-0 left-0 right-0 bg-amber-500 text-white text-center py-2 text-sm font-medium z-[9999] safe-area-top",children:f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),f.jsx("span",{children:"You're offline. Some features may be limited."})]})})},zM=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(null),i=R.useRef(null);R.useEffect(()=>{if(localStorage.getItem("pwa_prompt_dismissed"))return;const c=d=>{d.preventDefault(),r(d),setTimeout(()=>e(!0),2e3)};return window.addEventListener("beforeinstallprompt",c),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]),R.useEffect(()=>{t&&i.current&&ge.fromTo(i.current,{y:100,opacity:0,scale:.95},{y:0,opacity:1,scale:1,duration:.5,ease:"back.out(1.5)"})},[t]);const o=async()=>{if(!n)return;n.prompt();const{outcome:u}=await n.userChoice;u==="accepted"&&console.log("PWA installed"),r(null),e(!1)},a=()=>{localStorage.setItem("pwa_prompt_dismissed","true"),ge.to(i.current,{y:100,opacity:0,scale:.95,duration:.3,ease:"power2.in",onComplete:()=>e(!1)})};return t?f.jsx("div",{className:"fixed bottom-20 md:bottom-6 left-4 right-4 md:left-auto md:right-6 z-[9998] safe-area-bottom",children:f.jsxs("div",{ref:i,className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-sm mx-auto md:mx-0 border border-gray-100",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[f.jsx("div",{className:"h-1 bg-gradient-to-r from-primary-500 via-blue-500 to-indigo-500"}),f.jsxs("div",{className:"p-5",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg shadow-primary-500/30",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-900 text-base",children:"Install Road Patrol"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Get the full experience"})]})]}),f.jsx("button",{onClick:a,className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors -mr-1 -mt-1",children:f.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-green-50 text-green-700 text-xs font-medium rounded-full",children:[f.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Offline Access"]}),f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-50 text-blue-700 text-xs font-medium rounded-full",children:[f.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Quick Launch"]}),f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-purple-50 text-purple-700 text-xs font-medium rounded-full",children:[f.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Notifications"]})]}),f.jsxs("button",{onClick:o,className:"w-full py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-semibold text-sm hover:from-primary-700 hover:to-primary-800 transition-all shadow-lg shadow-primary-500/25 active:scale-[0.98] flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Install App"]})]})]})}):null},DM=()=>{const[t,e]=R.useState(navigator.onLine);return R.useEffect(()=>{const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),t};function BM(){const t=eo(),{id:e}=Sb(),n=()=>{t("/app")};return f.jsx("div",{className:"fixed inset-0 z-[200] bg-black/60 backdrop-blur-sm overflow-y-auto",onClick:n,children:f.jsx("div",{className:"min-h-screen flex items-start justify-center py-4 px-4 md:py-8",children:f.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden",onClick:r=>r.stopPropagation(),children:f.jsx(m4,{isOverlay:!0,onClose:n})})})})}function FM(){const{initialize:t,isLoading:e}=Sl(),{fetchReports:n,subscribeToUpdates:r}=g_(),i=DM(),o=R.useRef(null),a=af(),[u,c]=R.useState(null);R.useEffect(()=>{t(),n();const v=r();return()=>{v&&v.unsubscribe()}},[t]),R.useEffect(()=>{o.current&&!e&&ge.fromTo(o.current,{opacity:0},{opacity:1,duration:.5,ease:"power2.out"})},[e]);const d=v=>{c(v)},p=()=>{c(null)};if(e)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-blue-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"spinner mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Loading Road Patrol..."})]})});const m=window.innerWidth<768,_=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;if(!m&&!_){if(a.pathname==="/landing"||a.pathname==="/")return f.jsx(W4,{});if(a.pathname==="/features")return f.jsx(V4,{});if(a.pathname==="/about")return f.jsx(G4,{});if(a.pathname==="/developer")return f.jsx(Y4,{})}return a.pathname==="/login"?f.jsx(jw,{}):f.jsxs("div",{ref:o,className:"h-screen w-screen overflow-hidden relative",children:[!i&&f.jsx(IM,{}),f.jsx(lj,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#fff",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),f.jsx(zM,{}),f.jsx("div",{className:"absolute inset-0 z-0",children:f.jsx(QS,{})}),f.jsx("div",{className:"absolute top-4 left-4 md:left-16 z-[50] hidden md:block",children:f.jsx("a",{href:"/",className:"text-xl font-bold text-primary-700 tracking-wide hover:text-primary-800 transition-colors cursor-pointer",style:{fontFamily:"'Cinzel', serif"},children:"Road Patrol"})}),f.jsx("div",{className:"absolute top-3 left-3 z-[50] md:hidden",children:f.jsx("div",{className:"glass-brand rounded-xl py-2 px-3.5 shadow-lg",children:f.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent tracking-wide",style:{fontFamily:"'Cinzel', serif"},children:"Road Patrol"})})}),f.jsx("div",{className:"absolute bottom-6 left-4 md:left-16 z-[50] hidden md:block",children:f.jsxs("div",{className:"priority-help-container group",children:[f.jsx("button",{className:"priority-help-btn",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("div",{className:"priority-tooltip",children:[f.jsx("p",{className:"font-semibold text-gray-800 mb-3 text-sm tracking-wide",children:"Priority Levels"}),f.jsxs("div",{className:"space-y-2.5",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-green-400 to-green-600 shadow-sm"}),f.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Low"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-sm"}),f.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 shadow-sm"}),f.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"High"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"w-3 h-3 rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-sm"}),f.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Urgent"})]})]})]})]})}),f.jsx("div",{className:"hidden md:block",children:f.jsx(bM,{activePage:u,onPageChange:d})}),f.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] mobile-nav-glass safe-area-bottom",children:f.jsxs("div",{className:"flex items-center justify-around h-full",children:[f.jsxs("button",{onClick:()=>d(u==="reports"?null:"reports"),className:`mobile-nav-item ${u==="reports"?"active":""}`,children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("span",{className:"mobile-nav-label",children:"Reports"})]}),f.jsxs("button",{onClick:()=>d(u==="chat"?null:"chat"),className:`mobile-nav-item ${u==="chat"?"active":""}`,children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),f.jsx("span",{className:"mobile-nav-label",children:"Chat"})]}),f.jsxs("button",{onClick:()=>d(u==="profile"?null:"profile"),className:`mobile-nav-item ${u==="profile"?"active":""}`,children:[f.jsx("div",{className:"mobile-nav-icon",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("span",{className:"mobile-nav-label",children:"Profile"})]})]})}),f.jsx(EM,{isOpen:u==="reports",onClose:p}),f.jsx(AM,{isOpen:u==="chat",onClose:p}),f.jsx(MM,{isOpen:u==="profile",onClose:p}),f.jsxs(vP,{children:[f.jsx(vs,{path:"/",element:null}),f.jsx(vs,{path:"/landing",element:null}),f.jsx(vs,{path:"/features",element:null}),f.jsx(vs,{path:"/about",element:null}),f.jsx(vs,{path:"/report/:id",element:f.jsx(BM,{})}),f.jsx(vs,{path:"/login",element:f.jsx(jw,{})}),f.jsx(vs,{path:"/app",element:null})]})]})}Kp.createRoot(document.getElementById("root")).render(f.jsx(Ki.StrictMode,{children:f.jsx(wP,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsx(FM,{})})}));export{J2 as c,Ag as g};
